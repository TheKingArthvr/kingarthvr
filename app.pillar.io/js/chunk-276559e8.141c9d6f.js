(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-276559e8"],{"032e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.$apollo.loading?n("Loader",{attrs:{attributeName:"template"}}):e.template?n("div",{staticClass:"flex flex-col"},[n("athlane-page-header",{attrs:{title:e.template.title,showCta:"",ctaText:"Delete",ctaMode:"warning",ctaIcon:"fas fa-trash-alt"},on:{"action-click":function(t){e.showConfirmDeleteModal=!0}}},[[n("div",{staticClass:"flex flex-col space-y-1"},[n("div",{staticClass:"text-sm text-blue-300"},[n("i",{staticClass:"mr-2 fas fa-calendar"}),e._v(" Date Created: "+e._s(e.dateFormatter(e.template.time_created))+" ")]),n("div",{staticClass:"text-sm text-blue-300"},[n("i",{staticClass:"mr-2 fas fa-align-left"}),e._v(" "+e._s(e.template.description)+" ")])])]],2),n("div",{staticClass:"w-full max-w-6xl mx-auto mt-4 bg-white rounded-md shadow"},[n("TiptapView",{staticClass:"p-4",attrs:{body:e.template.body}})],1)],1):n("Empty",{attrs:{message:"No template found."}}),e.showConfirmDeleteModal?n("Modal",{attrs:{open:e.showConfirmDeleteModal},on:{close:function(t){e.showConfirmDeleteModal=!1}}},[n("DeleteTemplate",{attrs:{template:e.template},on:{close:function(t){e.showConfirmDeleteModal=!1}}})],1):e._e()],1)},a=[],l=n("c8d4"),r=n("873b"),o=n("86a9"),d=n("11de"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col w-full max-w-lg px-6 py-6 space-y-6 bg-white shadow-md"},[n("p",{staticClass:"text-gray-700"},[e._v(" Are you sure you want to delete this template? This will retire this contract from all future uses. ")]),n("div",{staticClass:"flex items-center justify-between"},[n("athlane-button",{attrs:{mode:"tertiary",text:"Cancel",icon:"fal fa-times"},on:{click:function(t){return e.$emit("close")}}}),n("athlane-button",{attrs:{type:"button",icon:"fas fa-trash",mode:"warning",text:"Delete Template"},on:{click:e.onDeleteTemplate}})],1)])},c=[],u=n("c964"),m=(n("96cf"),n("6cd3")),f=n.n(m),p={props:{template:Object},methods:{onDeleteTemplate:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$router.push("/legal/templates"),t.next=4,e.$apollo.mutate({mutation:f.a,variables:{id:e.template.id,changes:{retired:!0}}});case 4:e.$notify({type:"success",title:"Success",text:"Template deleted!"}),e.$emit("close"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$notify({type:"error",title:"Error",text:"An error occurred while deleting the template."});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},v=p,k=n("2877"),h=Object(k["a"])(v,s,c,!1,null,null,null),b=h.exports,g=n("fbe3"),w=n.n(g),y=n("b104"),S={props:{templateId:String},components:{Loader:l["a"],Empty:r["a"],TiptapView:o["a"],Modal:d["a"],DeleteTemplate:b},data:function(){return{template:null,selectedId:null,showConfirmDeleteModal:!1}},apollo:{template:{query:w.a,variables:function(){return{template_id:this.templateId}},update:function(e){return e.template[0]}}},methods:{dateFormatter:y["e"]}},N=S,_=Object(k["a"])(N,i,a,!1,null,null,null);t["default"]=_.exports},1869:function(e,t,n){},"6cd3":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateLegalTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NamedType",name:{kind:"Name",value:"legal_template_set_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updated_template"},name:{kind:"Name",value:"update_legal_template"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retired"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:229}};n.loc.source={body:"mutation UpdateLegalTemplate($id: uuid, $changes: legal_template_set_input) {\n  updated_template: update_legal_template(\n    where: { id: { _eq: $id } }\n    _set: $changes\n  ) {\n    returning {\n      id\n      retired\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;i.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!r.has(e)){r.add(e);var t=a[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["UpdateLegalTemplate"]=r(n,"UpdateLegalTemplate")},"86a9":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"tiptap__container"},[n("editor-content",{staticClass:"tiptap__content no-scrollbar",attrs:{editor:e.editor}})],1)},a=[],l=n("d0ff"),r=(n("a9e3"),n("130f"),n("cd42")),o=n("49c2"),d={components:{EditorContent:r["b"]},props:{body:{type:Object},scale:{type:Number,default:1}},data:function(){return{editor:null}},computed:{styleText:function(){return"transform: scale(".concat(this.scale,");")}},mounted:function(){var e;e=this.body&&this.body.html?this.body.html:this.body;var t=this;this.editor=new r["a"]({editable:!1,extensions:Object(l["a"])(Object(o["a"])()),content:e}),setImmediate((function(){var e=t.$refs.container,n=e.querySelector(".ProseMirror");n.style.cssText=t.styleText}))},beforeDestroy:function(){this.editor.destroy()}},s=d,c=(n("a4ad"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,null,null);t["a"]=u.exports},a4ad:function(e,t,n){"use strict";n("1869")},eb80:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Template"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"legal_template"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"retired"},arguments:[],directives:[]}]}}],loc:{start:0,end:98}};n.loc.source={body:"fragment Template on legal_template {\n  id\n  title\n  description\n  body\n  time_created\n  retired\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;i.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!r.has(e)){r.add(e);var t=a[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return r.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["Template"]=r(n,"Template")},fbe3:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTemplateByID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"template_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"template"},name:{kind:"Name",value:"legal_template"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"template_id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Template"},directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}],loc:{start:0,end:253}};i.loc.source={body:'#import "../fragments/User.fragment.gql"\n#import "../fragments/Template.fragment.gql"\nquery GetTemplateByID($template_id: uuid) {\n  template: legal_template(where: { id: { _eq: $template_id } }) {\n    ...Template\n    creator {\n      ...User\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function l(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}i.definitions=i.definitions.concat(l(n("9c6d").definitions)),i.definitions=i.definitions.concat(l(n("eb80").definitions));var o={};function d(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function s(e,t){var n={kind:e.kind,definitions:[d(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var r=l;l=new Set,r.forEach((function(e){if(!a.has(e)){a.add(e);var t=o[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return a.forEach((function(t){var i=d(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}}))})(),e.exports=i,e.exports["GetTemplateByID"]=s(i,"GetTemplateByID")}}]);
//# sourceMappingURL=chunk-276559e8.141c9d6f.js.map