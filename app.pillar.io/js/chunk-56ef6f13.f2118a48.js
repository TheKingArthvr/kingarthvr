(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ef6f13"],{"0d68":function(e,t,n){"use strict";n("d81d"),n("4de4"),n("caad"),n("2532"),n("a15b"),n("9911"),n("b64b");var i=n("b104"),a=n("c225");t["a"]={computed:{requiredSteps:function(){var e,t=this,n=["TWITTER"],r=Object(i["i"])(this.activation.tasks.filter((function(e){return!n.includes(e.channel)})).map((function(e){return e.channel})).filter((function(e){return!t.activation.influencer.socials.some((function(t){return t.channel===e&&t.channel_name}))})).map(i["K"])),o=this.activation.tasks.some((function(e){return n.includes(e.channel)})),s=this.activation.influencer.socials.filter((function(e){return!a["a"].isFalsyOrWhiteSpace(e.connection_id)})).map((function(e){return e.channel}));return o&&n.forEach((function(e){s.includes(e)||r.push("Twitter")})),{payment:{index:1,reminder_type:"ACTIVATION_PAYMENT",incomplete:(this.activation.financial.lumpsum||this.activation.financial.commission)&&!this.activation.influencer.stripe_account_id&&!this.activation.influencer.paypal_account_id,mandatory:!0,text:{brand:"Creator must input payment information.",influencer:"Payment information required."},actor:"influencer",action:function(){return t.$open("/settings/finances")}},shipping_information:{index:2,reminder_type:"ACTIVATION_SHIPPING_INFORMATION",incomplete:(this.activation.financial.lumpsum||this.activation.financial.commission)&&(!this.activation.address||!this.activation.phone),mandatory:!0,text:{brand:"Creator must input shipping address",influencer:"Shipping address required."},actor:"influencer",action:function(){t.modal="address",t.shouldConfirm=!0}},product:{index:3,reminder_type:"ACTIVATION_PRODUCT",incomplete:this.activation.financial.product_offerings.some((function(e){var t,n;return(null===(t=e.product.size_options)||void 0===t?void 0:t.length)&&!e.selected_size||(null===(n=e.product.subtypes)||void 0===n?void 0:n.length)&&!e.selected_color})),mandatory:!0,text:{brand:"Creator must select product.",influencer:"Product selection required."},actor:"influencer",action:function(){return t.modal="product"}},socials:{index:4,reminder_type:"ACTIVATION_SOCIALS",incomplete:r.length,type:"warning",text:{brand:"Creator must connect the following social media account(s): ".concat(r.join(", ")),influencer:"Social media account(s) still required: ".concat(r.join(", "))},mandatory:!0,actor:"influencer",action:function(){return t.$open("/settings/connections")}},shortlink:{index:5,incomplete:!this.activation.link||!this.activation.link.redirect_to,mandatory:!0,text:{brand:"Add a destination URL for your shortlink",influencer:"Pending brand's destination URL for shortlink"},actor:"brand",action:function(){return t.modal="shortlink"}},guidelines:{index:6,reminder_type:"ACTIVATION_GUIDELINES",incomplete:!this.activation.guidelines_reviewed&&this.activation.campaign.guidelines_html,mandatory:!0,text:{brand:"Pending guideline review by creator",influencer:"Review campaign guidelines"},actor:"influencer",action:function(){return t.modal="guidelines"}},contract:{index:7,reminder_type:"ACTIVATION_CONTRACT",incomplete:!(null!==(e=this.activation.legal)&&void 0!==e&&e.time_signed),type:"warning",text:{brand:"Creator must sign the contract",influencer:"Contract signature required."},mandatory:!0,actor:"influencer",action:function(){return t.modal="contract"}},shipping:{index:8,incomplete:this.activation.financial.product_offerings.some((function(e){return!e.tracking_code||!e.shipping_provider})),mandatory:!0,text:{brand:"Update product shipment info.",influencer:"Awaiting brand to send shipment details for product compensation."},actor:"brand",action:function(){return t.modal="product"}},start:{index:9,incomplete:["INVITED","CONFIRMED"].includes(this.activation.status),mandatory:!0,text:{brand:"Formally begin activation.",influencer:"Awaiting brand to formally start activation."},actor:"brand",action:this.onStartActivation}}},hasStepsRemaining:function(){for(var e={overall:!1,beforeBegin:!1},t=0,n=Object.keys(this.requiredSteps);t<n.length;t++){var i=n[t],a=this.requiredSteps[i],r=a.mandatory,o=a.incomplete;r&&o&&(e.overall=!0,"start"!==i&&(e.beforeBegin=!0))}return e}}}},"0f6e":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetActivationByID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLegal"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeContract"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeFinancial"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeTaskFull"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeInfluencerSocials"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeInfluencerInvitation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeTaskAggregate"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeStatusChanges"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"activation"},name:{kind:"Name",value:"campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FullActivation"},directives:[]},{kind:"Field",name:{kind:"Name",value:"is_negotiable"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:554}};i.loc.source={body:'#import "../fragments/FullActivation.fragment.gql"\n\nquery GetActivationByID(\n  $activation_id: uuid,\n  $includeLegal: Boolean! = true,\n  $includeContract: Boolean! = true,\n  $includeFinancial: Boolean! = true,\n  $includeTaskFull: Boolean! = true,\n  $includeInfluencerSocials: Boolean! = true,\n  $includeInfluencerInvitation: Boolean! = true,\n  $includeTaskAggregate: Boolean! = false,\n  $includeStatusChanges: Boolean! = false\n) {\n  activation: campaigns_activation(where: { id: { _eq: $activation_id } }) {\n    ...FullActivation\n    is_negotiable\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n("5701").definitions));var s={};function c(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function l(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=s[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=c(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}}))})(),e.exports=i,e.exports["GetActivationByID"]=l(i,"GetActivationByID")},"163c":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen p-10 center",on:{click:function(t){return e.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full max-w-5xl bg-white shadow-md",on:{click:function(e){e.stopPropagation()}}},[n("athlane-page-header",{attrs:{title:"Shortlink",text:`Direct ${e.$data.$shortDomain} URL to desired destination`,flat:""}}),e.isLoading?n("loader",{attrs:{color:"#4c8bf5"}}):n("div",{staticClass:"flex flex-col p-5 tablet-landscape:px-10"},[n("athlane-field",{staticClass:"w-full",attrs:{label:"Destination",subtext:`Enter the URL where you'd like https://${e.$data.$shortDomain}/${e.redirect_key} to point to`,icon:"fas fa-link",placeholder:"Enter destination url",hideError:""},model:{value:e.redirect_to,callback:function(t){e.redirect_to=t},expression:"redirect_to"}}),n("div",{staticClass:"flex items-center justify-end mt-4"},[n("athlane-button",{staticClass:"w-full",attrs:{mode:"tertiary",text:"Cancel"},on:{click:function(t){return e.$emit("close")}}}),n("athlane-button",{staticClass:"w-full ml-2",attrs:{disabled:!e.redirect_to,text:"Submit"},on:{click:e.onClickSubmit}})],1)],1)],1)])},a=[],r=n("c964"),o=(n("96cf"),n("9911"),n("caad"),n("2532"),n("c3a3")),s=n.n(o),c=n("e43c"),l=n.n(c),d=n("347c"),u={props:{activation:Object},data:function(){return{redirect_to:null,redirect_key:null,isLoading:!1}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,this.activation.link&&this.activation.link.redirect_key){e.next=7;break}return e.next=4,Object(d["a"])();case 4:this.redirect_key=e.sent,e.next=8;break;case 7:this.redirect_key=this.activation.link.redirect_key;case 8:this.isLoading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{onClickSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.redirect_to){e.next=4;break}return e.abrupt("return");case 4:this.redirect_to&&!this.redirect_to.includes("http")&&(this.redirect_to="https://".concat(this.redirect_to));case 5:return e.prev=5,e.next=8,this.$apollo.mutate({mutation:s.a,variables:{redirect_key:this.redirect_key,target_url:this.redirect_to}});case 8:return e.next=10,this.$apollo.mutate({mutation:l.a,variables:{id:this.activation.id,changes:{shortlink:this.redirect_key}}});case 10:this.$notify({type:"success",title:"Success",text:"Your shortlink destination was added successfully!"}),this.$emit("close"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$notify({type:"error",title:"Error",text:"An error occurred while updating your shortlink."});case 17:case"end":return e.stop()}}),e,this,[[5,14]])})));function t(){return e.apply(this,arguments)}return t}()}},p=u,m=n("2877"),f=Object(m["a"])(p,i,a,!1,null,null,null);t["a"]=f.exports},1768:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateProductSelection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_financial_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"product_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_financial_product_set_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"selection"},name:{kind:"Name",value:"update_campaigns_activation_financial_product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"activation_financial_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"activation_financial_id"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"product_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"product_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activation_financial_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected_color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipping_provider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tracking_code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:539}};n.loc.source={body:"mutation UpdateProductSelection(\n  $activation_financial_id: uuid!\n  $product_id: uuid!\n  $changes: campaigns_activation_financial_product_set_input\n) {\n  selection: update_campaigns_activation_financial_product(\n    where: {\n      activation_financial_id: { _eq: $activation_financial_id }\n      product_id: { _eq: $product_id }\n    }\n    _set: $changes\n  ) {\n    affected_rows\n    returning {\n      activation_financial_id\n      product_id\n      selected_color\n      selected_size\n      shipping_provider\n      tracking_code\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["UpdateProductSelection"]=o(n,"UpdateProductSelection")},"1f01":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-white shadow-md",style:{minWidth:"30rem"}},[n("athlane-page-header",{attrs:{title:"Address"}}),n("div",{staticClass:"px-5 pb-5 tablet-landscape:px-10"},[n("div",{staticClass:"flex flex-col space-y-4"},[n("athlane-field",{attrs:{label:"Name",value:e.name,disabled:""}}),n("athlane-field",{attrs:{label:"Email",value:e.email,disabled:""}}),n("athlane-field",{attrs:{label:"Phone Number",value:e.phone,disabled:!e.confirmationRequest},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("text-area",{attrs:{label:"Address",value:e.address,disabled:!e.confirmationRequest},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),n("div",{staticClass:"flex items-center justify-between"},[n("athlane-button",{attrs:{mode:"tertiary",text:"Close",icon:"fal fa-times"},on:{click:function(t){return e.$emit("close")}}}),e.confirmationRequest?n("athlane-button",{attrs:{text:"Confirm"},on:{click:function(t){return e.confirmAddress(e.address,e.phone)}}}):n("athlane-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.address,expression:"address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){return e.isAddressCopied=!0},expression:"() => (isAddressCopied = true)",arg:"success"}],attrs:{text:"Copy to Clipboard",icon:{"fas fa-clipboard":!e.isAddressCopied,"fal fa-check":e.isAddressCopied}}})],1)],1)])],1)},a=[],r=n("f5a3"),o={props:{name:{type:String,required:!1},email:{type:String,required:!1},phone:{type:String,required:!0},address:{type:String,required:!0},confirmationRequest:{type:Boolean,required:!1},confirmAddress:{type:Function,required:!1}},components:{TextArea:r["a"]},data:function(){return{isAddressCopied:!1}}},s=o,c=n("2877"),l=Object(c["a"])(s,i,a,!1,null,null,null);t["a"]=l.exports},3432:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"field"}},[e._v(" "+e._s(e.label)+" "),e.required?n("span",{staticClass:"ml-1 text-yellow-500"},[e._v(" * ")]):e._e()]),n("div",{staticClass:"mt-1"},[n("input",e._b({staticClass:"box-border block w-full min-w-0 px-4 py-3 placeholder-gray-400 transition-colors duration-100 ease-in-out border border-gray-200 rounded-lg shadow-sm appearance-none resize-none focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:focus:border-indigo-300 dark:bg-gray-800 dark:text-white",class:{"border-red-500":e.$props.error,"shadow-sm":!e.$props.flat},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput,change:e.onChange}},"input",e.$attrs,!1))])])},a=[],r=(n("a9e3"),n("ac1f"),n("5319"),n("2b0e")),o=r["default"].extend({inheritAttrs:!1,props:{error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},label:{type:String,required:!1},subtext:{type:String,required:!1},value:{type:Number,default:0},required:{type:Boolean,default:!1},formatFunction:{type:Function,default:function(e){return String(e)}}},data:function(){return{active:!1}},updated:function(){this.active||(this.$props.value=this.$props.formatFunction(this.$props.value))},computed:{errorMessage:function(){var e;return null!==(e=this.$props.error)&&void 0!==e?e:"Error: "}},methods:{$getFormattedValue:function(e){return e.target.value?parseFloat(e.target.value.replace(/[^\d.]/g,"")):null},onInput:function(e){var t=this.$getFormattedValue(e);this.$emit("input",t)},onChange:function(e){var t=this.$getFormattedValue(e);this.$emit("change",t)},onBlur:function(e){var t=this.$getFormattedValue(e);this.active=!1,this.$emit("blur",t),this.$props.value=t,t&&(this.$props.value=this.$props.formatFunction(t))},onFocus:function(e){var t=this.$getFormattedValue(e);this.$props.value=t,this.active=!0,this.$emit("focus",t)}}}),s=o,c=(n("ad30"),n("2877")),l=Object(c["a"])(s,i,a,!1,null,null,null);t["a"]=l.exports},"347c":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var i,a=n("e5e9"),r=n("c964"),o=(n("96cf"),n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("d3b7"),n("25f0"),n("159b"),n("d28b"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("5184")),s=n("c50a"),c=n("d3a1"),l=n("c3a3"),d=n.n(l),u=[{id:"spark",title:"Spark",icon:"fas fa-burn text-2xl",duration:7,task_data:[{channel:"TWITCH",variant:"TITLE",count:1,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"flare",title:"Flare",icon:"fas fa-fire text-3xl",duration:14,task_data:[{channel:"TWITCH",variant:"TITLE",count:5,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"blaze",title:"Blaze",icon:"fad fa-fire-alt text-4xl",duration:30,task_data:[{channel:"TWITCH",variant:"TITLE",count:15,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:3,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"VIDEO",count:1,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"TITLE",count:1,condition:"{% company %}"}]}],p=function(e){var t=e.shortlink,n=e.condition,i=/{% link %}|{%link%}|{%link %}|{% link%}/;return{condition:n.replace(i,"https://".concat("s.pillar.io","/").concat(t))}},m=function(e){var t=e.condition,n=e.campaign,i=/{% company %}/,a=n.organization.name.normalize("NFD").replace(/[^a-zA-Z0-9]/g,"");return t.replace(i,a)},f=function(e){var t=e.shortlink,n=e.condition,i=e.campaign,a=m({condition:n,campaign:i}),r=p({shortlink:t,condition:a});return r},v=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Math.random().toString(36).substring(4),e.next=3,c["a"].query({query:Object(o["a"])(i||(i=Object(a["a"])(["\n\t\t\tquery CheckShortlinkExists($redirect_key: String) {\n\t\t\t\tattribution_shortlink(where: { redirect_key: { _eq: $redirect_key } }) {\n\t\t\t\t\tredirect_key\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{redirect_key:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.attribution_shortlink.length?v():t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.shortlink,i=t.campaign,a=t.influencerId,r=i.target_url,i.url_parameters.forEach((function(e,t){var n=e.name,i=e.value;r+=t>0?"&":"?",r+=encodeURI("".concat(n,"=").concat("{{ influencer_id }}"===i?a:i))})),e.next=5,c["a"].mutate({mutation:d.a,variables:{redirect_key:n,target_url:r}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r,o,c,l,d,u,p,m,g,b,y,k,_,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.influencerId,i=t.tasks,a=t.activation_id,r=t.campaign,o=[],e.next=4,v();case 4:for(c=e.sent,l=!0,d=!1,u=void 0,e.prev=8,p=i[Symbol.iterator]();!(l=(m=p.next()).done);l=!0)g=m.value,b=g.channel,y=g.variant,k=g.count,_=f({shortlink:c,condition:g.condition,campaign:r}),x=_.condition,o.push({id:Object(s["a"])(),activation_id:a,channel:b,variant:y,condition:x,count:k});e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),d=!0,u=e.t0;case 16:e.prev=16,e.prev=17,l||null==p.return||p.return();case 19:if(e.prev=19,!d){e.next=22;break}throw u;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.next=26,h({shortlink:c,campaign:r,influencerId:n});case 26:return e.abrupt("return",{task_objects:o,shortlink:c});case 27:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t,n=(null===(t=e.influencer.invitations)||void 0===t?void 0:t[0])||{};return encodeURI(n.consumed?"".concat(window.location.origin,"/activations/").concat(e.id):"".concat(window.location.origin,"/invitation/").concat(n.id))}},"369f":function(e,t,n){},"3a0a":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center",class:{"text-white":e.currentRating&&e.$props.dark,"text-blue-500":e.currentRating&&!e.$props.dark,"text-gray-400":!e.currentRating&&!e.$props.dark,"text-gray-100":!e.currentRating&&e.$props.dark},on:{mouseenter:function(t){e.hovering=!e.disabled},mouseleave:function(t){e.hovering=!1}}},e._l(5,(function(t){return n("span",{key:t,staticClass:"cursor-pointer center",on:{mouseenter:function(n){return e.onMouseEnter(t)},click:function(n){return e.onClick(t)}}},[n("i",{class:{"fas fa-star":t<=e.currentRating,"fas fa-star-half":t-e.currentRating==.5,"far fa-star":!e.currentRating||t>e.currentRating}})])})),0)},a=[],r=(n("a9e3"),{props:{dark:{type:Boolean,default:!1},defaultRating:{type:Number,default:4},value:{type:Number},disabled:{type:Boolean,default:!1}},data:function(){return{hovering:!1,hoverRating:0}},created:function(){this.$data.hoverRating=this.$props.defaultRating},computed:{currentRating:function(){return this.$data.hovering?this.$data.hoverRating:Math.round(2*this.$props.value)/2}},methods:{onMouseEnter:function(e){this.$props.disabled||(this.$data.hoverRating=e)},onClick:function(e){this.$props.disabled||this.$emit("input",e)}}}),o=r,s=n("2877"),c=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},"3cb6":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen p-10 center",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full max-w-6xl max-h-full bg-white shadow-md"},[n("athlane-page-header",{attrs:{title:e.activation.guidelines_reviewed?"Guidlines":"Review Guidelines",text:"Here are some guidelines for this campaign. Please read carefully."}}),n("div",{staticClass:"\n\t\t\t\tflex flex-col\n\t\t\t\tjustify-between\n\t\t\t\tp-5\n\t\t\t\tspace-y-4\n\t\t\t\toverflow-y-scroll\n\t\t\t\ttablet-landscape:px-10\n\t\t\t"},[n("div",{staticClass:"flex flex-col flex-grow-0 h-full"},[n("div",{staticClass:"text-gray-600"},[e._v("Description")]),n("div",{staticClass:"p-5 text-gray-700 bg-gray-100 display-html",domProps:{innerHTML:e._s(e.activation.campaign.description_html)}})]),n("div",{staticClass:"flex flex-col flex-grow-0 h-full"},[n("div",{staticClass:"text-gray-600"},[e._v("Guidelines")]),n("div",{staticClass:"p-5 text-gray-700 bg-gray-100 display-html",domProps:{innerHTML:e._s(e.activation.campaign.guidelines_html)}})]),e.activation.guidelines_reviewed?e._e():n("div",{staticClass:"flex items-center justify-between"},[n("athlane-button",{attrs:{text:"Cancel",mode:"tertiary",icon:"fal fa-times"},on:{click:function(t){return e.$emit("close")}}}),n("athlane-button",{attrs:{text:"Confirm Guidelines",icon:"fas fa-rocket-launch"},on:{click:e.onClickConfirm}})],1)])],1)])},a=[],r=n("c964"),o=(n("96cf"),n("e43c")),s=n.n(o),c={props:{activation:Object},methods:{onClickConfirm:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$apollo.mutate({mutation:s.a,variables:{id:this.$props.activation.id,changes:{guidelines_reviewed:!0}}});case 2:this.$set(this.$props.activation,"guidelines_reviewed",!0),this.$emit("close");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=c,d=n("2877"),u=Object(d["a"])(l,i,a,!1,null,null,null);t["a"]=u.exports},5203:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen py-10 center",on:{click:function(t){return e.$emit("close")}}},[n("div",{staticClass:"\n\t\t\tflex flex-col\n\t\t\titems-center\n\t\t\tw-full\n\t\t\tmax-w-lg\n\t\t\tp-2\n\t\t\tbg-white\n\t\t\trounded\n\t\t\tshadow-2xl\n\t\t",on:{click:function(e){e.stopPropagation()}}},[e._m(0),n("div",{staticClass:"flex flex-col items-center my-8"},[n("athlane-profile-image",{staticClass:"flex-none border border-gray-100 rounded-full shadow",attrs:{username:e.$constructUserFullName(e.influencer.user,e.influencer.alias),src:e.influencer.user.profile_image,size:"100"}}),n("h1",{staticClass:"mt-3 text-xl font-medium text-gray-800"},[e._v(" "+e._s(e.$constructUserFullName(e.influencer.user))+" ")]),n("h1",{staticClass:"text-base leading-tight text-gray-500"},[e._v(" "+e._s(e.influencer.alias)+" ")]),n("div",{staticClass:"flex mt-3"},e._l(e.influencer.socials.filter((function(e){return e.channel_name})),(function(t,i){return n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:`${e.platforms[t.channel].url}/${t.channel_name}`,expression:"\n\t\t\t\t\t\t`${platforms[social.channel].url}/${social.channel_name}`\n\t\t\t\t\t",modifiers:{bottom:!0}}],key:i,staticClass:"\n\t\t\t\t\t\tw-10\n\t\t\t\t\t\th-10\n\t\t\t\t\t\ttext-lg\n\t\t\t\t\t\trounded-full\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\thover:bg-gray-100\n\t\t\t\t\t\tcenter\n\t\t\t\t\t",class:e.platforms[t.channel].icon,style:{color:e.platforms[t.channel].colors.base},on:{click:function(n){return e.$open(`${e.platforms[t.channel].url}/${t.channel_name}`,n,!0)}}})})),0),n("div",{staticClass:"w-3/4 mt-3 text-sm italic text-gray-500"},[e._v(" "+e._s(e.influencer.user.bio)+" ")])],1)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center justify-between w-full"},[n("div",{staticClass:"ml-2 text-sm text-gray-600 select-none"},[e._v(" Streamer Details ")]),n("i",{staticClass:"\n\t\t\t\t\tw-8\n\t\t\t\t\th-8\n\t\t\t\t\ttext-red-300\n\t\t\t\t\trounded-full\n\t\t\t\t\tcursor-pointer\n\t\t\t\t\tfal\n\t\t\t\t\tfa-times\n\t\t\t\t\thover:bg-gray-700\n\t\t\t\t\tcenter\n\t\t\t\t"})])}],r=n("e4a9"),o=n.n(r),s={props:["influencer"],data:function(){return{platforms:o.a}}},c=s,l=n("2877"),d=Object(l["a"])(c,i,a,!1,null,null,null);t["a"]=d.exports},"5a58":function(e,t,n){},"671b":function(e,t,n){"use strict";n("e50c")},"69ef":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center justify-start flex-none"},e._l(e.socials,(function(t,i){return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"EMAIL"===i?"Copy Email":"Open link",expression:"platform === 'EMAIL' ? 'Copy Email' : 'Open link'",modifiers:{top:!0}}],key:i,staticClass:"\n\t\t\tflex\n\t\t\tp-1\n\t\t\trounded\n\t\t\tcursor-pointer\n\t\t\tcenter\n\t\t\thover:bg-white\n\t\t\thover:opacity-40\n\t\t",style:{color:"dark"===e.theme?"text-blue-100":e.platforms[i].colors.base},on:{mousedown:function(n){return n.stopPropagation(),e.onClickPlatform(n,i,t)}}},[n("div",{staticClass:"flex-none w-5 h-5 center"},[n("i",{class:[e.platforms[i].icon,e.iconStyles]})])])})),0)},a=[],r=n("c964"),o=n("f3f3"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("b64b"),n("2ca0"),n("e4a9")),c=n.n(s),l=function(e){var t;try{t=new URL(e)}catch(n){return!1}return t},d={props:{streamer:{type:Object,required:!0},mainPlatform:{type:Object,required:!1},theme:{type:String,default:"dark"},expandEmail:{type:Boolean,default:!1},iconStyles:{required:!1}},data:function(){return{platforms:c.a}},computed:{socials:function(){var e=Object(o["a"])({},this.streamer.socials);return this.mainPlatform&&(0==Object.keys(e).length||1==Object.keys(e).length&&e["EMAIL"])&&(e=Object(o["a"])(Object(o["a"])({},e),this.mainPlatform),"TWITCH"in e&&(l(e.TWITCH)||(e.TWITCH="https://twitch.tv/".concat(this.mainPlatform.TWITCH))),"INSTAGRAM"in e&&(l(e.INSTAGRAM)||(e.INSTAGRAM="https://www.instagram.com/".concat(this.mainPlatform.INSTAGRAM,"/"))),"YOUTUBE"in e&&(l(e.YOUTUBE)||(e.YOUTUBE="https://youtube.com/".concat(this.mainPlatform.YOUTUBE))),"TIKTOK"in e&&(l(e.TIKTOK)||(e.TIKTOK.startsWith("@")||(e.TIKTOK="@"+e.TIKTOK),e.TIKTOK="https://www.tiktok.com/".concat(e.TIKTOK)))),!("TWITCH"in e)&&this.streamer.twitch_login&&(e.TWITCH="https://twitch.tv/".concat(this.streamer.twitch_login)),e}},methods:{copyEmail:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$copyText(t);case 2:this.$notify({type:"success",title:"Success",text:"Email copied to clipboard!"});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onClickPlatform:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("EMAIL"!==n){e.next=4;break}return e.next=3,this.copyEmail(i);case 3:return e.abrupt("return",e.sent);case 4:this.$open(i,t,!0);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,i){return e.apply(this,arguments)}return t}()}},u=d,p=(n("ab7a"),n("2877")),m=Object(p["a"])(u,i,a,!1,null,"25446e95",null);t["a"]=m.exports},"6d06":function(e,t,n){"use strict";var i,a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col bg-white rounded shadow-md w-132"},[n("div",{staticClass:"flex flex-col p-10"},[e.requiresPaymentMethod?n("div",{staticClass:"grid grid-cols-2 gap-3"},[n("div",{staticClass:"col-span-2 text-center"},[n("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[e._v(" Payment Details ")]),n("div",{staticClass:"mt-2"},[n("p",{staticClass:"text-sm text-gray-500"},[e._v(" "+e._s(e.$organization.name)+" has no payment method. To continue, add billing details or confirm that this activation requires no in-platform payment. ")])])]),n("athlane-button",{attrs:{text:"Manage Billing",mode:"tertiary"},on:{click:function(t){return e.$open("/settings/billing")}}}),n("athlane-button",{attrs:{text:"No In-Platform Payment"},on:{click:function(t){e.bypassPayment=!0}}})],1):e.isEditing?n("div",{staticClass:"flex flex-col"},[n("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[e._v(" Leave a Review ")]),n("p",{staticClass:"text-gray-700"},[e._v("How did "+e._s(e.name)+" do?")]),n("review-stars",{staticClass:"my-3 text-xl",model:{value:e.review.rating,callback:function(t){e.$set(e.review,"rating",t)},expression:"review.rating"}}),n("text-area",{staticClass:"mb-5",attrs:{placeholder:"Leave a review",error:e.review.errors.content,required:"",characterLimit:"500",showCharacters:"",dynamicResize:""},model:{value:e.review.content,callback:function(t){e.$set(e.review,"content",t)},expression:"review.content"}}),e.bypassPayment?e._e():n("div",{staticClass:"flex flex-col mb-4"},[n("p",{staticClass:"text-gray-700"},[e._v("Amount owed to "+e._s(e.name))]),n("NumberField",{attrs:{icon:"fas fa-dollar-sign",formatFunction:e.numericToDollarString,hideError:""},model:{value:e.review.payment_amount,callback:function(t){e.$set(e.review,"payment_amount",t)},expression:"review.payment_amount"}})],1),e.bypassPayment?e._e():n("div",[n("p",{staticClass:"text-gray-700"},[e._v("Leave "+e._s(e.name)+" a tip")]),n("div",{staticClass:"flex my-4 space-x-1 center"},[e._l(e.tipSuggestions,(function(t,i){return n("athlane-button",{key:i,attrs:{mode:"tertiary",text:"$"+t},on:{click:function(n){e.review.payment_tip=t}}})})),n("NumberField",{staticClass:"ml-2",attrs:{icon:"fas fa-dollar-sign",formatFunction:e.numericToDollarString,hideError:""},model:{value:e.review.payment_tip,callback:function(t){e.$set(e.review,"payment_tip",t)},expression:"review.payment_tip"}})],2)]),n("athlane-button",{attrs:{text:"Submit Review",icon:{"fas fa-spinner fa-spin":e.isLoading},disabled:e.isLoading},on:{click:e.initialSubmit}})],1):n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"text-gray-700"},[e._v("Review Payment")]),n("table",{staticClass:"w-full text-sm text-gray-600"},[n("tr",[n("td",[e._v("Recipient")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.name)+" ")])]),n("tr",[n("td",[e._v("Receipt Email")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.$user.email)+" ")])]),n("tr",[n("td",[e._v("Date of Authorization")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s((new Date).toLocaleString())+" ")])]),n("tr",[n("td",[e._v("Contract Amount")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.numericToDollarString(e.review.payment_amount))+" ")])]),n("tr",[n("td",[e._v("Tip")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.numericToDollarString(e.review.payment_tip))+" ")])]),n("tr",[n("td",[e._v("Platform Fee")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.numericToDollarString(e.confirmation.platform_fees/100))+" ")])]),n("tr",[n("td",[e._v("Transfer Fee")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.numericToDollarString(e.confirmation.stripe_fees/100))+" ")])]),n("tr",{staticClass:"font-medium text-gray-700"},[n("td",[e._v("Total")]),n("td",{staticClass:"text-right"},[e._v(" "+e._s(e.numericToDollarString(e.paymentIntent.amount/100))+" ")])])]),n("athlane-button",{attrs:{text:"Authorize",icon:{"fas fa-spinner fa-spin":e.isLoading},disabled:e.isLoading},on:{click:e.confirm}})],1)])])},o=[],s=n("f3f3"),c=n("c964"),l=n("e5e9"),d=(n("96cf"),n("5184")),u=n("b104"),p=n("3432"),m=n("3a0a"),f=n("f5a3"),v=Object(d["a"])(i||(i=Object(l["a"])(["\n\tmutation UpdatePaymentIntent(\n\t\t$payment_intent_id: String!\n\t\t$confirmation_data: jsonb!\n\t) {\n\t\tupdate_payment_intent(\n\t\t\twhere: { payment_intent_id: { _eq: $payment_intent_id } }\n\t\t\t_set: { confirmation_data: $confirmation_data }\n\t\t) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),h=Object(d["a"])(a||(a=Object(l["a"])(["\n\tmutation InsertActivationReview(\n\t\t$review: campaigns_activation_review_insert_input!\n\t\t$influencer_id: uuid!\n\t\t$compensation: Int!\n\t) {\n\t\tinsert_campaigns_activation_review(objects: [$review]) {\n\t\t\taffected_rows\n\t\t}\n\t\tupdate_users_influencer(\n\t\t\twhere: { id: { _eq: $influencer_id } }\n\t\t\t_inc: { total_made: $compensation }\n\t\t) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),g=5,b={props:{activation:{type:Object,required:!0}},data:function(){return{isEditing:!0,isLoading:!1,tipSuggestions:[5,10,20,50,100],review:{rating:g,content:"",payment_amount:0,payment_tip:10,errors:{}},confirmation:{platform_fees:0,stripe_fees:0},paymentIntent:null,paymentMethod:null,bypassPayment:!1}},components:{NumberField:p["a"],ReviewStars:m["a"],TextArea:f["a"]},created:function(){this.isLoading=!0,this.getStripeData(),this.isLoading=!1},computed:{name:function(){return this.$constructUserFullName(this.$props.activation.influencer.user,this.$props.activation.influencer.alias)},requiresPaymentMethod:function(){return!this.paymentMethod&&!this.$data.bypassPayment}},methods:{numericToDollarString:u["D"],getStripeData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("/payments/customers/".concat(this.$organization.stripe_account_id));case 2:t=e.sent,n=t.data,this.$data.paymentMethod=n.invoice_settings.default_payment_method;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initialSubmit:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateReview()){e.next=2;break}return e.abrupt("return");case 2:if(t=this.$data.review,n=t.payment_amount,i=t.payment_tip,n||i||(this.$data.bypassPayment=!0),!this.$data.bypassPayment){e.next=8;break}return e.next=7,this.confirm();case 7:return e.abrupt("return");case 8:return this.isLoading=!0,a={customer:this.$organization.stripe_account_id,mode:"ACTIVATION",activation_id:this.$props.activation.id,payment_amount:100*this.$data.review.payment_amount,payment_tip:100*this.$data.review.payment_tip,influencer:this.$props.activation.influencer.id,destination_stripe_id:this.$props.activation.influencer.stripe_account_id,receipt_email:this.$user.email},e.prev=10,e.next=13,this.$axios.post("/payments/payment-intents",a);case 13:r=e.sent,o=r.data,s=o.intent,c=o.platform_fees,l=o.stripe_fees,this.$data.paymentIntent=s,this.$data.confirmation.platform_fees=c,this.$data.confirmation.stripe_fees=l,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](10),this.$notify({type:"error",title:"Error",text:"An error occurred. Please try again."});case 24:this.isLoading=!1,this.isEditing=!1;case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));function t(){return e.apply(this,arguments)}return t}(),confirm:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,e.prev=1,this.$data.bypassPayment){e.next=12;break}return e.next=5,this.$stripe.confirmCardPayment(this.$data.paymentIntent.client_secret,{receipt_email:this.$user.email,payment_method:this.$data.paymentMethod});case 5:if(n=e.sent,i=n.paymentIntent,"succeeded"===i.status){e.next=9;break}throw"An error occurred with your payment.";case 9:return a={payment_intent_id:this.$data.paymentIntent.id,confirmation_data:i},e.next=12,this.$apollo.mutate({mutation:v,variables:a});case 12:return r={review:{activation_id:this.$props.activation.id,rating:this.$data.review.rating,content:this.$data.review.content,payment_tip:this.$data.review.payment_tip,payment_amount:this.$data.review.payment_amount,payment_intent:null===(t=this.$data.paymentIntent)||void 0===t?void 0:t.id},influencer_id:this.$props.activation.influencer.id,compensation:this.$data.bypassPayment?0:100*(this.$data.review.payment_tip+this.$data.review.payment_amount)},e.next=15,this.$apollo.mutate({mutation:h,variables:r});case 15:this.$notify({type:"success",title:"Success",text:"Review added!"}),this.$emit("complete"),this.$emit("close"),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](1),console.error(e.t0),this.$notify({type:"error",title:"Error",text:"An error occurred while submitting your review: ".concat(e.t0.message||e.t0)});case 24:this.isLoading=!1;case 25:case"end":return e.stop()}}),e,this,[[1,20]])})));function t(){return e.apply(this,arguments)}return t}(),validateReview:function(){return this.review.errors={},!!this.review.content||(this.review.errors=Object(s["a"])(Object(s["a"])({},this.review.errors),{},{content:"A review is required."}),!1)}}},y=b,k=n("2877"),_=Object(k["a"])(y,r,o,!1,null,null,null);t["a"]=_.exports},8107:function(e,t,n){},8282:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen p-5 center tablet-landscape:p-20",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[n("div",{staticClass:"\n\t\t\tflex flex-col\n\t\t\tjustify-between\n\t\t\tw-full\n\t\t\tmax-w-xl max-h-full\n\t\t\tp-5\n\t\t\tspace-y-3\n\t\t\toverflow-y-hidden\n\t\t\tbg-white\n\t\t\tshadow-md\n\t\t\ttablet-landscape:px-10\n\t\t"},[e.activation.financial.product_offerings.length>1?n("div",{staticClass:"text-sm text-gray-600"},[e._v(" Product "+e._s(e.selectedIdx+1)+" of "+e._s(e.activation.financial.product_offerings.length)+" ")]):e._e(),n("div",{staticClass:"flex flex-col w-full max-h-full py-5 space-y-4 overflow-y-scroll"},[n("div",{staticClass:"flex items-center"},[n("a",{attrs:{href:e.product.product_url,target:"_blank"}},[e.product.image_url?n("img",{staticClass:"\n\t\t\t\t\t\t\tflex-shrink-0\n\t\t\t\t\t\t\tw-20\n\t\t\t\t\t\t\th-20\n\t\t\t\t\t\t\tborder border-gray-100\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\t",staticStyle:{"min-width":"5rem"},attrs:{src:e.product.image_url,alt:"profile image"}}):n("i",{staticClass:"\n\t\t\t\t\t\t\tflex-none\n\t\t\t\t\t\t\tw-20\n\t\t\t\t\t\t\th-20\n\t\t\t\t\t\t\ttext-4xl text-gray-700\n\t\t\t\t\t\t\tborder border-gray-100\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t",class:e.variantIcons[e.product.product_variant]})]),n("div",{staticClass:"flex flex-col ml-4"},[n("h1",{staticClass:"mt-3 text-2xl"},[e._v(" "+e._s(e.product.name)+" ")]),n("a",{staticClass:"text-sm text-athlane-blue hover:underline",attrs:{href:e.product.product_url,target:"_blank"}},[e._v(" View product page ")]),n("h1",{staticClass:"mt-2 text-sm text-gray-700"},[e._v(" Product value: $"+e._s(e.product.value)+" ")])])]),e.product.size_options.length||e.product.subtypes.length?n("div",{staticClass:"flex flex-col w-full space-y-2"},[n("div",{staticClass:"text-gray-700"},[e._v("Product Selection")]),n("div",{staticClass:"flex items-center space-x-2"},[e.product.size_options.length?n("Select",{attrs:{label:"Selected Size",disabled:!e.selectionEnabled},model:{value:e.productOfferings[e.selectedIdx].selected_size,callback:function(t){e.$set(e.productOfferings[e.selectedIdx],"selected_size",t)},expression:"productOfferings[selectedIdx].selected_size"}},e._l(e.product.size_options,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0):e._e(),e.product.subtypes.length?n("Select",{attrs:{label:"Selected Color",disabled:!e.selectionEnabled},model:{value:e.productOfferings[e.selectedIdx].selected_color,callback:function(t){e.$set(e.productOfferings[e.selectedIdx],"selected_color",t)},expression:"productOfferings[selectedIdx].selected_color"}},e._l(e.product.subtypes,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0):e._e()],1)]):e._e(),n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"text-gray-700"},[e._v("Shipping Information")]),n("div",{staticClass:"flex items-center space-x-2"},[n("Select",{attrs:{disabled:!e.trackingUpdateEnabled,label:"Carrier"},model:{value:e.productOfferings[e.selectedIdx].shipping_provider,callback:function(t){e.$set(e.productOfferings[e.selectedIdx],"shipping_provider",t)},expression:"productOfferings[selectedIdx].shipping_provider"}},e._l(e.shippingProviders,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("athlane-field",{attrs:{label:"Tracking Code",disabled:!e.trackingUpdateEnabled},model:{value:e.productOfferings[e.selectedIdx].tracking_code,callback:function(t){e.$set(e.productOfferings[e.selectedIdx],"tracking_code",t)},expression:"productOfferings[selectedIdx].tracking_code"}})],1)]),e.activation.financial.product_offerings[e.selectedIdx].tracking_code?n("div",{staticClass:"flex p-5 bg-gray-100 center"},[e.trackingLoading?n("loader",{attrs:{color:"#4c8bf5"}}):n("div",{staticClass:"flex flex-col w-full space-y-3"},[n("div",{staticClass:"flex justify-between"},[n("div",{staticClass:"text-lg text-gray-700"},[e._v("Tracking")]),n("athlane-button",e._b({on:{click:function(t){return e.$open(e.trackingResult.public_url)}}},"athlane-button",e.trackingStatusMap[e.trackingResult.status],!1))],1),e._l(e.trackingResult.tracking_details,(function(t,i){return n("div",{key:i,staticClass:"\n\t\t\t\t\t\t\tflex flex-col\n\t\t\t\t\t\t\tjustify-between\n\t\t\t\t\t\t\tw-full\n\t\t\t\t\t\t\tpy-1\n\t\t\t\t\t\t\ttext-xs text-gray-700\n\t\t\t\t\t\t\tborder-b border-gray-200\n\t\t\t\t\t\t"},[n("span",{staticClass:"flex items-center justify-between"},[n("span",{staticClass:"text-sm text-gray-500"},[e._v(" "+e._s(t.tracking_location.city||"Other")+" ")]),n("span",{staticClass:"\n\t\t\t\t\t\t\t\t\tw-24\n\t\t\t\t\t\t\t\t\tpx-2\n\t\t\t\t\t\t\t\t\tpy-1\n\t\t\t\t\t\t\t\t\tml-2\n\t\t\t\t\t\t\t\t\ttext-blue-100\n\t\t\t\t\t\t\t\t\tbg-gray-500\n\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t"},[e._v(" "+e._s(e.dateFormatter(t.datetime,"MMM dd hh:mm"))+" ")])]),n("span",{staticClass:"w-64 mt-2 text-left"},[e._v(" "+e._s(t.message)+" ")])])}))],2)],1):e._e()]),n("div",{staticClass:"flex w-full",class:{"justify-between":!e.isFinalStep,"justify-end":e.isFinalStep}},[e.isFinalStep?e._e():n("athlane-button",{attrs:{mode:"tertiary",text:e.backButtonText,icon:"fas fa-caret-left"},on:{click:e.onClickBack}}),n("athlane-button",{attrs:{disabled:!e.isContinueEnabled,text:e.continueButtonText},on:{click:e.onClickContinue}})],1)])])},a=[],r=n("c964"),o=(n("159b"),n("d81d"),n("96cf"),n("2ef0")),s=n("6e77"),c=n("8a5d"),l=n("eac9"),d=n("4e35"),u=n("b104"),p=n("9111"),m=n.n(p),f=n("1768"),v=n.n(f),h={props:{activation:{type:Object,required:!0}},components:{Loader:c["a"],Select:s["a"]},data:function(){return{productOfferings:null,selectedIdx:0,variantIcons:l["a"],trackingLoading:!1,trackingResult:null,trackingStatusMap:d["TRACKING_STATUS_MAP"]}},created:function(){this.$data.productOfferings=Object(o["cloneDeep"])(this.activation.financial.product_offerings),this.trackShipment()},computed:{selectedProductOffering:function(){return this.productOfferings[this.selectedIdx]},product:function(){return this.selectedProductOffering.product},selectionEnabled:function(){return"influencer"===this.$userType&&this.$props.activation.financial.product_offerings.some((function(e){return!e.selected_size&&e.product.size_options||!e.selected_color&&e.product.subtypes}))},trackingUpdateEnabled:function(){return"brand"===this.$userType&&this.$props.activation.financial.product_offerings.some((function(e){return!e.tracking_code}))},fieldsComplete:function(){var e,t;return this.selectionEnabled?(!(null!==(e=this.product.size_options)&&void 0!==e&&e.length)||this.selectedProductOffering.selected_size)&&(!(null!==(t=this.product.subtypes)&&void 0!==t&&t.length)||this.selectedProductOffering.selected_color):!this.trackingUpdateEnabled||this.selectedProductOffering.tracking_code&&this.selectedProductOffering.shipping_provider},isFirstStep:function(){return 0===this.selectedIdx},isFinalStep:function(){return this.selectedIdx===this.productOfferings.length-1},isContinueEnabled:function(){return!this.selectionEnabled&&!this.trackingUpdateEnabled||this.fieldsComplete},continueButtonText:function(){return this.isFinalStep?this.trackingUpdateEnabled||this.selectionEnabled?"Submit":"Close":"Next"},backButtonText:function(){return this.isFirstStep?"Close":"Back"}},watch:{selectedIdx:function(){this.trackShipment()}},methods:{dateFormatter:u["e"],trackShipment:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectedProductOffering.tracking_code){e.next=2;break}return e.abrupt("return",null);case 2:return this.trackingLoading=!0,t=this.selectedProductOffering,n=t.tracking_code,i=t.shipping_provider,a={tracking_code:n,carrier:i},e.next=7,this.$post("/shipping",a);case 7:r=e.sent,o=r.data,this.trackingResult=o,this.trackingLoading=!1;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onClickBack:function(){this.isFirstStep&&this.$emit("close"),this.selectedIdx--},onClickContinue:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.fieldsComplete){e.next=2;break}return e.abrupt("return");case 2:if(this.isFinalStep){e.next=5;break}return this.selectedIdx++,e.abrupt("return");case 5:if(!this.selectionEnabled&&!this.trackingUpdateEnabled){e.next=8;break}return e.next=8,this.submitChanges();case 8:this.$emit("close");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitChanges:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{this.productOfferings.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={activation_financial_id:t.$props.activation.financial.id,product_id:n.product.id,changes:{shipping_provider:n.shipping_provider,tracking_code:n.tracking_code,selected_size:n.selected_size,selected_color:n.selected_color}},e.next=3,t.$apollo.mutate({mutation:v.a,variables:i});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.$notify({type:"success",title:"Success",text:"Data has been updated!"}),this.$set(this.$props.activation.financial,"product_offerings",this.$data.productOfferings),this.$emit("close")}catch(n){this.$notify({type:"error",title:"Error",text:"An error occurred while submitting information."})}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},apollo:{shippingProviders:{query:m.a,update:function(e){return e.providers.map((function(e){return e.shipping_provider}))}}}},g=h,b=n("2877"),y=Object(b["a"])(g,i,a,!1,null,"5d11f8c3",null);t["a"]=y.exports},"8a5d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-pulse v-pulse1",style:[e.spinnerStyle,e.spinnerDelay1]}),n("div",{staticClass:"v-pulse v-pulse2",style:[e.spinnerStyle,e.spinnerDelay2]}),n("div",{staticClass:"v-pulse v-pulse3",style:[e.spinnerStyle,e.spinnerDelay3]})])},a=[],r={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},o=r,s=(n("671b"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},9111:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetShippingProviders"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"providers"},name:{kind:"Name",value:"campaigns_shipping_provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping_provider"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query GetShippingProviders {\n  providers: campaigns_shipping_provider {\n    shipping_provider\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["GetShippingProviders"]=o(n,"GetShippingProviders")},"9e8d":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return v}));var i=n("c964"),a=(n("96cf"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("99af"),n("a15b"),n("a9e3"),n("ac1f"),n("1276"),n("2ef0"),n("bc3a")),r=n.n(a),o=n("f9dd"),s={first_name:"",last_name:"",phone:"",dob:"",id_number:"",address:{line1:"",line2:"",postal_code:"",city:"",state:""}},c=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,c,l,d,u,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:n=[],i=!0,a=!1,s=void 0,e.prev=6,c=t[Symbol.iterator]();case 8:if(i=(l=c.next()).done){e.next=19;break}return d=l.value,u="".concat(o["a"],"/payments/accounts/").concat(d),e.next=13,r.a.get(u);case 13:p=e.sent,m=p.data,n.push({id:d,data:m});case 16:i=!0,e.next=8;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](6),a=!0,s=e.t0;case 25:e.prev=25,e.prev=26,i||null==c.return||c.return();case 28:if(e.prev=28,!a){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e,null,[[6,21,25,33],[26,,28,32]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,a="".concat(o["a"],"/payments/accounts/").concat(t),e.next=6,r.a.get(a);case 6:return s=e.sent,c=s.data,l=null===c||void 0===c||null===(n=c.company)||void 0===n?void 0:n.address,d=null===c||void 0===c||null===(i=c.company)||void 0===i?void 0:i.phone,e.abrupt("return",{address:"".concat([l.line1,l.line2].join(", "),"\n").concat(l.city,", ").concat(l.state," ").concat(l.postal_code," ").concat(l.country),phone:d});case 13:e.prev=13,e.t0=e["catch"](2),console.error(e.t0.message||e.t0);case 16:return e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.data,n=e.type,i=!1,a=function(e,t){var n={},a=!0,r=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;e[l]||(n[l]="Required.",i=!0)}}catch(d){r=!0,o=d}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n},r=function(e){var t=["line1","city","state","postal_code"];return a(e,t)},o=function(e){var t=["name","phone","tax_id"],n=a(e,t);return n["address"]=r(e.address),Number(e.tax_id)!=e.tax_id&&(n["tax_id"]="Please input a valid Tax ID to create or update your information."),n},s=function(e){var t=["first_name","last_name","email","phone","dob","id_number"],n=a(e,t);return n["address"]=r(e.address),Number(e.id_number)!=e.id_number&&(n["id_number"]="Please input a valid SSN/SIN to create or update your information.",i=!0),n},c=function(e){var t=["country","account_holder_name","account_holder_type","routing_number","account_number"];return a(e,t)},l=function(e){var t=["url"];return a(e,t)},d=function(e){var t=["email","country","business_type"],n=a(e,t);return"individual"===e.business_type?n["individual"]=s(e.individual):n["company"]=o(e.company),n["business_profile"]=l(e.business_profile),n["external_account"]=c(e.external_account),e.tos_shown_and_accepted||(n["tos_shown_and_accepted"]="Terms of service must be reviewed and agreed to.",i=!0),{isValid:!i,errors:n}},u=function(e){var t=s(e);return{isValid:!i,errors:t}};return"ACCOUNT"===n?d(t):"PERSON"===n?u(t):void 0},u={individual:"Individual",company:"Company",non_profit:"Non-Profit Organization",government_entity:"Government Entity (US-only)"},p={multi_member_llc:"Multiple Member Limited Liability Company (LLC)",single_member_llc:"Single Member Limited Liability Company (LLC)",private_corporation:"Private Corporation",public_corporation:"Public Corporation",private_partnership:"Private Partnership",public_partnership:"Public Partnership",sole_proprietorship:"Sole Proprietorship",unincorporated_association:"Unincorporated Association/Venture",incorporated_non_profit:"Incorporated Nonprofit",unincorporated_non_profit:"Unincorporated Nonprofit",government_instrumentality:"Government Instrumentality",governmental_unit:"Governmental Unit",tax_exempt_government_instrumentality:"Tax-Exempt Government Instrumentality"},m={CA:{AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",NT:"Northwest Territories",NU:"Nunavut",YT:"Yukon"},US:{AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}},f={1520:"General Services",1711:"Heating, Plumbing, A/C",1731:"Electrical Services",1740:"Masonry, Stonework, and Plaster",1750:"Carpentry Services",1761:"Roofing/Siding, Sheet Metal",1771:"Concrete Work Services",1799:"Special Trade Services",2741:"Miscellaneous Publishing and Printing",2791:"Typesetting, Plate Making, and Related Services",2842:"Specialty Cleaning",4011:"Railroads",4111:"Commuter Transport, Ferries",4112:"Passenger Railways",4119:"Ambulance Services",4121:"Taxicabs/Limousines",4131:"Bus Lines",4214:"Motor Freight Carriers and Trucking - Local and Long Distance, Moving and Storage Companies, and Local Delivery Services",4215:"Courier Services",4225:"Public Warehousing and Storage - Farm Products, Refrigerated Goods, Household Goods, and Storage",4411:"Cruise Lines",4457:"Boat Rentals and Leases",4468:"Marinas, Service and Supplies",4511:"Airlines, Air Carriers",4582:"Airports, Flying Fields",4722:"Travel Agencies, Tour Operators",4723:"TUI Travel - Germany",4784:"Tolls/Bridge Fees",4789:"Transportation Services (Not Elsewhere Classified)",4812:"Telecommunication Equipment and Telephone Sales",4814:"Telecommunication Services",4816:"Computer Network Services",4821:"Telegraph Services",4829:"Wires, Money Orders",4899:"Cable, Satellite, and Other Pay Television and Radio",4900:"Utilities",5013:"Motor Vehicle Supplies and New Parts",5021:"Office and Commercial Furniture",5039:"Construction Materials (Not Elsewhere Classified)",5044:"Photographic, Photocopy, Microfilm Equipment, and Supplies",5045:"Computers, Peripherals, and Software",5046:"Commercial Equipment (Not Elsewhere Classified)",5047:"Medical, Dental, Ophthalmic, and Hospital Equipment and Supplies",5051:"Metal Service Centers",5065:"Electrical Parts and Equipment",5072:"Hardware, Equipment, and Supplies",5074:"Plumbing, Heating Equipment, and Supplies",5085:"Industrial Supplies (Not Elsewhere Classified)",5094:"Precious Stones and Metals, Watches and Jewelry",5099:"Durable Goods (Not Elsewhere Classified)",5111:"Stationary, Office Supplies, Printing and Writing Paper",5122:"Drugs, Drug Proprietaries, and Druggist Sundries",5131:"Piece Goods, Notions, and Other Dry Goods",5137:"Uniforms, Commercial Clothing",5139:"Commercial Footwear",5169:"Chemicals and Allied Products (Not Elsewhere Classified)",5172:"Petroleum and Petroleum Products",5192:"Books, Periodicals, and Newspapers",5193:"Florists Supplies, Nursery Stock, and Flowers",5198:"Paints, Varnishes, and Supplies",5199:"Nondurable Goods (Not Elsewhere Classified)",5200:"Home Supply Warehouse Stores",5211:"Lumber, Building Materials Stores",5231:"Glass, Paint, and Wallpaper Stores",5251:"Hardware Stores",5261:"Nurseries, Lawn and Garden Supply Stores",5271:"Mobile Home Dealers",5300:"Wholesale Clubs",5309:"Duty Free Stores",5310:"Discount Stores",5311:"Department Stores",5331:"Variety Stores",5399:"Miscellaneous General Merchandise",5411:"Grocery Stores, Supermarkets",5422:"Freezer and Locker Meat Provisioners",5441:"Candy, Nut, and Confectionery Stores",5451:"Dairy Products Stores",5462:"Bakeries",5499:"Miscellaneous Food Stores - Convenience Stores and Specialty Markets",5511:"Car and Truck Dealers (New & Used) Sales, Service, Repairs Parts and Leasing",5521:"Car and Truck Dealers (Used Only) Sales, Service, Repairs Parts and Leasing",5531:"Auto and Home Supply Stores",5532:"Automotive Tire Stores",5533:"Automotive Parts and Accessories Stores",5541:"Service Stations",5542:"Automated Fuel Dispensers",5551:"Boat Dealers",5561:"Motorcycle Shops, Dealers",5571:"Motorcycle Shops and Dealers",5592:"Motor Homes Dealers",5598:"Snowmobile Dealers",5599:"Miscellaneous Auto Dealers",5611:"Mens and Boys Clothing and Accessories Stores",5621:"Womens Ready-To-Wear Stores",5631:"Womens Accessory and Specialty Shops",5641:"Childrens and Infants Wear Stores",5651:"Family Clothing Stores",5655:"Sports and Riding Apparel Stores",5661:"Shoe Stores",5681:"Furriers and Fur Shops",5691:"Mens, Womens Clothing Stores",5697:"Tailors, Alterations",5698:"Wig and Toupee Stores",5699:"Miscellaneous Apparel and Accessory Shops",5712:"Furniture, Home Furnishings, and Equipment Stores, Except Appliances",5713:"Floor Covering Stores",5714:"Drapery, Window Covering, and Upholstery Stores",5718:"Fireplace, Fireplace Screens, and Accessories Stores",5719:"Miscellaneous Home Furnishing Specialty Stores",5722:"Household Appliance Stores",5732:"Electronics Stores",5733:"Music Stores-Musical Instruments, Pianos, and Sheet Music",5734:"Computer Software Stores",5735:"Record Stores",5811:"Caterers",5812:"Eating Places, Restaurants",5813:"Drinking Places",5814:"Fast Food Restaurants",5815:"Digital Goods Media - Books, Movies, Music",5816:"Digital Goods - Games",5817:"Digital Goods - Applications (Excludes Games)",5818:"Digital Goods - Large Digital Goods Merchant",5912:"Drug Stores and Pharmacies",5921:"Package Stores-Beer, Wine, and Liquor",5931:"Used Merchandise and Secondhand Stores",5932:"Antique Shops",5933:"Pawn Shops",5935:"Wrecking and Salvage Yards",5937:"Antique Reproductions",5940:"Bicycle Shops",5941:"Sporting Goods Stores",5942:"Book Stores",5943:"Stationery Stores, Office, and School Supply Stores",5944:"Jewelry Stores, Watches, Clocks, and Silverware Stores",5945:"Hobby, Toy, and Game Shops",5946:"Camera and Photographic Supply Stores",5947:"Gift, Card, Novelty, and Souvenir Shops",5948:"Luggage and Leather Goods Stores",5949:"Sewing, Needlework, Fabric, and Piece Goods Stores",5950:"Glassware, Crystal Stores",5960:"Direct Marketing - Insurance Services",5962:"Direct Marketing - Travel",5963:"Door-To-Door Sales",5964:"Direct Marketing - Catalog Merchant",5965:"Direct Marketing - Combination Catalog and Retail Merchant",5966:"Direct Marketing - Outbound Telemarketing",5967:"Direct Marketing - Inbound Telemarketing",5968:"Direct Marketing - Subscription",5969:"Direct Marketing - Other",5970:"Artists Supply and Craft Shops",5971:"Art Dealers and Galleries",5972:"Stamp and Coin Stores",5973:"Religious Goods Stores",5975:"Hearing Aids Sales and Supplies",5976:"Orthopedic Goods - Prosthetic Devices",5977:"Cosmetic Stores",5978:"Typewriter Stores",5983:"Fuel Dealers (Non Automotive)",5992:"Florists",5993:"Cigar Stores and Stands",5994:"News Dealers and Newsstands",5995:"Pet Shops, Pet Food, and Supplies",5996:"Swimming Pools Sales",5997:"Electric Razor Stores",5998:"Tent and Awning Shops",5999:"Miscellaneous Specialty Retail",6010:"Manual Cash Disburse",6011:"Automated Cash Disburse",6012:"Financial Institutions",6051:"Non-FI, Money Orders",6211:"Security Brokers/Dealers",6300:"Insurance Underwriting, Premiums",6399:"Insurance - Default",6513:"Real Estate Agents and Managers - Rentals",6540:"Non-FI, Stored Value Card Purchase/Load",7011:"Hotels, Motels, and Resorts",7012:"Timeshares",7032:"Sporting/Recreation Camps",7033:"Trailer Parks, Campgrounds",7210:"Laundry, Cleaning Services",7211:"Laundries",7216:"Dry Cleaners",7217:"Carpet/Upholstery Cleaning",7221:"Photographic Studios",7230:"Barber and Beauty Shops",7251:"Shoe Repair/Hat Cleaning",7261:"Funeral Services, Crematories",7273:"Dating/Escort Services",7276:"Tax Preparation Services",7277:"Counseling Services",7278:"Buying/Shopping Services",7296:"Clothing Rental",7297:"Massage Parlors",7298:"Health and Beauty Spas",7299:"Miscellaneous General Services",7311:"Advertising Services",7321:"Credit Reporting Agencies",7333:"Commercial Photography, Art and Graphics",7338:"Quick Copy, Repro, and Blueprint",7339:"Secretarial Support Services",7342:"Exterminating Services",7349:"Cleaning and Maintenance",7361:"Employment/Temp Agencies",7372:"Computer Programming",7375:"Information Retrieval Services",7379:"Computer Repair",7392:"Consulting, Public Relations",7393:"Detective Agencies",7394:"Equipment Rental",7395:"Photo Developing",7399:"Miscellaneous Business Services",7511:"Truck StopIteration",7512:"Car Rental Agencies",7513:"Truck/Utility Trailer Rentals",7519:"Recreational Vehicle Rentals",7523:"Parking Lots, Garages",7531:"Auto Body Repair Shops",7534:"Tire Retreading and Repair",7535:"Auto Paint Shops",7538:"Auto Service Shops",7542:"Car Washes",7549:"Towing Services",7622:"Electronics Repair Shops",7623:"A/C, Refrigeration Repair",7629:"Small Appliance Repair",7631:"Watch/Jewelry Repair",7641:"Furniture Repair, Refinishing",7692:"Welding Repair",7699:"Miscellaneous Repair Shops",7829:"Picture/Video Production",7832:"Motion Picture Theaters",7841:"Video Tape Rental Stores",7911:"Dance Hall, Studios, Schools",7922:"Theatrical Ticket Agencies",7929:"Bands, Orchestras",7932:"Billiard/Pool Establishments",7933:"Bowling Alleys",7941:"Sports Clubs/Fields",7991:"Tourist Attractions and Exhibits",7992:"Golf Courses - Public",7993:"Video Amusement Game Supplies",7994:"Video Game Arcades",7995:"Betting/Casino Gambling",7996:"Amusement Parks/Carnivals",7997:"Country Clubs",7998:"Aquariums",7999:"Miscellaneous Recreation Services",8011:"Doctors",8021:"Dentists, Orthodontists",8031:"Osteopaths",8041:"Chiropractors",8042:"Optometrists, Ophthalmologist",8043:"Opticians, Eyeglasses",8049:"Chiropodists, Podiatrists",8050:"Nursing/Personal Care",8062:"Hospitals",8071:"Medical and Dental Labs",8099:"Medical Services",8111:"Legal Services, Attorneys",8211:"Elementary, Secondary Schools",8220:"Colleges, Universities",8241:"Correspondence Schools",8244:"Business/Secretarial Schools",8249:"Vocational/Trade Schools",8299:"Educational Services",8351:"Child Care Services",8398:"Charitable and Social Service Organizations - Fundraising",8641:"Civic, Social, Fraternal Associations",8651:"Political Organizations",8661:"Religious Organizations",8675:"Automobile Associations",8699:"Membership Organizations",8734:"Testing Laboratories",8911:"Architectural/Surveying Services",8931:"Accounting/Bookkeeping Services",8999:"Professional Services",9211:"Court Costs, Including Alimony and Child Support - Courts of Law",9222:"Fines - Government Administrative Entities",9223:"Bail and Bond Payments (payment to the surety for the bond, not the actual bond paid to the government agency)",9311:"Tax Payments - Government Agencies",9399:"Government Services (Not Elsewhere Classified)",9402:"Postal Services - Government Only",9405:"U.S. Federal Government Agencies or Departments",9950:"Intra-Company Purchases","0763":"Agricultural Cooperative","0780":"Landscaping Services","0742":"Veterinary Services"},v=function(e){var t=e.split("-");return{year:t[0],month:t[1],day:t[2]}}},a54e:function(e,t,n){"use strict";n("8107")},a5ea:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"InsertActivationReminder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sender_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reminder_type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"types_REMINDER_TYPE_enum"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_reminder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"sender_id"},value:{kind:"Variable",name:{kind:"Name",value:"sender_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"influencer_id"},value:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"activation_id"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"reminder_type"},value:{kind:"Variable",name:{kind:"Name",value:"reminder_type"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:371}};n.loc.source={body:"mutation InsertActivationReminder(\n  $sender_id: uuid!\n  $influencer_id: uuid!\n  $activation_id: uuid!\n  $reminder_type: types_REMINDER_TYPE_enum!\n) {\n  insert_campaigns_activation_reminder(\n    objects: {\n      sender_id: $sender_id\n      influencer_id: $influencer_id\n      activation_id: $activation_id\n      reminder_type: $reminder_type\n    }\n  ) { affected_rows }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["InsertActivationReminder"]=o(n,"InsertActivationReminder")},ab7a:function(e,t,n){"use strict";n("369f")},ad30:function(e,t,n){"use strict";n("5a58")},b874:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("activation-compensation-display",e._b({staticClass:"px-6 py-5 bg-white shadow-md w-84"},"activation-compensation-display",e.$attrs,!1))},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-col text-base"},[e.activation.financial.lumpsum?n("div",{staticClass:"flex items-center justify-between p-1 select-none"},[n("div",{staticClass:"flex"},[e._m(0),n("span",{staticClass:"font-light text-gray-700"},[e._v(" "+e._s(e.numberWithCommas(e.activation.financial.lumpsum,!0))+" ")])]),n("div",{staticClass:"w-4 ml-2 text-gray-700"},[n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Compensation will be processed once the activation is marked Completed.",expression:"\n\t\t\t\t\t\t'Compensation will be processed once the activation is marked Completed.'\n\t\t\t\t\t",modifiers:{top:!0}}],staticClass:"fas fa-question"})])]):e._e(),e._l(e.activation.financial.commission,(function(t,i){return n("div",{key:i,staticClass:"flex items-center justify-start p-1 select-none"},[e._m(1,!0),n("span",{staticClass:"font-light text-gray-700"},[e._v(" "+e._s(t.percentage)+"% of "+e._s(t.product)+" sales ")])])})),e.activation.financial.media_value?n("div",{staticClass:"flex items-center justify-start p-1 select-none"},[e._m(2),n("span",{staticClass:"font-light text-gray-700"},[e._v(" $"+e._s(e.activation.financial.media_value)+" per unique click ")])]):e._e(),e._l(e.activation.financial.product_offerings,(function(t,i){return n("div",{key:i,staticClass:"flex items-center justify-start p-1 select-none"},[e._m(3,!0),n("span",{staticClass:"font-light text-gray-700"},[e._v(" "+e._s(t.product.name)+" (MSRP $"+e._s(t.product.value)+") ")])])}))],2)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-dollar-sign fa"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-percent fa"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-mouse-pointer fa"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-trophy fa"})])}],s=n("b104"),c={props:{activation:Object},methods:{numberWithCommas:s["C"]}},l=c,d=n("2877"),u=Object(d["a"])(l,r,o,!1,null,null,null),p=u.exports,m={components:{ActivationCompensationDisplay:p}},f=m,v=Object(d["a"])(f,i,a,!1,null,null,null);t["a"]=v.exports},bc21:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center justify-between w-full px-4 py-4",on:{click:function(t){"success"!==e.type&&e.$emit("click")}}},[n("div",{staticClass:"flex"},[n("div",{staticClass:"\n\t\t\t\tflex-none\n\t\t\t\tw-12\n\t\t\t\th-12\n\t\t\t\ttext-lg\n\t\t\t\tfont-bold\n\t\t\t\tbg-white\n\t\t\t\tborder\n\t\t\t\trounded-full\n\t\t\t\tcenter\n\t\t\t",class:{"bg-gray-200 text-gray-400":"success"===e.type}},[e._v(" "+e._s(e.idx)+" ")]),n("span",{staticClass:"ml-2 center",class:{"line-through text-gray-400":"success"===e.type,"cursor-pointer hover:underline":"success"!=e.type&&e.actor===e.$userType}},[e._v(" "+e._s(e.message)+" ")])]),"brand"===e.$userType&&"brand"!=e.actor&&"success"!=e.type?n("athlane-button",{staticClass:"mr-5",attrs:{text:"Send Reminder",mode:"text-only"},on:{click:function(t){return e.$emit("remind")}}}):e._e()],1)},a=[],r={props:{type:{type:String,default:"notice"},message:{type:String,required:!0},idx:{required:!0},actor:{type:String,required:!1}}},o=r,s=n("2877"),c=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},c225:function(e,t,n){"use strict";n("ac1f"),n("5319");t["a"]={isFalsyOrWhiteSpace:function(e){return!e||/^\s*$/.test(e)},toTitleCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},toKeyable:function(e){var t=e;return t=t.toLowerCase(),t=t.replace(/[^a-z0-9.\-_]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(/-{2,}/g,"-"),t=t.replace(/_{2,}/g,"_"),t}}},c3a3:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpsertShortlink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"redirect_key"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"target_url"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_attribution_shortlink"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"redirect_key"},value:{kind:"Variable",name:{kind:"Name",value:"redirect_key"}}},{kind:"ObjectField",name:{kind:"Name",value:"redirect_to"},value:{kind:"Variable",name:{kind:"Name",value:"target_url"}}}]}]}},{kind:"Argument",name:{kind:"Name",value:"on_conflict"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"constraint"},value:{kind:"EnumValue",value:"shortlink_pkey"}},{kind:"ObjectField",name:{kind:"Name",value:"update_columns"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"redirect_to"}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:305}};n.loc.source={body:"mutation UpsertShortlink(\n  $redirect_key: String!\n  $target_url: String\n) {\n  insert_attribution_shortlink(\n    objects: [{ redirect_key: $redirect_key, redirect_to: $target_url }]\n    on_conflict: {\n      constraint: shortlink_pkey\n      update_columns: [redirect_to]\n    }\n  ) {\n    affected_rows\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["UpsertShortlink"]=o(n,"UpsertShortlink")},dc3e:function(e,t,n){"use strict";n("f19c")},dc8f:function(e,t,n){"use strict";n.r(t);var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[e.initialLoadComplete?e.activation?n("div",{staticClass:"flex flex-col h-full"},[n("ActivationHeader",{attrs:{activation:e.activation,conversationId:e.conversation&&e.conversation.id,hasStepsRemaining:e.hasStepsRemaining,address:e.activation.address},on:{"show-modal":function(t){return e.modal=t},"start-activation":e.onStartActivation}}),e.shouldShowTodo?n("div",[n("div",{staticClass:"flex justify-start px-10 pt-4 my-4"},e._l(e.incompleteTabs,(function(t,i){return n("Tab",{key:i,attrs:{text:e.toSentenceCase(t),selected:e.currentTab===t},on:{click:function(n){return e.$router.replace(t)}}})})),1),n("transition",{attrs:{name:"fade",duration:50,mode:"out-in"}},[n("router-view",{staticClass:"flex flex-col min-h-0 mx-10 overflow-y-scroll",attrs:{activation:e.activation,conversationId:e.conversation&&e.conversation.id,activationLoading:e.$apollo.queries.activation.loading},on:{onDataChange:e.refreshActivation}})],1)],1):n("div",{staticClass:"flex flex-col h-full"},[n("div",{staticClass:"flex justify-start px-10 pt-4 my-4"},e._l(e.tabs,(function(t,i){return n("Tab",{key:i,attrs:{text:e.toSentenceCase(t),selected:e.currentTab===t},on:{click:function(n){return e.$router.replace(t)}}})})),1),n("transition",{attrs:{name:"fade",duration:50,mode:"out-in"}},[n("router-view",{staticClass:"flex flex-col min-h-0 mx-10 overflow-y-scroll",attrs:{activation:e.activation,conversationId:e.conversation&&e.conversation.id,activationLoading:e.$apollo.queries.activation.loading},on:{onDataChange:e.refreshActivation}})],1)],1),e.modal?n("Modal",{attrs:{open:e.modal},on:{close:function(t){e.modal=null}}},[n(e.modalComponents[e.modal],{tag:"component",attrs:{activation:e.activation,influencer:e.activation.influencer,name:e.name,email:e.email,campaign:e.activation.campaign,address:e.address,phone:e.phone,confirmationRequest:e.shouldConfirm,confirmAddress:e.confirmAddress},on:{close:function(t){e.modal=null}}})],1):e._e()],1):n("Empty",{attrs:{message:"No activation found."}}):n("Loader",{attrs:{attributeName:"activation"}})],1)},r=[],o=n("e5e9"),s=n("f3f3"),c=n("c964"),l=(n("96cf"),n("ac1f"),n("1276"),n("99af"),n("5319"),n("d81d"),n("5184")),d=n("b104"),u=n("9e8d"),p=n("0f6e"),m=n.n(p),f=n("a5ea"),v=n.n(f),h=n("e43c"),g=n.n(h),b=n("c8d4"),y=n("873b"),k=n("f51a"),_=n("bc21"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("athlane-page-header",{attrs:{title:"Activation with "+e.$constructUserFullName(e.activation.influencer.user,e.activation.influencer.alias)},scopedSlots:e._u([{key:"buttons",fn:function(){return[n("div",{staticClass:"flex justify-between"},[n("p",{staticClass:"flex mt-2 text-sm text-gray-500",staticStyle:{"padding-right":"20px"}},[n("svg",{staticClass:"flex-shrink-0 mr-1.5 h-5 w-5",class:e.statusStyleMap[e.activation.status],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),e._v(" "+e._s(e.toSentenceCase(e.activation.status))+" ")]),n("div",{staticClass:"space-y-2"},[n("UpdateActivationStatus",{attrs:{activation:e.activation,conversationId:e.conversationId}}),e.hasStepsRemaining.beforeBegin||"CONFIRMED"!==e.activation.status||"brand"!==e.$userType?e._e():n("athlane-button",{attrs:{text:"Start Activation",mode:"complete"},on:{click:function(t){return e.$emit("start-activation")}}}),e.activation.review||"brand"!==e.$userType||"COMPLETED"!==e.activation.status&&"INCOMPLETE"!==e.activation.status?e._e():n("athlane-button",{attrs:{text:"Finalize Activation"},on:{click:function(t){return e.$emit("show-modal","review")}}}),n("ActivationStatus",{attrs:{slot:"title-tag",activation:e.activation},slot:"title-tag"})],1)])]},proxy:!0}])},[n("p",{staticClass:"text-sm text-gray-500"},[n("router-link",{attrs:{to:{name:"campaignPage",params:{campaignId:e.activation.campaign.id}},title:e.activation.campaign.title}},[e._v(" "+e._s(e.activation.campaign.title)+" ")])],1),n("div",{staticStyle:{"padding-top":"4px"}},[n("StreamerSocialBar",{attrs:{streamer:e.formattedSocialsInfluencer,theme:"light"}})],1),n("div",{staticClass:"flex justify-between"},[n("div",{staticClass:"flex items-center pt-4 pb-2 space-x-8"},[e._l(e.stats,(function(t,i){return n("div",{key:i},[n("p",{staticClass:"text-xl font-medium text-indigo-600 center"},[e._v(" "+e._s(t.value)+" ")]),n("p",{staticClass:"text-sm text-gray-500 center"},[e._v(" "+e._s(t.description)+" ")])])})),n("div",[e.noCompensation?n("p",{staticClass:"text-xl font-medium text-gray-600 center"},[e._v(" N/A ")]):n("p",{staticClass:"text-xl font-medium text-indigo-600 cursor-pointer center",on:{click:function(t){return e.$emit("show-modal","compensation")}}},[e._v(" See Details ")]),n("p",{staticClass:"text-sm text-gray-500 center"},[e._v("Compensation")])])],2)])]),n("div",{staticClass:"p-5 bg-white w-full",staticStyle:{"padding-top":"0"}},[n("div",{staticClass:"\n\t\t\t\t\tflex flex-col\n\t\t\t\t\titems-end\n\t\t\t\t\txl:items-center\n\t\t\t\t\txl:space-x-2 xl:space-y-0\n\t\t\t\t\txl:flex-row\n\t\t\t\t"},[n("athlane-button",{attrs:{text:"View Guidelines"},on:{click:function(t){return e.$emit("show-modal","guidelines")}}}),n("athlane-button",{attrs:{text:"View Contract"},on:{click:function(t){return e.$emit("show-modal","contract")}}}),e.activation.financial.product_offerings.length?n("athlane-button",{attrs:{text:"Check Shipping"},on:{click:function(t){return e.$emit("show-modal","product")}}}):e._e(),n("athlane-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.address?"View or copy address":"No address in system",expression:"\n\t\t\t\t\t\taddress ? 'View or copy address' : 'No address in system'\n\t\t\t\t\t",modifiers:{top:!0}}],attrs:{text:"Copy Address",disabled:!e.address},on:{click:function(t){return e.$emit("show-modal","address")}}}),n("athlane-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.activationShortLink,expression:"activationShortLink",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){return e.isLinkCopied=!0},expression:"() => (isLinkCopied = true)",arg:"success"},{name:"tooltip",rawName:"v-tooltip.top",value:e.activationShortLink?e.isLinkCopied?"Copied!":"Copy Short Link":"No Link in System",expression:"\n\t\t\t\t\t\tactivationShortLink\n\t\t\t\t\t\t\t? isLinkCopied\n\t\t\t\t\t\t\t\t? 'Copied!'\n\t\t\t\t\t\t\t\t: 'Copy Short Link'\n\t\t\t\t\t\t\t: 'No Link in System'\n\t\t\t\t\t",modifiers:{top:!0}}],attrs:{text:"Copy Link",disabled:!e.activationShortLink}})],1)])],1)},S=[],w=(n("9911"),n("b0c0"),n("caad"),n("2532"),n("4de4"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-none space-x-4 text-xs center max-w-40 tablet-landscape:text-sm"},[e.$props.activation.review?n("div",{staticClass:"flex items-center space-x-1"},[n("div",{staticClass:"h-6 text-lg font-medium",class:{"text-gray-600":!e.headerMode,"text-gray-100":e.headerMode}},[e._v(" "+e._s(e.$props.activation.review.rating)+" ")]),n("i",{staticClass:"text-yellow-300 fas fa-star"})]):e._e(),e.daysUntilExpiration>=0&&["INVITED","APPLIED","IGNORED"].includes(e.$props.activation.status)?n("div",{staticClass:"\n\t\t\th-8\n\t\t\tpx-3\n\t\t\ttext-yellow-600\n\t\t\twhitespace-no-wrap\n\t\t\tbg-yellow-100\n\t\t\trounded\n\t\t\tcenter\n\t\t\tmax-w-40\n\t\t"},[e._v(" "+e._s(e.expirationText)+" ")]):e._e()])}),C=[],N={STARTED:{color:"text-green-500 border-green-300",text:"Started"},COMPLETED:{color:"text-athlane-green border-athlane-green",text:"Completed"},CONFIRMED:{color:"text-blue-400 border-blue-200",text:"Confirmed"},IGNORED:{color:"text-gray-500 border-gray-200",text:"Ignored"},INCOMPLETE:{color:"text-red-400 border-red-300",text:"Incomplete"},ENDED:{color:"text-red-400 border-red-300",text:"Ended"},EXPIRED:{color:"text-gray-600 border-gray-300",text:"Expired"},INVITED:{color:"text-gray-400 border-gray-300",text:"Pending"}},T={props:{activation:{type:Object,required:!0},headerMode:{type:Boolean,default:!1}},computed:{daysUntilExpiration:function(){return Object(d["b"])(new Date(this.$props.activation.date_expiration),new Date)},expirationText:function(){return 0==this.daysUntilExpiration?"Expires today":1==this.daysUntilExpiration?"Expires tomorrow":"Expires in ".concat(this.daysUntilExpiration," days")},statusData:function(){return console.log(this.$props.activation.status),N[this.$props.activation.status]}}},E=T,O=n("2877"),$=Object(O["a"])(E,w,C,!1,null,null,null),A=$.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-xs tablet-landscape:text-sm",on:{click:function(e){e.stopPropagation()}}},["influencer"===e.$userType?n("div",["INVITED"===e.activation.status?n("div",{staticClass:"flex space-x-4 center"},[e.activation.is_negotiable&&e.conversationId?n("athlane-button",{attrs:{id:"influencerNegotiate",text:"Negotiate Activation",mode:"primary"},on:{click:function(t){return e.$open("/messages/"+e.conversationId)}}}):e._e(),n("athlane-button",{attrs:{id:"influencerIgnore",text:"Ignore Activation",mode:"tertiary"},on:{click:function(t){return e.onUpdate({status:"IGNORED"})}}})],1):e._e(),"IGNORED"===e.activation.status?n("div",{staticClass:"center"},[n("athlane-button",{attrs:{id:"influencerUnignore",text:"Un-Ignore Activation"},on:{click:function(t){return e.onUpdate({status:"INVITED"})}}})],1):e._e()]):e._e(),"brand"===e.$userType?n("div",["ENDED"===e.activation.status?n("div",{staticClass:"flex space-x-2"},[n("athlane-button",{attrs:{text:"Mark Complete"},on:{click:function(t){return e.onCompletion("COMPLETED")}}}),n("athlane-button",{attrs:{text:"Mark Incomplete",mode:"tertiary"},on:{click:function(t){return e.onCompletion("INCOMPLETE")}}})],1):e._e(),["INVITED","APPLIED"].includes(e.activation.status)&&e.expiresSoon?n("div",{staticClass:"center"},[n("Dropdown",{scopedSlots:e._u([{key:"trigger",fn:function(){return[n("athlane-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Extend activation deadline",expression:"'Extend activation deadline'",modifiers:{top:!0}}],attrs:{id:"extendOfferTrigger",icon:"fas fa-arrow-alt-right",text:"Extend Offer"}})]},proxy:!0},{key:"dropdown",fn:function(t){var i=t.toggle;return[n("div",{staticClass:"flex flex-col p-5 text-sm bg-white shadow-md w-90"},[n("div",{staticClass:"mb-2 text-lg font-medium text-gray-700"},[e._v(" Extend Dates ")]),n("Select",{attrs:{label:"Duration",subtext:"Days to extend offer",hideError:"",icon:"fas fa-calendar"},model:{value:e.extension.duration,callback:function(t){e.$set(e.extension,"duration",t)},expression:"extension.duration"}},e._l(e.extendOptions,(function(t,i){return n("option",{key:i,domProps:{value:t.value}},[e._v(" "+e._s(t.title)+" ")])})),0),n("Toggle",{staticClass:"mt-2",attrs:{label:"Extend all dates",subtext:e.extension.all?"Push back start, end, and expiration dates":"Only push back expiration date"},model:{value:e.extension.all,callback:function(t){e.$set(e.extension,"all",t)},expression:"extension.all"}}),n("div",{staticClass:"flex items-center space-x-2"},[n("athlane-button",{staticClass:"w-full",attrs:{text:"Cancel",mode:"tertiary"},on:{click:i}}),n("athlane-button",{staticClass:"w-full",attrs:{text:"Extend"},on:{click:function(t){return e.onClickExtend(i)}}})],1)],1)]}}],null,!1,3661242058)})],1):e._e()]):e._e(),e.showReviewModal?n("modal",{attrs:{open:e.showReviewModal},on:{close:function(t){e.showReviewModal=!1}}},[n("create-activation-review",{attrs:{activation:e.activation},on:{close:function(t){e.showReviewModal=!1},complete:e.onReview}})],1):e._e()],1)},I=[],R=(n("159b"),n("b64b"),n("f817")),P=n("6d06"),M=n("11de"),F=n("4ba6"),j=n("6e77"),V=n("cd0b"),L=3,B={props:{activation:{type:Object,required:!0},conversationId:{type:String,required:!1}},data:function(){return{extension:{duration:null,all:!0},showReviewModal:!1,pendingStatus:null}},components:{Modal:M["a"],CreateActivationReview:P["a"],Dropdown:V["a"],Select:j["a"],Toggle:F["a"]},computed:{expiresSoon:function(){var e=Object(d["b"])(this.activation.date_expiration,new Date);return e<=L},extendOptions:function(){return[{title:"Three days",value:3},{title:"One week",value:7},{title:"Two weeks",value:14}]}},methods:{onCompletion:function(e){this.$data.showReviewModal=!0,this.$data.pendingStatus=e},onReview:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onUpdate({status:this.$data.pendingStatus});case 2:this.$data.pendingStatus=null;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onClickExtend:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a,r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.extension,a=i.all,r=i.duration,o=a?["date_start","date_end","date_expiration"]:["date_expiration"],s=o.reduce((function(e,n){return e[n]=Object(R["a"])(t.activation[n]).add(r,"days").toDate(),e}),{}),n.next=5,t.onUpdate(s,e);case 5:case"end":return n.stop()}}),n)})))()},onUpdate:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},a=e.length>1&&void 0!==e[1]?e[1]:function(){},n.prev=2,n.next=5,t.$apollo.mutate({mutation:g.a,variables:{id:t.activation.id,changes:i}});case 5:t.$notify({type:"success",title:"Success",text:"Activation updated!"}),Object.keys(i).forEach((function(e){t.activation[e]=i[e]})),a(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),t.$notify({type:"error",title:"Error",text:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()}}},q=B,U=Object(O["a"])(q,D,I,!1,null,null,null),G=U.exports,z=n("69ef"),H=n("e4a9"),W=n.n(H),K={components:{ActivationStatus:A,UpdateActivationStatus:G,StreamerSocialBar:z["a"]},props:{activation:Object,hasStepsRemaining:Object,conversationId:String,address:{required:!0}},data:function(){return{platforms:W.a,isLinkCopied:!1,statusStyleMap:{EXPIRED:"text-gray-400",INVITED:"text-orange-500",STARTED:"text-green-400",COMPLETED:"text-green-500",APPLIED:"text-blue-300",CONFIRMED:"text-athlane-blue",IGNORED:"text-gray-300",INCOMPLETE:"text-red-400",ENDED:"text-blue-600"}}},computed:{stats:function(){var e;return[{description:"Tasks Complete",value:"".concat(this.activation.tasks.reduce((function(e,t){return e+t.task_completion.length}),0)," / ").concat(this.activation.tasks.reduce((function(e,t){return e+t.count}),0))},{description:"Clicks Generated",value:Object(d["C"])((null===(e=this.activation.link)||void 0===e?void 0:e.clicks)||0)},{description:"Duration",value:"".concat(Object(d["e"])(this.activation.date_start,"MM/dd")," - ").concat(Object(d["e"])(this.activation.date_end,"MM/dd"))}]},subtext:function(){return"".concat(this.activation.campaign.organization.name," <> ").concat(this.$constructUserFullName(this.activation.influencer.user,this.activation.influencer.alias))},canAddReview:function(){return"brand"===this.$userType&&["COMPLETED","ENDED","INCOMPLETE"].includes(this.activation.status)&&!this.activation.review},canOpenChat:function(){var e,t,n,i;return(null===(e=this.activation)||void 0===e||null===(t=e.influencer)||void 0===t?void 0:t.id)===this.$user.id||(null===(n=this.activation)||void 0===n||null===(i=n.campaign)||void 0===i?void 0:i.managers.map((function(e){return e.user.id})).includes(this.$user.id))},formattedSocialsInfluencer:function(){var e=this.activation.influencer.socials.filter((function(e){return e.channel_name})),t={};t["EMAIL"]=this.activation.influencer.user.email;var n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;t[s.channel]="".concat(this.platforms[s.channel].url,"/").concat(s.channel_name)}}catch(c){i=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t["PILLAR"]="/shop/".concat(this.activation.influencer.alias),{socials:t}},noCompensation:function(){return!this.activation.financial.commission.length&&!this.activation.financial.lumpsum&&!this.activation.financial.media_value&&!this.activation.financial.product_offerings.length},activationShortLink:function(){var e;return null!==(e=this.activation.link)&&void 0!==e&&e.redirect_to?"https://".concat(this.$data.$shortDomain,"/").concat(this.activation.link.redirect_key):null}},methods:{toSentenceCase:d["K"],toggleChatbar:function(){this.canOpenChat&&this.$store.dispatch("toggleInfobar")}}},Y=K,Q=Object(O["a"])(Y,x,S,!1,null,null,null),J=Q.exports,X=n("5203"),Z=n("8282"),ee=n("f828"),te=n("163c"),ne=n("b874"),ie=n("1f01"),ae=n("3cb6"),re=n("0d68"),oe=n("2ef0"),se={mixins:[re["a"]],components:{Loader:b["a"],Empty:y["a"],ActivationHeader:J,Modal:M["a"],Tab:k["a"],Notice:_["a"]},props:{activationId:{type:String,required:!0}},data:function(){return{tabs:["tasks","analytics","chat","assets"],incompleteTabs:["todos","chat"],initialLoadComplete:!1,activation:{},stripe_phone:null,stripe_address:null,modal:null,shouldConfirm:!1,modalComponents:{profile:X["a"],product:Z["a"],contract:ee["a"],shortlink:te["a"],compensation:ne["a"],review:P["a"],guidelines:ae["a"],address:ie["a"]},statusStyleMap:{EXPIRED:"text-gray-400",INVITED:"text-orange-500",STARTED:"text-green-400",COMPLETED:"text-green-500",APPLIED:"text-blue-300",CONFIRMED:"text-athlane-blue",IGNORED:"text-gray-300",INCOMPLETE:"text-red-400",ENDED:"text-blue-600"}}},computed:{shouldShowTodo:function(){return this.hasStepsRemaining.overall&&"ENDED"!==this.activation.status&&"COMPLETED"!==this.activation.status},currentTab:function(){var e=this.$route.path.split("/").pop();return e.toLowerCase()},loadedActivationId:function(){var e,t;return null!==(e=null===(t=this.activation)||void 0===t?void 0:t.id)&&void 0!==e&&e},name:function(){return"".concat(this.activation.influencer.user.first_name," ").concat(this.activation.influencer.user.last_name)},email:function(){return"".concat(this.activation.influencer.user.email)},address:function(){return this.activation.address?"".concat(this.activation.address):"".concat(this.stripe_address)},phone:function(){return this.activation.phone?"".concat(this.activation.phone):"".concat(this.stripe_phone)},creatorChecklist:function(){return Object(oe["filter"])(this.requiredSteps,{actor:"influencer"})},brandChecklist:function(){return Object(oe["filter"])(this.requiredSteps,{actor:"brand"})},creatorListIsIncomplete:function(){return Object(oe["filter"])(this.creatorChecklist,{incomplete:!0}).length>0},brandListIsIncomplete:function(){return Object(oe["filter"])(this.brandChecklist,{incomplete:!0}).length>0}},watch:{activation:function(){if(this.activation&&this.shouldShowTodo){var e=this.$route.path.split("/").pop();"tasks"==e&&this.$router.replace(this.incompleteTabs[0])}}},methods:{filter:oe["filter"],toSentenceCase:d["K"],showMessage:function(){},confirmAddress:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$apollo.mutate({mutation:g.a,variables:{id:this.activation.id,changes:{address:t,phone:n}}});case 3:this.$notify({type:"success",title:"Success",text:"Shipping Address confirmed!"}),this.activation.address=t,this.activation.phone=n,this.$emit("close"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),onStartActivation:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasStepsRemaining.beforeBegin){e.next=3;break}return this.$notify({type:"error",title:"Error",text:"Steps must be complete before starting activation"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.$apollo.mutate({mutation:g.a,variables:{id:this.activation.id,changes:{status:"STARTED"}}});case 6:this.$notify({type:"success",title:"Success",text:"Activation started!"}),this.$set(this.$data.activation,"status","STARTED"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),insertReminder:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$apollo.mutate({mutation:v.a,variables:{sender_id:this.$user.id,influencer_id:this.activation.influencer.id,activation_id:this.activation.id,reminder_type:t.reminder_type}});case 3:this.$notify({type:"success",title:"Success",text:"Reminder Sent!"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$notify({type:"error",title:"Error",text:"An error occurred: ".concat(e.t0,". Please try again.")});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),setAddress:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["d"])(t);case 2:n=e.sent,i=n.address,a=n.phone,this.stripe_address=i,this.stripe_phone=a;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),refreshActivation:function(){this.$apollo.queries.activation.refetch()}},apollo:{activation:{query:m.a,variables:function(){return{activation_id:this.$props.activationId}},update:function(e){var t,n=e.activation;this.initialLoadComplete=!0;var i=null===(t=n[0])||void 0===t?void 0:t.influencer,a=i.stripe_account_id;return this.$amp.logEvent("VIEWED_ACTIVATION",Object(s["a"])({},n[0])),a&&this.setAddress(n[0].influencer.stripe_account_id),Object(s["a"])(Object(s["a"])({},n[0]),{},{campaign:Object(s["a"])(Object(s["a"])({},n[0].campaign),{},{brand_managers:n[0].campaign.managers.map((function(e){return Object(s["a"])(Object(s["a"])({},e.user),{},{primary:e.primary})}))})})}},conversation:{query:Object(l["a"])(i||(i=Object(o["a"])(["\n\t\t\t\tquery getConversationOfActivation($activation_id: uuid!) {\n\t\t\t\t\tconversation(\n\t\t\t\t\t\twhere: { references: { activation_id: { _eq: $activation_id } } }\n\t\t\t\t\t) {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"]))),variables:function(){return{activation_id:this.activationId}},update:function(e){return e.conversation[0]}}}},ce=se,le=(n("dc3e"),Object(O["a"])(ce,a,r,!1,null,"09faddf8",null));t["default"]=le.exports},e29b:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateActivationLegalSignatureByID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"legal_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time_signed"}},type:{kind:"NamedType",name:{kind:"Name",value:"timestamptz"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signed_by"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contract_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"jsonb"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body_html"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation_legal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"legal_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"time_signed"},value:{kind:"Variable",name:{kind:"Name",value:"time_signed"}}},{kind:"ObjectField",name:{kind:"Name",value:"signed_by"},value:{kind:"Variable",name:{kind:"Name",value:"signed_by"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_signed"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"CONFIRMED"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"update_legal_contract"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"contract_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"ObjectField",name:{kind:"Name",value:"body_html"},value:{kind:"Variable",name:{kind:"Name",value:"body_html"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_html"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:725}};n.loc.source={body:"mutation UpdateActivationLegalSignatureByID(\n  $activation_id: uuid\n  $legal_id: uuid\n  $time_signed: timestamptz\n  $signed_by: String\n  $contract_id: uuid\n  $body: jsonb\n  $body_html: String\n) {\n  update_campaigns_activation_legal(\n    where: { id: { _eq: $legal_id } }\n    _set: { time_signed: $time_signed, signed_by: $signed_by }\n  ) {\n    returning {\n      id\n      time_signed\n    }\n  }\n  update_campaigns_activation(\n    where: { id: { _eq: $activation_id } }\n    _set: { status: CONFIRMED }\n  ) {\n    returning {\n      id\n    }\n  }\n  update_legal_contract(\n    where: { id: { _eq: $contract_id } }\n    _set: { body: $body, body_html: $body_html }\n  ) {\n    returning {\n      id\n      body\n      body_html\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["UpdateActivationLegalSignatureByID"]=o(n,"UpdateActivationLegalSignatureByID")},e43c:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateActivation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_set_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:199}};n.loc.source={body:"mutation UpdateActivation(\n  $id: uuid!\n  $changes: campaigns_activation_set_input!\n) {\n  update_campaigns_activation(\n    where: { id: { _eq: $id } }\n    _set: $changes\n  ) {\n    affected_rows\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["UpdateActivation"]=o(n,"UpdateActivation")},e4a9:function(e,t,n){var i=n("4e35").colors;e.exports={TWITCH:{icon:"fab fa-twitch",url:"https://twitch.tv",colors:{dark:i["purple"][700],base:i["purple"][700],light:i["purple"][200],root:"purple"},displayName:"Twitch",taskVariants:{COMMAND:{displayName:"Command",helpText:"A Twitch Command condition contains the desired command text (e.g., !Athlane). Success metrics are oriented around the frequency and timing of chatroom usage of the command.",icon:"fas fa-exclamation"},TITLE:{displayName:"Shoutout",helpText:"A Twitch Shoutout condition contains any text that should be included in the Twitch stream title. Each individual stream session with a corresponding title and 30 second verbal shoutout counts for one count of this task.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"A Twitch Bio condition contains any text that should be included in the streamer's Twitch page, completed when the streamer updates their bio with the text condition.",icon:"fas fa-book-user"},VIDEO:{displayName:"VOD",helpText:"A Twitch VOD condition contains any text that should be included in the VOD's title. Each VOD with the requisite title text counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},INSTAGRAM:{icon:"fab fa-instagram",url:"https://instagram.com",colors:{base:i["red"][500],light:i["red"][200],root:"red"},displayName:"Instagram",taskVariants:{POST:{displayName:"Post",helpText:"An Instagram post condition includes text that should be included in an Instagram post. Each post counts as a completion.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"An Instagram bio condition includes text that should be included in an Instagram bio, completed when the streamer updates their bio to include the condition.",icon:"fas fa-book-user"},STORY:{displayName:"Story",helpText:"An Instagram story condition includes text that should be included in an Instagram story. Each story counts as a completion.",icon:"fas fa-circle-notch"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},TWITTER:{icon:"fab fa-twitter",url:"https://twitter.com",colors:{base:i["blue"][400],light:i["blue"][100],root:"blue"},displayName:"Twitter",taskVariants:{POST:{displayName:"Tweet",helpText:"A Twitter tweet condition includes text that should be included in a tweet. Each tweet is a completion.",icon:"fab fa-twitter"},BIO:{displayName:"Bio",helpText:"A Twitter bio condition includes text that should be included in the streamer's bio, completed when the Twitter page is updated.",icon:"fas fa-book-user"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},YOUTUBE:{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"YouTube",taskVariants:{VIDEO:{displayName:"Description",helpText:"A Youtube video description condition includes text that should be included in a video's description. Each video counts as a completion.",icon:"fas fa-align-left"},TITLE:{displayName:"Title",helpText:"A Youtube title condition includes text that should be included in a video's title. Each video counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},FACEBOOK:{icon:"fab fa-facebook",url:"https://facebook.com",colors:{base:i["blue"][600],light:i["blue"][300],root:"blue"},displayName:"Facebook"},EMAIL:{icon:"fas fa-envelope",url:"mailto:",colors:{base:i["gray"][500],light:i["gray"][100],root:"gray"},displayName:"Email"},SPOTIFY:{icon:"fab fa-spotify",url:"https://spotify.com/",colors:{base:i["green"][500],light:i["green"][300],root:"green"},displayName:"Spotify"},DISCORD:{icon:"fab fa-discord",url:"https://discord.gg",colors:{base:i["blue"][700],light:i["blue"][500],root:"blue"},displayName:"Discord"},TIKTOK:{icon:"fab fa-tiktok",url:"https://tiktok.com",colors:{base:i["black"],light:i["gray"][600],root:"black"},displayName:"TikTok"},APPLE:{icon:"fab fa-apple",url:"https://apple.com",colors:{base:i["gray"][400],light:i["gray"][200],root:"gray"},displayName:"Apple"},PATREON:{icon:"fab fa-patreon",url:"https://patreon.com",colors:{base:i["red"][500],light:i["red"][300],root:"red"},displayName:"Patreon"},SOUNDCLOUD:{icon:"fab fa-soundcloud",url:"https://soundcloud.com",colors:{base:i["orange"][600],light:i["orange"][300],root:"orange"},displayName:"Soundcloud"},LINKEDIN:{icon:"fab fa-linkedin",url:"https://linkedin.com",colors:{base:i["blue"][600],light:i["blue"][500],root:"blue"},displayName:"LinkedIn"},MEDIUM:{icon:"fab fa-medium",url:"https://medium.com",colors:{base:i["black"],light:i["white"],root:"black"},displayName:"Medium"},"YOUT.UBE":{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"YouTube"},PILLAR:{icon:"fab fa-pillar",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"Pillar"}}},e50c:function(e,t,n){},eac9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o}));var i={ACCESSORIES:"fad fa-backpack",APPAREL_BOTTOM:"fas fa-walking",APPAREL_TOP:"fas fa-tshirt",ELECTRONICS:"fas fa-laptop",FOOD_ITEM:"fas fa-burger-soda",FOOTWEAR:"fas fa-boot",FURNITURE:"fad fa-chair-office",GAMES:"fas fa-gamepad-alt",GIFTCARDS:"fas fa-gift-card",HEADPHONES:"fad fa-headphones-alt",HEADWEAR:"fas fa-hat-cowboy-side",HEALTH:"fas fa-heartbeat",KITCHEN:"fas fa-oven",MISC:"fas fa-trophy",SOFTWARE:"fab fa-app-store"},a={ACCESSORIES:"Accessories",APPAREL_BOTTOM:"Bottom Apparel",APPAREL_TOP:"Top Apparel",ELECTRONICS:"Electronics",FOOD_ITEM:"Food & Beverage",FOOTWEAR:"Footwear",FURNITURE:"Furniture",GAMES:"Games",GIFTCARDS:"Gift cards",HEADPHONES:"Headphones",HEADWEAR:"Headwear",HEALTH:"Health and Fitness",KITCHEN:"Kitchen",MISC:"Other",SOFTWARE:"Software products"},r=function(e){switch(e){case"ELECTRONICS":case"HEALTH":return"variants";case"FOOD_ITEM":return"flavor";case"GAMES":case"SOFTWARE":return"suites/plans";default:return"color"}},o=function(e){switch(e){case"ELECTRONICS":case"HEALTH":return"fa-tags";case"FOOD_ITEM":return"fa-turkey";case"GAMES":case"SOFTWARE":return"fa-credit-card";default:return"fa-palette"}}},f19c:function(e,t,n){},f5a3:function(e,t,n){"use strict";var i,a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"flex flex-col"},[e.label||e.subtext?n("div",{staticClass:"mb-1"},[e.label?n("div",{staticClass:"block text-sm font-medium text-gray-700"},[e._v(" "+e._s(e.label)+" "),e.required?n("span",{staticClass:"ml-1 text-yellow-500"},[e._v("*")]):e._e()]):e._e(),e.subtext?n("span",{staticClass:"block text-xs text-gray-600 dark:text-gray-300"},[e._v(" "+e._s(e.subtext)+" ")]):e._e()]):e._e(),n("div",{staticClass:"relative"},[n("resize-auto",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.resize;return[n("textarea",e._b({staticClass:"box-border block w-full h-32 min-w-0 px-4 py-3 text-black placeholder-gray-400 transition-colors duration-100 ease-in-out bg-white border border-gray-200 rounded-lg shadow-sm appearance-none resize-none dark:bg-gray-600 dark:text-white dark:border-gray-700 dark:focus:border-indigo-300 dark:bg-gray-800 focus:border-indigo-500 focus:outline-none",class:{"border-red-500":e.$props.error,"shadow-sm":!e.$props.flat},attrs:{maxlength:e.characterLimit},domProps:{value:e.value},on:{input:function(t){return e.onInput(t,i)},focus:function(t){e.active=!0},blur:function(t){e.active=!1},change:function(t){return e.$emit("change",t.target.value)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("enter",t)}}},"textarea",e.$attrs,!1))]}}])})],1),e.characterLimit&&e.showCharacters?n("div",{staticClass:"mt-1 text-xs text-gray-400"},[e._v(" "+e._s(e.value?e.value.length:0)+" / "+e._s(e.characterLimit)+" characters ")]):e._e(),!e.hideError&&e.$props.error?n("span",{staticClass:"block my-1 text-sm tracking-wide text-red-500"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])},o=[],s=n("2b0e"),c={name:"ResizeAuto",methods:{resize:function(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$el.scrollHeight+10;e.$el.setAttribute("style","height:".concat(t,"px"))}))},render:function(){return this.$scopedSlots.default({resize:this.resize})}},l=c,d=n("2877"),u=Object(d["a"])(l,i,a,!1,null,null,null),p=u.exports,m=s["default"].extend({inheritAttrs:!1,components:{ResizeAuto:p},props:{showCharacters:{type:Boolean,default:!1},characterLimit:{type:String,default:null},error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},label:{type:String,required:!1},subtext:{type:String,required:!1},required:{type:Boolean,default:!1},value:{type:String,required:!1},dynamicResize:{type:Boolean,default:!1}},data:function(){return{active:!1}},computed:{errorMessage:function(){var e;return null!==(e=this.$props.error)&&void 0!==e?e:"Error: "}},methods:{onInput:function(e,t){this.$emit("input",e.target.value),!this.$props.dynamicResize||t(e)}}}),f=m,v=(n("a54e"),Object(d["a"])(f,r,o,!1,null,null,null));t["a"]=v.exports},f828:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen p-5 xl:p-20 center",on:{click:function(t){return e.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full h-full max-w-5xl bg-white shadow-xl",on:{click:function(e){e.stopPropagation()}}},[n("athlane-page-header",{attrs:{title:"Contract",text:"Review and sign agreement details",ctaIcon:"fas fa-download",ctaText:"Download Contract",showCta:"",flat:""},on:{"action-click":e.onClickDownload}}),n("div",{staticClass:"\n\t\t\t\th-full\n\t\t\t\tmax-h-full\n\t\t\t\tpx-5\n\t\t\t\tpy-10\n\t\t\t\toverflow-y-scroll\n\t\t\t\tbg-gray-100\n\t\t\t\tdisplay-html\n\t\t\t\ttablet-landscape:px-10\n\t\t\t",domProps:{innerHTML:e._s(e.activation.legal.contract.body_html||e.activation.legal.contract.body.html)}}),e.activation.legal.time_signed||"influencer"!==e.$userType?e._e():n("div",{staticClass:"w-full p-5 bg-white tablet-landscape:px-10"},[n("div",{staticClass:"font-medium text-gray-800"},[e._v("Signature")]),n("div",{staticClass:"text-sm text-gray-600"},[e._v(" By typing in your name below and pressing submit, you agree to all the terms above and acknowledge that you have agreed to the agreement above. ")]),n("div",{staticClass:"flex items-center mt-3"},[n("athlane-field",{attrs:{icon:"fas fa-signature",placeholder:"Enter signature here...",hideError:""},model:{value:e.newSignature.signedBy,callback:function(t){e.$set(e.newSignature,"signedBy",t)},expression:"newSignature.signedBy"}}),n("athlane-field",{staticClass:"ml-2",attrs:{type:"date",icon:"fas fa-calendar-alt",placeholder:"Enter date...",hideError:""},model:{value:e.newSignature.signedDate,callback:function(t){e.$set(e.newSignature,"signedDate",t)},expression:"newSignature.signedDate"}}),n("athlane-button",{staticClass:"ml-4",attrs:{disabled:!e.isComplete,icon:"fas fa-angle-right",text:"Submit"},on:{click:e.onClickSubmit}})],1)])],1)])},a=[],r=n("c964"),o=n("d0ff"),s=(n("99af"),n("96cf"),n("cd42")),c=n("b104"),l=n("49c2"),d=n("e29b"),u=n.n(d),p={props:{activation:Object},data:function(){return{newSignature:{signedBy:"",signedDate:Object(c["e"])(new Date,"yyyy-MM-dd")},errorMessage:"",editor:new s["a"]({extensions:Object(o["a"])(Object(l["a"])()),content:""})}},computed:{isComplete:function(){return this.$data.newSignature.signedBy&&this.$data.newSignature.signedDate}},methods:{dateFormatter:c["e"],validate:function(){return this.$data.newSignature.signedBy?this.$data.newSignature.signedDate?"":"Date required.":"Signature required."},onClickDownload:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.$props.activation.legal.contract.body,i=n.html,a=n.signatureHtml,Object(c["G"])(this.$props.activation.legal.contract.body_html||(null!==(t=i+a)&&void 0!==t?t:""));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onClickSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.validate(),!t){e.next=4;break}return this.errorMessage=t,e.abrupt("return");case 4:return n=this.$props.activation.legal.contract.body,n.html&&(this.editor.setContent(n.html),n=this.editor.getJSON()),i=[].concat(Object(o["a"])(n.content),[{type:"paragraph",content:[{type:"text",marks:[{type:"aligntext",attrs:{align:"start"}},{type:"fontSize",attrs:{fontSize:"2rem"}},{type:"fontFamily",attrs:{fontFamily:"'Cedarville Cursive', cursive"}}],text:this.$data.newSignature.signedBy}]},{type:"paragraph",content:[{type:"text",marks:[{type:"aligntext",attrs:{align:"start"}},{type:"fontSize",attrs:{fontSize:"1rem"}}],text:this.$data.newSignature.signedDate}]}]),this.editor.setContent({type:"doc",content:i}),a=this.editor.getHTML(),r={activation_id:this.$props.activation.id,legal_id:this.$props.activation.legal.id,time_signed:new Date,signed_by:this.$data.newSignature.signedBy,contract_id:this.$props.activation.legal.contract.id,body:{type:"doc",content:i},body_html:a},e.next=12,this.$apollo.mutate({mutation:u.a,variables:r});case 12:this.$notify({type:"success",title:"Success",text:"This contract has been signed!"}),this.$set(this.$props.activation.legal,"time_signed",new Date),this.$emit("close");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=p,f=n("2877"),v=Object(f["a"])(m,i,a,!1,null,null,null);t["a"]=v.exports}}]);
//# sourceMappingURL=chunk-56ef6f13.f2118a48.js.map