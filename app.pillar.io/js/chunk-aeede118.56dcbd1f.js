(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aeede118"],{"0ac3":function(t,e,n){"use strict";n("76d6")},2958:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col h-full relative"},[n("transition",{attrs:{name:"fade"}},[t.activationLoading?n("div",{staticClass:"absolute t-0 l-0 w-full h-full bg-white opacity-50 z-100"}):t._e()]),n("div",{staticClass:"flex flex-wrap justify-start"},t._l(t.channelOptions,(function(e,a){return n("div",{key:a,staticClass:"\n\t\t\t\tflex\n\t\t\t\tw-4\n\t\t\t\th-4\n\t\t\t\tp-5\n\t\t\t\tmb-3\n\t\t\t\tmr-3\n\t\t\t\tfont-medium\n\t\t\t\tborder-2\n\t\t\t\trounded-full\n\t\t\t\tcursor-pointer\n\t\t\t\tcenter\n\t\t\t",class:{"bg-white border-gray-400 text-gray-500":t.selectedChannel!=a,"bg-black border-black text-white":t.selectedChannel===a},on:{click:function(e){t.selectedChannel=a}}},["all"!==a?n("i",{class:t.platforms[a].icon}):n("p",{staticClass:"text-sm font-semibold"},[t._v("ALL")])])})),0),t._l(t.channelTasks,(function(e){var a=e.tasks,i=e.channel;return n("div",{key:i,staticClass:"flex flex-col w-full p-5 mb-2 bg-white shadow"},[n("div",{staticClass:"flex items-center justify-between pb-1 mb-2",style:{borderColor:t.platforms[i].colors.light,color:t.platforms[i].colors.base}},[n("div",{staticClass:"flex font-medium"},[n("div",{staticClass:"w-8 center"},[n("i",{class:t.platforms[i].icon})]),t._v(" "+t._s(t.toSentenceCase(i))+" ")]),n("div",{staticClass:"center"},["brand"===t.$userType?n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.channelEditing===i?"Click to save":"Click to edit",expression:"\n\t\t\t\t\t\tchannelEditing === channel ? 'Click to save' : 'Click to edit'\n\t\t\t\t\t",modifiers:{top:!0}}],staticClass:"\n\t\t\t\t\t\tw-8\n\t\t\t\t\t\th-8\n\t\t\t\t\t\tmr-1\n\t\t\t\t\t\ttext-sm text-blue-500\n\t\t\t\t\t\trounded-full\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\thover:bg-blue-100\n\t\t\t\t\t\tfas\n\t\t\t\t\t\tfa-pen\n\t\t\t\t\t\tcenter\n\t\t\t\t\t",class:{"fas fa-pen":t.channelEditing!==i,"fas fa-save":t.channelEditing===i},on:{click:function(e){return t.onClickActionButton(i)}}}):t._e(),n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Click for additional instructions",expression:"'Click for additional instructions'",modifiers:{top:!0}}],staticClass:"\n\t\t\t\t\t\tw-8\n\t\t\t\t\t\th-8\n\t\t\t\t\t\ttext-sm text-gray-600\n\t\t\t\t\t\trounded-full\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\thover:bg-blue-100\n\t\t\t\t\t\tfas\n\t\t\t\t\t\tfa-question-circle\n\t\t\t\t\t\tcenter\n\t\t\t\t\t",on:{click:function(e){t.instructionChannel=i}}})])]),t._l(a,(function(e,a){return n("div",{key:`task-${i}-${a}`,staticClass:"task-row-container"},[n("div",{staticClass:"task-row-index"},[t._v(t._s(a+1))]),n("TaskRow",{staticClass:"task-row",attrs:{task:e,activation:t.activation,isEditing:t.channelEditing===i},on:{"update-task":t.updateTask}})],1)})),"influencer"==t.$userType?n("div",{staticClass:"task-row-container"},[n("div",{staticClass:"task-row-index custom-input",on:{click:function(e){e.stopPropagation(),t.displayPopup=!0,t.tempChannel=i}}},[t._v(" + ")])]):t._e()],2)})),t.instructionChannel?n("Modal",{attrs:{open:t.instructionChannel},on:{close:function(e){t.instructionChannel=null}}},[n("TaskInstructions",{attrs:{channel:t.instructionChannel},on:{close:function(e){t.instructionChannel=null}}})],1):t._e(),t.displayPopup?n("PopupContainer",{staticClass:"popup-container",on:{"clicked-away":function(e){t.displayPopup=!1}}},[n("div",{staticClass:"popup"},[n("CreateOrEditLinkPopup",{attrs:{task:{variant:"CUSTOM",channel:t.tempChannel},activation:t.activation},on:{close:function(e){t.displayPopup=!1},taskUrlAndTimeSaved:t.addCustomTask}})],1)]):t._e()],2)},i=[],o=n("c964"),s=n("f3f3"),r=n("e5e9"),c=(n("96cf"),n("d81d"),n("4de4"),n("159b"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("e4a9")),l=n.n(c),d=n("b104"),u=n("2ef0"),p=n("11de"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"task-type rounded-item",style:{backgroundColor:t.platforms[t.task.channel].colors.base}},[t._v(" "+t._s(t.taskVariant)+" ")]),t.task.condition&&""!==t.task.condition?n("div",[t._v("include")]):t._e(),t.task.condition&&""!==t.task.condition?n("div",{staticClass:"condition rounded-item"},[t.expandCondition?n("ClickAwayHandler",{staticClass:"rounded-item expand-condition",on:{"clicked-away":function(e){t.expandCondition=!1}}},[n("div",{staticClass:"top"},[n("span",[t._v("Condition")]),n("i",{staticClass:"fas fa-expand-alt",on:{click:function(e){t.expandCondition=!1}}})]),n("span",[t._v(t._s(t.task.condition))])]):t._e(),n("span",[t._v(t._s(t.task.condition))]),n("i",{staticClass:"fas fa-expand-alt",on:{click:function(e){e.stopPropagation(),t.expandCondition=!0}}})],1):t._e(),n("div",{staticClass:"status",class:{todo:"Todo"==t.completionText,late:"Late"==t.completionText,completed:"Completed"==t.completionText||"Completed Late"==t.completionText}},[t._v(" "+t._s(t.completionText)+" ")]),"brand"==t.$userType?n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:""+t.completionUrl,expression:"`${completionUrl}`",modifiers:{left:!0}}],staticClass:"check button rounded-item",class:{disabled:!t.completionUrl},attrs:{href:t.completionUrl,target:"_blank",title:t.completionUrl?"Verify the task completion":"This task has not been completed yet"}},[t._v(" Check ")]):t._e(),"influencer"==t.$userType?n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.task.completion&&t.includeTimestamp?"Edit URL or Timestamp":""},expression:"{\n\t\t\tcontent:\n\t\t\t\ttask.completion && includeTimestamp ? 'Edit URL or Timestamp' : ''\n\t\t}"}],staticClass:"button rounded-item flex items-center mr-0",class:t.task.completion?"edit-url":"enter-url",on:{click:function(e){e.stopPropagation(),t.displayPopup=!0}}},[n("i",{staticClass:"fas fa-link mr-2"}),n("span",[t._v(" "+t._s(t.task.completion?t.includeTimestamp?`${t.timestampStart}-${t.timestampEnd}`:"Edit URL":"Enter URL"))])]):t._e(),t.displayPopup?n("PopupContainer",{staticClass:"popup-container",on:{"clicked-away":function(e){t.displayPopup=!1}}},[n("div",{staticClass:"popup"},[n("CreateOrEditLinkPopup",{attrs:{task:t.task,activation:t.activation},on:{close:function(e){t.displayPopup=!1},taskUrlAndTimeSaved:t.updateTaskUrlAndTime}})],1)]):t._e()],1)},f=[],h=(n("ac1f"),n("1276"),n("99af"),n("caad"),n("3f67")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("i",{staticClass:"close fal fa-times",on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}}),n("h3",[t._v("Enter URL")]),n("span",{staticClass:"mb-4"},[t._v(" Enter URL to let "+t._s(t.activation.campaign.organization.name)+" verify where you've completed the specific task. ")]),n("div",{staticClass:"url-input mb-4"},[n("i",{staticClass:"fas fa-link"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{type:"text",placeholder:"https://example.com"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})]),t.includeTimestamp?n("div",{staticClass:"expandable mb-4"},[n("div",[t._v(" You’ve entered a URL for "+t._s(t.toTitleCase(this.task.channel))+" and before you’ll be able to add this link, please add timestamps for where you've completed the task. ")]),n("div",{staticClass:"clock"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteStart,expression:"minuteStart"}],attrs:{type:"number",placeholder:"MM"},domProps:{value:t.minuteStart},on:{input:function(e){e.target.composing||(t.minuteStart=e.target.value)}}}),n("span",{staticClass:"colon"},[t._v(":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.secondStart,expression:"secondStart"}],attrs:{type:"number",placeholder:"SS"},domProps:{value:t.secondStart},on:{input:function(e){e.target.composing||(t.secondStart=e.target.value)}}}),n("span",{staticClass:"dash"},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.minuteEnd,expression:"minuteEnd"}],attrs:{type:"number",placeholder:"MM"},domProps:{value:t.minuteEnd},on:{input:function(e){e.target.composing||(t.minuteEnd=e.target.value)}}}),n("span",{staticClass:"colon"},[t._v(":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.secondEnd,expression:"secondEnd"}],attrs:{type:"number",placeholder:"SS"},domProps:{value:t.secondEnd},on:{input:function(e){e.target.composing||(t.secondEnd=e.target.value)}}})])]):t._e(),n("div",{staticClass:"w-full flex justify-center mt-4"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.canSave?"":"Please enter a valid URL"},expression:"{ content: !canSave ? 'Please enter a valid URL' : '' }"}]},[n("button",{staticClass:"button primary rounded",class:{disabled:!t.canSave},on:{click:t.save}},[t._v(" Save URL ")])])])])},k=[],b=(n("4ae1"),n("276c")),y=n("e954"),g=n("920b"),C=n("e1a7"),T=n("f20d"),w=(n("2ca0"),n("9ab4")),x=n("c225"),_=n("60a3");function E(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,a=Object(T["a"])(t);if(e()){var i=Object(T["a"])(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(C["a"])(this,n)}}var O=function(t){Object(g["a"])(n,t);var e=E(n);function n(){var t;return Object(b["a"])(this,n),t=e.apply(this,arguments),t.minuteStart=null,t.secondStart=null,t.minuteEnd=null,t.secondEnd=null,t.url=null,t.isFalsyOrWhiteSpace=x["a"].isFalsyOrWhiteSpace,t.toTitleCase=x["a"].toTitleCase,t}return Object(y["a"])(n,[{key:"canSave",get:function(){return Object(d["A"])(this.url)&&(!this.includeTimestamp||Object(d["v"])(this.minuteStart)&&Object(d["v"])(this.secondStart)&&Object(d["v"])(this.minuteEnd)&&Object(d["v"])(this.secondEnd))}},{key:"timestampStart",get:function(){return"00:".concat(this.minuteStart||"00",":").concat(this.secondStart||"00")}},{key:"timestampEnd",get:function(){return"00:".concat(this.minuteEnd||"00",":").concat(this.secondEnd||"00")}},{key:"includeTimestamp",get:function(){return["TWITCH","YOUTUBE"].includes(this.task.channel)||"CUSTOM"==this.task.variant}},{key:"mounted",value:function(){var t,e,n,a,i,o=null===(t=this.task.completion)||void 0===t||null===(e=t.timestamp_start)||void 0===e?void 0:e.split(":");this.minuteStart=(null===o||void 0===o?void 0:o[1])||null,this.secondStart=(null===o||void 0===o?void 0:o[2])||null;var s=null===(n=this.task.completion)||void 0===n||null===(a=n.timestamp_end)||void 0===a?void 0:a.split(":");this.minuteEnd=(null===s||void 0===s?void 0:s[1])||null,this.secondEnd=(null===s||void 0===s?void 0:s[2])||null,this.url=null===(i=this.task.completion)||void 0===i?void 0:i.doc_url}},{key:"save",value:function(){this.$emit("taskUrlAndTimeSaved",this.url.startsWith("http")?this.url:"https://".concat(this.url),this.timestampStart,this.timestampEnd)}}]),n}(_["c"]);Object(w["c"])([Object(_["b"])({required:!0})],O.prototype,"task",void 0),Object(w["c"])([Object(_["b"])({required:!0})],O.prototype,"activation",void 0),O=Object(w["c"])([_["a"]],O);var S,N,j,U=O,A=U,I=(n("39be"),n("2877")),$=Object(I["a"])(A,v,k,!1,null,"337ad9aa",null),P=$.exports,R=n("5184"),D=n("20a4"),L=Object(R["a"])(S||(S=Object(r["a"])(["\n\tmutation UpsertTaskCompletion(\n\t\t$taskId: uuid!\n\t\t$taskCompletion: campaigns_task_completion_insert_input!\n\t) {\n\t\tinsert_campaigns_task_completion(objects: [$taskCompletion]) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),B=Object(R["a"])(N||(N=Object(r["a"])(["\n\tmutation UpdateTaskCompletion(\n\t\t$id: uuid!\n\t\t$url: String\n\t\t$timestampStart: time\n\t\t$timestampEnd: time\n\t) {\n\t\tupdate_campaigns_task_completion(\n\t\t\twhere: { id: { _eq: $id } }\n\t\t\t_set: {\n\t\t\t\tdoc_url: $url\n\t\t\t\ttimestamp_start: $timestampStart\n\t\t\t\ttimestamp_end: $timestampEnd\n\t\t\t}\n\t\t) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),M={props:{task:{type:Object,required:!0},activation:{type:Object,required:!0},isEditing:{type:Boolean,default:!1}},data:function(){return{platforms:l.a,finishedStatuses:["ENDED","ARCHIVED","EXPIRED"],expand:!1,newTask:null,displayPopup:!1,expandCondition:!1}},watch:{newTask:{deep:!0,handler:function(){this.$emit("update-task",this.newTask)}},isEditing:{handler:function(t){t&&(this.newTask=Object(u["cloneDeep"])(this.task))}}},components:{PopupContainer:h["a"],CreateOrEditLinkPopup:P,ClickAwayHandler:D["a"]},methods:{toTitleCase:x["a"].toTitleCase,updateTaskUrlAndTime:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a.displayPopup=!1,!a.task.completion){i.next=6;break}return i.next=4,a.$apollo.mutate({mutation:B,variables:{id:a.task.completion.id,url:t,timestampStart:e,timestampEnd:n}});case 4:i.next=9;break;case 6:return o={task_id:a.task.id,doc_url:t,timestamp_start:e,timestamp_end:n},i.next=9,a.$apollo.mutate({mutation:L,variables:{taskId:a.task.id,taskCompletion:o}});case 9:a.$parent.$emit("onDataChange");case 10:case"end":return i.stop()}}),i)})))()}},computed:{taskVariant:function(){return"CUSTOM"==this.task.variant?"Custom URL":x["a"].toTitleCase(this.task.variant)},timestampStart:function(){var t,e,n=null===(t=this.task.completion)||void 0===t||null===(e=t.timestamp_start)||void 0===e?void 0:e.split(":");return"".concat((null===n||void 0===n?void 0:n[1])||"00",":").concat((null===n||void 0===n?void 0:n[2])||"00")},timestampEnd:function(){var t,e,n=null===(t=this.task.completion)||void 0===t||null===(e=t.timestamp_end)||void 0===e?void 0:e.split(":");return"".concat((null===n||void 0===n?void 0:n[1])||"00",":").concat((null===n||void 0===n?void 0:n[2])||"00")},completionUrl:function(){var t,e,n;return null!==(t=null===(e=this.task)||void 0===e||null===(n=e.completion)||void 0===n?void 0:n.doc_url)&&void 0!==t?t:null},completionText:function(){return this.task.completion?Date.parse(this.task.completion.time_created)>Date.parse(this.activation.date_end)?"Completed Late":"Completed":Date.now()>Date.parse(this.activation.date_end)?"Late":"Todo"},includeTimestamp:function(){return["TWITCH","YOUTUBE"].includes(this.task.channel)||"CUSTOM"==this.task.variant}}},V=M,Y=(n("d841"),Object(I["a"])(V,m,f,!1,null,"23caed4a",null)),q=Y.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen p-10 center",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[n("div",{staticClass:"w-full max-w-3xl bg-white shadow-md"},[n("athlane-page-header",{attrs:{title:t.toSentenceCase(t.channel)+" Tasks"}}),n("div",{staticClass:"flex flex-col p-5 tablet-landscape:px-10"},t._l(t.platforms[t.channel].taskVariants,(function(e,a,i){return n("div",{key:i,staticClass:"flex py-4 border-b",class:{borderColor:t.platforms[t.channel].colors.light}},[n("div",{staticClass:"\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tself-start\n\t\t\t\t\t\tjustify-center\n\t\t\t\t\t\tflex-none\n\t\t\t\t\t\tw-24\n\t\t\t\t\t\tp-1\n\t\t\t\t\t\ttext-sm text-gray-100\n\t\t\t\t\t\trounded\n\t\t\t\t\t\tcursor-default\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t",style:{backgroundColor:t.platforms[t.channel].colors.base}},[t._v(" "+t._s(e.displayName)+" ")]),n("div",{staticClass:"\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tself-start\n\t\t\t\t\t\tw-full\n\t\t\t\t\t\tml-3\n\t\t\t\t\t\ttext-sm text-gray-700\n\t\t\t\t\t\tjustify-left\n\t\t\t\t\t"},[t._v(" "+t._s(e.helpText)+" ")])])})),0)],1)])},F=[],H={props:{channel:{type:String,required:!0}},data:function(){return{platforms:l.a}},methods:{toSentenceCase:d["K"]}},K=H,z=Object(I["a"])(K,W,F,!1,null,null,null),G=z.exports,J=n("a025"),Q=n.n(J),X=Object(R["a"])(j||(j=Object(r["a"])(["\n\tmutation InsertTaskWithCompletion(\n\t\t$taskCompletion: campaigns_task_completion_insert_input!\n\t) {\n\t\tinsert_campaigns_task_completion(objects: [$taskCompletion]) {\n\t\t\treturning {\n\t\t\t\tid\n\t\t\t\tdoc_url\n\t\t\t\ttask {\n\t\t\t\t\tid\n\t\t\t\t\ttime_created\n\t\t\t\t}\n\t\t\t\ttask_id\n\t\t\t}\n\t\t}\n\t}\n"]))),Z={components:{TaskRow:q,Modal:p["a"],TaskInstructions:G,PopupContainer:h["a"],CreateOrEditLinkPopup:P},props:{activation:{type:Object,required:!0},activationLoading:Boolean},data:function(){return{platforms:l.a,selectedChannel:"all",instructionChannel:null,channelEditing:!1,displayPopup:!1,tempChannel:""}},computed:{channelOptions:function(){return{all:{name:"All Posts"},TWITCH:{name:"TWITCH"},TWITTER:{name:"TWITTER"},INSTAGRAM:{name:"INSTAGRAM"},YOUTUBE:{name:"YOUTUBE"}}},channels:function(){return Object(d["i"])(this.activation.tasks.map((function(t){return t.channel}))).sort()},channelTasks:function(){var t=this;return"all"===this.selectedChannel?this.tasksTransformedByChannel:this.tasksTransformedByChannel.filter((function(e){return e.channel===t.selectedChannel}))},tasksTransformedByChannel:function(){var t=this;return this.channels.map((function(e){var n=t.activation.tasks.filter((function(t){return t.channel===e}));if(t.channelEditing===e)return{channel:e,tasks:n};var a=[];return n.forEach((function(t){var e;Object(u["range"])(Object(u["max"])([t.count,null===(e=t.task_completion)||void 0===e?void 0:e.length])).forEach((function(e){var n;a.push(Object(s["a"])(Object(s["a"])({idx:e},t),{},{completion:null!==(n=t.task_completion)&&void 0!==n&&n.length?t.task_completion[e]:null}))}))})),{channel:e,tasks:a}}))},updatedTasks:function(){return[]}},created:function(){if(!window.instgrm){var t=document.createElement("script");t.async=!0,t.src="https://www.instagram.com/embed.js",document.body.appendChild(t)}if(!window.twttr){var e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",document.body.appendChild(e)}},methods:{toSentenceCase:d["K"],addCustomTask:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var o,s,r,c,l,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return l={doc_url:t,timestamp_start:e,timestamp_end:n,task:{data:{activation_id:a.activation.id,channel:a.tempChannel,variant:"CUSTOM",condition:t}}},i.next=3,a.$apollo.mutate({mutation:X,variables:{taskCompletion:l}});case 3:if(i.t1=o=i.sent,i.t0=null===i.t1,i.t0){i.next=7;break}i.t0=void 0===o;case 7:if(!i.t0){i.next=11;break}i.t2=void 0,i.next=12;break;case 11:i.t2=null===(s=o.data)||void 0===s||null===(r=s.insert_campaigns_task_completion)||void 0===r||null===(c=r.returning)||void 0===c?void 0:c[0];case 12:d=i.t2,u=d.task,delete d.task,u.task_completion=[d],a.$router.go();case 17:case"end":return i.stop()}}),i)})))()},updateTask:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(u["findIndex"])(this.updatedTasks,(function(t){return t.id===e.id})),-1==n?this.updatedTasks.push(e):this.updatedTasks[n]=e;case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onClickActionButton:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.channelEditing!==e){t.next=8;break}return this.channelEditing=null,t.next=4,this.mergeUpdatedTasks();case 4:return t.next=6,this.updateTasksOfChannel(e);case 6:t.next=9;break;case 8:this.channelEditing=e;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),mergeUpdatedTasks:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,o,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=!0,n=!1,a=void 0,t.prev=3,i=function(){var t=s.value,e=Object(u["findIndex"])(r.activation.tasks,(function(e){return e.id===t.id}));r.activation.tasks[e]=t},o=this.updatedTasks[Symbol.iterator]();!(e=(s=o.next()).done);e=!0)i();t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](3),n=!0,a=t.t0;case 12:t.prev=12,t.prev=13,e||null==o.return||o.return();case 15:if(t.prev=15,!n){t.next=18;break}throw a;case 18:return t.finish(15);case 19:return t.finish(12);case 20:case"end":return t.stop()}}),t,this,[[3,8,12,20],[13,,15,19]])})));function e(){return t.apply(this,arguments)}return e}(),updateTasksOfChannel:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,o,s,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,n=this.activation.tasks.filter((function(t){return t.channel===e})),a=!0,i=!1,o=void 0,t.prev=5,s=n[Symbol.iterator]();case 7:if(a=(r=s.next()).done){t.next=15;break}return c=r.value,l={task_id:c.id,changes:{count:c.count,condition:c.condition}},t.next=12,this.$apollo.mutate({mutation:Q.a,variables:l});case 12:a=!0,t.next=7;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),i=!0,o=t.t0;case 21:t.prev=21,t.prev=22,a||null==s.return||s.return();case 24:if(t.prev=24,!i){t.next=27;break}throw o;case 27:return t.finish(24);case 28:return t.finish(21);case 29:this.$notify({type:"success",title:"Success",text:"Your tasks have been saved."}),t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](0),this.$notify({type:"error",title:"Error",text:"An error occurred while updating tasks: ".concat(t.t1," Please try again.")});case 35:case"end":return t.stop()}}),t,this,[[0,32],[5,17,21,29],[22,,24,28]])})));function e(e){return t.apply(this,arguments)}return e}()}},tt=Z,et=(n("0ac3"),Object(I["a"])(tt,a,i,!1,null,"e8e90532",null));e["default"]=et.exports},"39be":function(t,e,n){"use strict";n("f97d")},"3f67":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-background"},[n("div",{ref:"slot"},[t._t("default")],2)])},i=[],o=n("2b0e"),s=o["default"].extend({methods:{clickAwayHandler:function(t){var e=this.$refs.slot;e.contains(t.target)||this.$emit("clicked-away")}},mounted:function(){window.addEventListener("click",this.clickAwayHandler)},destroyed:function(){window.removeEventListener("click",this.clickAwayHandler)}}),r=s,c=(n("48e6"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,"ec08ad04",null);e["a"]=l.exports},"48e6":function(t,e,n){"use strict";n("b022")},"76d6":function(t,e,n){},a025:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateTaskByID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"task_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_task_set_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_campaigns_task"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"task_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation UpdateTaskByID($task_id: uuid!, $changes: campaigns_task_set_input!) {\n  update_campaigns_task(\n    where: { id: { _eq: $task_id } }\n    _set: $changes\n  ) { affected_rows }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){a(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){a(t,e)})),t.definitions&&t.definitions.forEach((function(t){a(t,e)}))}var i={};function o(t,e){for(var n=0;n<t.definitions.length;n++){var a=t.definitions[n];if(a.name&&a.name.value==e)return a}}function s(t,e){var n={kind:t.kind,definitions:[o(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var a=i[e]||new Set,s=new Set,r=new Set;a.forEach((function(t){r.add(t)}));while(r.size>0){var c=r;r=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=i[t]||new Set;e.forEach((function(t){r.add(t)}))}}))}return s.forEach((function(e){var a=o(t,e);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;a(t,e),i[t.name.value]=e}}))})(),t.exports=n,t.exports["UpdateTaskByID"]=s(n,"UpdateTaskByID")},af43:function(t,e,n){},b022:function(t,e,n){},c225:function(t,e,n){"use strict";n("ac1f"),n("5319");e["a"]={isFalsyOrWhiteSpace:function(t){return!t||/^\s*$/.test(t)},toTitleCase:function(t){return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},toKeyable:function(t){var e=t;return e=e.toLowerCase(),e=e.replace(/[^a-z0-9.\-_]/g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(/-{2,}/g,"-"),e=e.replace(/_{2,}/g,"_"),e}}},d841:function(t,e,n){"use strict";n("af43")},e4a9:function(t,e,n){var a=n("4e35").colors;t.exports={TWITCH:{icon:"fab fa-twitch",url:"https://twitch.tv",colors:{dark:a["purple"][700],base:a["purple"][700],light:a["purple"][200],root:"purple"},displayName:"Twitch",taskVariants:{COMMAND:{displayName:"Command",helpText:"A Twitch Command condition contains the desired command text (e.g., !Athlane). Success metrics are oriented around the frequency and timing of chatroom usage of the command.",icon:"fas fa-exclamation"},TITLE:{displayName:"Shoutout",helpText:"A Twitch Shoutout condition contains any text that should be included in the Twitch stream title. Each individual stream session with a corresponding title and 30 second verbal shoutout counts for one count of this task.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"A Twitch Bio condition contains any text that should be included in the streamer's Twitch page, completed when the streamer updates their bio with the text condition.",icon:"fas fa-book-user"},VIDEO:{displayName:"VOD",helpText:"A Twitch VOD condition contains any text that should be included in the VOD's title. Each VOD with the requisite title text counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},INSTAGRAM:{icon:"fab fa-instagram",url:"https://instagram.com",colors:{base:a["red"][500],light:a["red"][200],root:"red"},displayName:"Instagram",taskVariants:{POST:{displayName:"Post",helpText:"An Instagram post condition includes text that should be included in an Instagram post. Each post counts as a completion.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"An Instagram bio condition includes text that should be included in an Instagram bio, completed when the streamer updates their bio to include the condition.",icon:"fas fa-book-user"},STORY:{displayName:"Story",helpText:"An Instagram story condition includes text that should be included in an Instagram story. Each story counts as a completion.",icon:"fas fa-circle-notch"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},TWITTER:{icon:"fab fa-twitter",url:"https://twitter.com",colors:{base:a["blue"][400],light:a["blue"][100],root:"blue"},displayName:"Twitter",taskVariants:{POST:{displayName:"Tweet",helpText:"A Twitter tweet condition includes text that should be included in a tweet. Each tweet is a completion.",icon:"fab fa-twitter"},BIO:{displayName:"Bio",helpText:"A Twitter bio condition includes text that should be included in the streamer's bio, completed when the Twitter page is updated.",icon:"fas fa-book-user"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},YOUTUBE:{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:a["red"][600],light:a["red"][300],root:"red"},displayName:"YouTube",taskVariants:{VIDEO:{displayName:"Description",helpText:"A Youtube video description condition includes text that should be included in a video's description. Each video counts as a completion.",icon:"fas fa-align-left"},TITLE:{displayName:"Title",helpText:"A Youtube title condition includes text that should be included in a video's title. Each video counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},FACEBOOK:{icon:"fab fa-facebook",url:"https://facebook.com",colors:{base:a["blue"][600],light:a["blue"][300],root:"blue"},displayName:"Facebook"},EMAIL:{icon:"fas fa-envelope",url:"mailto:",colors:{base:a["gray"][500],light:a["gray"][100],root:"gray"},displayName:"Email"},SPOTIFY:{icon:"fab fa-spotify",url:"https://spotify.com/",colors:{base:a["green"][500],light:a["green"][300],root:"green"},displayName:"Spotify"},DISCORD:{icon:"fab fa-discord",url:"https://discord.gg",colors:{base:a["blue"][700],light:a["blue"][500],root:"blue"},displayName:"Discord"},TIKTOK:{icon:"fab fa-tiktok",url:"https://tiktok.com",colors:{base:a["black"],light:a["gray"][600],root:"black"},displayName:"TikTok"},APPLE:{icon:"fab fa-apple",url:"https://apple.com",colors:{base:a["gray"][400],light:a["gray"][200],root:"gray"},displayName:"Apple"},PATREON:{icon:"fab fa-patreon",url:"https://patreon.com",colors:{base:a["red"][500],light:a["red"][300],root:"red"},displayName:"Patreon"},SOUNDCLOUD:{icon:"fab fa-soundcloud",url:"https://soundcloud.com",colors:{base:a["orange"][600],light:a["orange"][300],root:"orange"},displayName:"Soundcloud"},LINKEDIN:{icon:"fab fa-linkedin",url:"https://linkedin.com",colors:{base:a["blue"][600],light:a["blue"][500],root:"blue"},displayName:"LinkedIn"},MEDIUM:{icon:"fab fa-medium",url:"https://medium.com",colors:{base:a["black"],light:a["white"],root:"black"},displayName:"Medium"},"YOUT.UBE":{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:a["red"][600],light:a["red"][300],root:"red"},displayName:"YouTube"},PILLAR:{icon:"fab fa-pillar",colors:{base:a["red"][600],light:a["red"][300],root:"red"},displayName:"Pillar"}}},f97d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-aeede118.56dcbd1f.js.map