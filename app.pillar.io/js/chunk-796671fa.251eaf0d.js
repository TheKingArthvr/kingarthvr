(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-796671fa"],{"0481":function(e,t,n){"use strict";var i=n("23e7"),a=n("a2bf"),r=n("7b0b"),s=n("50c4"),l=n("a691"),o=n("65f0");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=r(this),n=s(t.length),i=o(t,0);return i.length=a(i,t,t,n,0,void 0===e?1:l(e)),i}})},3432:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"field"}},[e._v(" "+e._s(e.label)+" "),e.required?n("span",{staticClass:"ml-1 text-yellow-500"},[e._v(" * ")]):e._e()]),n("div",{staticClass:"mt-1"},[n("input",e._b({staticClass:"box-border block w-full min-w-0 px-4 py-3 placeholder-gray-400 transition-colors duration-100 ease-in-out border border-gray-200 rounded-lg shadow-sm appearance-none resize-none focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:focus:border-indigo-300 dark:bg-gray-800 dark:text-white",class:{"border-red-500":e.$props.error,"shadow-sm":!e.$props.flat},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput,change:e.onChange}},"input",e.$attrs,!1))])])},a=[],r=(n("a9e3"),n("ac1f"),n("5319"),n("2b0e")),s=r["default"].extend({inheritAttrs:!1,props:{error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},label:{type:String,required:!1},subtext:{type:String,required:!1},value:{type:Number,default:0},required:{type:Boolean,default:!1},formatFunction:{type:Function,default:function(e){return String(e)}}},data:function(){return{active:!1}},updated:function(){this.active||(this.$props.value=this.$props.formatFunction(this.$props.value))},computed:{errorMessage:function(){var e;return null!==(e=this.$props.error)&&void 0!==e?e:"Error: "}},methods:{$getFormattedValue:function(e){return e.target.value?parseFloat(e.target.value.replace(/[^\d.]/g,"")):null},onInput:function(e){var t=this.$getFormattedValue(e);this.$emit("input",t)},onChange:function(e){var t=this.$getFormattedValue(e);this.$emit("change",t)},onBlur:function(e){var t=this.$getFormattedValue(e);this.active=!1,this.$emit("blur",t),this.$props.value=t,t&&(this.$props.value=this.$props.formatFunction(t))},onFocus:function(e){var t=this.$getFormattedValue(e);this.$props.value=t,this.active=!0,this.$emit("focus",t)}}}),l=s,o=(n("ad30"),n("2877")),c=Object(o["a"])(l,i,a,!1,null,null,null);t["a"]=c.exports},"347c":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g}));var i,a=n("e5e9"),r=n("c964"),s=(n("96cf"),n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("d3b7"),n("25f0"),n("159b"),n("d28b"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("5184")),l=n("c50a"),o=n("d3a1"),c=n("c3a3"),u=n.n(c),d=[{id:"spark",title:"Spark",icon:"fas fa-burn text-2xl",duration:7,task_data:[{channel:"TWITCH",variant:"TITLE",count:1,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"flare",title:"Flare",icon:"fas fa-fire text-3xl",duration:14,task_data:[{channel:"TWITCH",variant:"TITLE",count:5,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"blaze",title:"Blaze",icon:"fad fa-fire-alt text-4xl",duration:30,task_data:[{channel:"TWITCH",variant:"TITLE",count:15,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:3,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"VIDEO",count:1,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"TITLE",count:1,condition:"{% company %}"}]}],m=function(e){var t=e.shortlink,n=e.condition,i=/{% link %}|{%link%}|{%link %}|{% link%}/;return{condition:n.replace(i,"https://".concat("s.pillar.io","/").concat(t))}},v=function(e){var t=e.condition,n=e.campaign,i=/{% company %}/,a=n.organization.name.normalize("NFD").replace(/[^a-zA-Z0-9]/g,"");return t.replace(i,a)},f=function(e){var t=e.shortlink,n=e.condition,i=e.campaign,a=v({condition:n,campaign:i}),r=m({shortlink:t,condition:a});return r},p=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Math.random().toString(36).substring(4),e.next=3,o["a"].query({query:Object(s["a"])(i||(i=Object(a["a"])(["\n\t\t\tquery CheckShortlinkExists($redirect_key: String) {\n\t\t\t\tattribution_shortlink(where: { redirect_key: { _eq: $redirect_key } }) {\n\t\t\t\t\tredirect_key\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{redirect_key:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.attribution_shortlink.length?p():t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.shortlink,i=t.campaign,a=t.influencerId,r=i.target_url,i.url_parameters.forEach((function(e,t){var n=e.name,i=e.value;r+=t>0?"&":"?",r+=encodeURI("".concat(n,"=").concat("{{ influencer_id }}"===i?a:i))})),e.next=5,o["a"].mutate({mutation:u.a,variables:{redirect_key:n,target_url:r}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,r,s,o,c,u,d,m,v,b,g,h,_,x,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.influencerId,i=t.tasks,a=t.activation_id,r=t.campaign,s=[],e.next=4,p();case 4:for(o=e.sent,c=!0,u=!1,d=void 0,e.prev=8,m=i[Symbol.iterator]();!(c=(v=m.next()).done);c=!0)b=v.value,g=b.channel,h=b.variant,_=b.count,x=f({shortlink:o,condition:b.condition,campaign:r}),w=x.condition,s.push({id:Object(l["a"])(),activation_id:a,channel:g,variant:h,condition:w,count:_});e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),u=!0,d=e.t0;case 16:e.prev=16,e.prev=17,c||null==m.return||m.return();case 19:if(e.prev=19,!u){e.next=22;break}throw d;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.next=26,k({shortlink:o,campaign:r,influencerId:n});case 26:return e.abrupt("return",{task_objects:s,shortlink:o});case 27:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t,n=(null===(t=e.influencer.invitations)||void 0===t?void 0:t[0])||{};return encodeURI(n.consumed?"".concat(window.location.origin,"/activations/").concat(e.id):"".concat(window.location.origin,"/invitation/").concat(n.id))}},"3d9a":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InsightsGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"insights_group"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"order_by"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"streamer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"display_name"},value:{kind:"EnumValue",value:"asc"}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_image_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streamer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streamer_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_followers"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:331}};n.loc.source={body:"fragment InsightsGroup on insights_group {\n  id\n  name\n  description\n  shared\n  organization {\n    id\n    name\n  }\n  members(order_by: { streamer: { display_name: asc } }) {\n    platform\n    platform_id\n    profile_image_url\n    streamer {\n      streamer_id\n      description\n      display_name\n      current_followers\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function s(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!s.has(e)){s.add(e);var t=a[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["InsightsGroup"]=s(n,"InsightsGroup")},"4d37":function(e,t,n){"use strict";n("f6e0")},"5a58":function(e,t,n){},9595:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"InsertInfluencerWithInvitation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"org_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"org_name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"alias"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"newUser"},name:{kind:"Name",value:"insert_users_user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"newInfluencer"},name:{kind:"Name",value:"insert_users_influencer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"alias"},value:{kind:"Variable",name:{kind:"Name",value:"alias"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"newInvitation"},name:{kind:"Name",value:"insert_users_influencer_invitation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"influencer_id"},value:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"alias"},value:{kind:"Variable",name:{kind:"Name",value:"alias"}}},{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"ObjectField",name:{kind:"Name",value:"org_id"},value:{kind:"Variable",name:{kind:"Name",value:"org_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"org_name"},value:{kind:"Variable",name:{kind:"Name",value:"org_name"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:668}};n.loc.source={body:"mutation InsertInfluencerWithInvitation(\n  $influencer_id: uuid\n  $user_id: uuid\n  $org_id: uuid\n  $org_name: String\n  $email: String\n  $alias: String\n) {\n  newUser: insert_users_user(objects: { id: $user_id, email: $email }) {\n    returning {\n      id\n    }\n  }\n  newInfluencer: insert_users_influencer(\n    objects: { id: $influencer_id, user_id: $user_id, alias: $alias }\n  ) {\n    returning {\n      id\n    }\n  }\n  newInvitation: insert_users_influencer_invitation(\n    objects: {\n      influencer_id: $influencer_id\n      user_id: $user_id\n      alias: $alias\n      email: $email\n      org_id: $org_id\n      org_name: $org_name\n    }\n  ) {\n    affected_rows\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function s(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!s.has(e)){s.add(e);var t=a[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["InsertInfluencerWithInvitation"]=s(n,"InsertInfluencerWithInvitation")},9626:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n\t\tflex flex-col flex-none\n\t\tw-48\n\t\th-20\n\t\tpx-3\n\t\tpy-2\n\t\ttransition\n\t\tduration-100\n\t\tease-in-out\n\t\tshadow\n\t\tcursor-pointer\n\t",class:{"bg-white border-transparent hover:ring ring-gray-300":!e.darkMode,"bg-blue-200":e.selected},on:{click:function(t){return e.$emit("open",e.group)}}},[n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"text-sm font-medium select-none center",class:{"text-gray-700":!e.darkMode}},[e._v(" "+e._s(e.group.name)+" ")]),e.group.shared?n("i",{staticClass:"text-xs text-athlane-blue center fas fa-share-alt"}):e._e()]),n("div",{staticClass:"flex items-center h-full p-1 pl-2 rounded",class:{"bg-gray-800":e.darkMode}},[e.group.members.length?n("div",{staticClass:"flex items-center w-full"},e._l(e.group.members.slice(0,7),(function(t){return n("img",{key:t.platform_id,staticClass:"flex-none w-8 h-8 -ml-2 rounded-full",attrs:{src:t.profile_image_url||e.unknownStreamerLogo},on:{error:e.onImageError}})})),0):n("div",{staticClass:"-ml-1 text-sm italic text-gray-500"},[e._v("Empty")])])])},a=[],r=n("b104"),s={props:{group:{type:Object,required:!0},darkMode:{type:Boolean,default:!1}},data:function(){return{unknownStreamerLogo:r["M"],selected:!1}},mounted:function(){var e=this;this.$root.$on("selectedGroup",(function(t){e.selected=t==e.group.id}))},methods:{onImageError:function(e){e.target.src=this.unknownStreamerLogo}}},l=s,o=n("2877"),c=Object(o["a"])(l,i,a,!1,null,null,null);t["a"]=c.exports},"9bce":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetInfluencersBySearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"filteredAthlaneInfluencers"},name:{kind:"Name",value:"users_influencer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_or"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"first_name"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_ilike"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}]}}]}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_ilike"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}]}}]}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"last_name"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_ilike"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}]}}]}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"alias"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_ilike"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}]}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alias"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socials"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_image"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:716}};n.loc.source={body:"query GetInfluencersBySearch(\n  $searchTerm: String\n  $limit: Int\n  ) {\n  filteredAthlaneInfluencers: users_influencer(\n    limit: $limit\n    where: {\n      _or: [\n        { user: { first_name: { _ilike: $searchTerm }}}\n        { user: { email: { _ilike: $searchTerm }}}\n        { user: { last_name: { _ilike: $searchTerm }}}\n        { alias: { _ilike: $searchTerm }}\n      ]\n    }\n  ) {\n    id\n    alias\n    socials {\n      channel\n      channel_name\n      channel_id\n    }\n    user {\n      id\n      email\n      first_name\n      last_name\n      profile_image\n    }\n    activations {\n      id\n      campaign {\n        id\n        title\n        organization {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function s(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!s.has(e)){s.add(e);var t=a[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["GetInfluencersBySearch"]=s(n,"GetInfluencersBySearch")},"9f94":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetGroupsByUserOrOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"org_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"groups"},name:{kind:"Name",value:"insights_group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"org_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"org_id"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"_or"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}]}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"shared"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"BooleanValue",value:!0}}]}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InsightsGroup"},directives:[]}]}}]}}],loc:{start:0,end:291}};i.loc.source={body:'#import "../fragments/InsightsGroup.fragment.gql"\nquery GetGroupsByUserOrOrg($org_id: uuid, $user_id: uuid!) {\n  groups: insights_group(\n    where: {\n      org_id: { _eq: $org_id }\n      _or: [{ user_id: { _eq: $user_id } }, { shared: { _eq: true } }]\n    }\n  ) {\n    ...InsightsGroup\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}i.definitions=i.definitions.concat(r(n("3d9a").definitions));var l={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=l[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var s=r;r=new Set,s.forEach((function(e){if(!a.has(e)){a.add(e);var t=l[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),l[e.name.value]=t}}))})(),e.exports=i,e.exports["GetGroupsByUserOrOrg"]=c(i,"GetGroupsByUserOrOrg")},a2bf:function(e,t,n){"use strict";var i=n("e8b5"),a=n("50c4"),r=n("0366"),s=function(e,t,n,l,o,c,u,d){var m,v=o,f=0,p=!!u&&r(u,d,3);while(f<l){if(f in n){if(m=p?p(n[f],f,t):n[f],c>0&&i(m))v=s(e,t,m,a(m.length),v,c-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[v]=m}v++}f++}return v};e.exports=s},ad30:function(e,t,n){"use strict";n("5a58")},c474:function(e,t,n){"use strict";n("cb15")},c9d7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"InsertActivation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shortlink"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conversation_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"campaign_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"package"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_status_enum"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date_start"}},type:{kind:"NamedType",name:{kind:"Name",value:"timestamptz"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date_end"}},type:{kind:"NamedType",name:{kind:"Name",value:"timestamptz"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date_expiration"}},type:{kind:"NamedType",name:{kind:"Name",value:"timestamptz"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"is_negotiable"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"convExists"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"financial_object"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_financial_insert_input"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"product_offering_objects"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_financial_product_insert_input"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contract_object"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"legal_contract_insert_input"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"legal_object"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_legal_insert_input"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conversation_title"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conversation_participant_objects"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"conversation_participant_insert_input"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"task_objects"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_task_insert_input"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"influencer_id"},value:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"campaign_id"},value:{kind:"Variable",name:{kind:"Name",value:"campaign_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"ObjectField",name:{kind:"Name",value:"date_start"},value:{kind:"Variable",name:{kind:"Name",value:"date_start"}}},{kind:"ObjectField",name:{kind:"Name",value:"package"},value:{kind:"Variable",name:{kind:"Name",value:"package"}}},{kind:"ObjectField",name:{kind:"Name",value:"date_end"},value:{kind:"Variable",name:{kind:"Name",value:"date_end"}}},{kind:"ObjectField",name:{kind:"Name",value:"date_expiration"},value:{kind:"Variable",name:{kind:"Name",value:"date_expiration"}}},{kind:"ObjectField",name:{kind:"Name",value:"shortlink"},value:{kind:"Variable",name:{kind:"Name",value:"shortlink"}}},{kind:"ObjectField",name:{kind:"Name",value:"is_negotiable"},value:{kind:"Variable",name:{kind:"Name",value:"is_negotiable"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_financial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"financial_object"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_financial_product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"Variable",name:{kind:"Name",value:"product_offering_objects"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_legal_contract"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"contract_object"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_legal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"legal_object"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_conversation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"conversation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"conversation_title"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"convExists"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_conversation_participant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"Variable",name:{kind:"Name",value:"conversation_participant_objects"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"convExists"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_conversation_reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"activation_id"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"conversation_id"},value:{kind:"Variable",name:{kind:"Name",value:"conversation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"campaign_id"},value:{kind:"Variable",name:{kind:"Name",value:"campaign_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"reference_type"},value:{kind:"StringValue",value:"activation",block:!1}}]}},{kind:"Argument",name:{kind:"Name",value:"on_conflict"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"constraint"},value:{kind:"EnumValue",value:"conversation_reference_pkey"}},{kind:"ObjectField",name:{kind:"Name",value:"update_columns"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"activation_id"},{kind:"EnumValue",value:"conversation_id"},{kind:"EnumValue",value:"reference_type"},{kind:"EnumValue",value:"campaign_id"}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_campaigns_task"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"Variable",name:{kind:"Name",value:"task_objects"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_status_change"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"activation_id"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"to_status"},value:{kind:"EnumValue",value:"INVITED"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:2382}};n.loc.source={body:'mutation InsertActivation(\n  $shortlink: String\n  $activation_id: uuid\n  $conversation_id: uuid\n  $campaign_id: uuid\n  $influencer_id: uuid\n  $package: String\n  $status: campaigns_activation_status_enum\n  $date_start: timestamptz\n  $date_end: timestamptz\n  $date_expiration: timestamptz\n  $is_negotiable: Boolean!\n  $convExists: Boolean!\n  $financial_object: campaigns_activation_financial_insert_input!\n  $product_offering_objects: [campaigns_activation_financial_product_insert_input!]!\n  $contract_object: legal_contract_insert_input!\n  $legal_object: campaigns_activation_legal_insert_input!\n  $conversation_title: String\n  $conversation_participant_objects: [conversation_participant_insert_input!]!\n  $task_objects: [campaigns_task_insert_input!]!\n) {\n  insert_campaigns_activation(\n    objects: {\n      id: $activation_id\n      influencer_id: $influencer_id\n      campaign_id: $campaign_id\n      status: $status\n      date_start: $date_start\n      package: $package\n      date_end: $date_end\n      date_expiration: $date_expiration\n      shortlink: $shortlink\n      is_negotiable: $is_negotiable\n    }\n  ) {\n    affected_rows\n  }\n\n  insert_campaigns_activation_financial(objects: [$financial_object]) {\n    affected_rows\n  }\n\n  insert_campaigns_activation_financial_product(\n    objects: $product_offering_objects\n  ) {\n    affected_rows\n  }\n\n  insert_legal_contract(objects: [$contract_object]) {\n    affected_rows\n  }\n\n  insert_campaigns_activation_legal(objects: [$legal_object]) {\n    affected_rows\n  }\n\n  insert_conversation(\n    objects: { id: $conversation_id, title: $conversation_title }\n  ) @skip(if: $convExists) {\n    affected_rows\n  }\n\n  insert_conversation_participant(objects: $conversation_participant_objects)\n    @skip(if: $convExists) {\n    affected_rows\n  }\n\n  insert_conversation_reference(\n    objects: {\n      activation_id: $activation_id\n      conversation_id: $conversation_id\n      campaign_id: $campaign_id\n      reference_type: "activation"\n    }\n    on_conflict: {\n      constraint: conversation_reference_pkey\n      update_columns: [activation_id, conversation_id, reference_type, campaign_id]\n    }\n  ) {\n    affected_rows\n  }\n\n  insert_campaigns_task(objects: $task_objects) {\n    affected_rows\n  }\n\n  insert_campaigns_activation_status_change(\n    objects: { activation_id: $activation_id, to_status: INVITED }\n  ) {\n    affected_rows\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function s(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,s=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!s.has(e)){s.add(e);var t=a[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["InsertActivation"]=s(n,"InsertActivation")},cb15:function(e,t,n){},d03e:function(e,t,n){"use strict";n("f856")},f18b:function(e,t,n){"use strict";var i,a,r,s,l,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-screen h-screen sm:p-10 center",on:{click:e.handleClickAway}},[n("div",{staticClass:"flex h-full shadow-xl md:w-4/5 xl:max-w-8xl",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"\n\t\t\t\tflex flex-col\n\t\t\t\tw-64\n\t\t\t\th-full\n\t\t\t\tpx-3\n\t\t\t\tpy-5\n\t\t\t\tbg-gray-200\n\t\t\t\tborder-r border-gray-300\n\t\t\t"},[n("div",{staticClass:"px-2 mb-2 text-xs tracking-wider text-gray-600"},[e._v(" "+e._s(e.influencer?"Activation for "+e.$constructUserFullName(e.influencer.user,e.influencer.alias):"New Activations")+" ")]),e._l(e.activationStepData,(function(t,i){return n("div",{key:"sidebar-activations-step-"+i,staticClass:"flex p-2 my-1 cursor-pointer select-none hover:bg-gray-300",on:{click:function(t){e.currentStep=i}}},[n("div",{staticClass:"flex-none w-12 h-12 text-xl rounded-full center",class:e.currentStep===i?"text-blue-100 bg-athlane-blue":"text-gray-600 border border-gray-500"},[n("i",{class:t.sidebar.logo})]),n("div",{staticClass:"flex flex-col items-start justify-center ml-2"},[n("div",{staticClass:"text-sm",class:{"text-athlane-blue":e.currentStep===i,"text-gray-700":e.currentStep!==i}},[e._v(" "+e._s(t.sidebar.titleText)+" ")]),n("div",{staticClass:"text-xs leading-tight",class:{"text-yellow-600":t.completionErrors(e.newActivations).length,"text-gray-500":!t.completionErrors(e.newActivations).length}},[e._v(" "+e._s(t.sidebar.infoText)+" ")])])])}))],2),n("div",{staticClass:"flex flex-col flex-1 h-full max-h-full min-w-0 py-3 bg-white"},[n("div",{staticClass:"flex flex-col px-6 pt-3 pb-6 border-b border-gray-300"},[n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"flex flex-col"},[n("h2",{staticClass:"text-lg font-medium text-athlane-black"},[e._v(" "+e._s(e.currentStepData.titleText)+" ")]),n("p",{staticClass:"text-sm leading-tight text-gray-600"},[e._v(" "+e._s(e.currentStepData.helpText)+" ")])]),n("athlane-button",{attrs:{text:e.continueButtonText,disabled:e.currentErrors.length&&e.displayErrors||e.loading||e.isLastStep&&!e.readyToCreate,icon:{"fas fa-chevron-right":!e.loading,"fas fa-spinner fa-spin":e.loading}},on:{click:e.onNextStep}})],1),e.displayErrors?n("div",{staticClass:"mt-2 text-sm text-red-500"},e._l(e.currentErrors,(function(t,i){return n("p",{key:"error-"+i},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),n(e.currentStepData.component,{tag:"component",staticClass:"flex-1 px-6 py-4 overflow-y-auto",attrs:{newActivations:e.newActivations,campaign:e.campaign,group:e.group},on:{"next-step":function(){return e.currentStep+=1}}})],1)])])},c=[],u=n("c964"),d=n("d0ff"),m=n("e5e9"),v=(n("96cf"),n("99af"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("b0c0"),n("d81d"),n("4de4"),n("5184")),f=n("f817"),p=n("c50a"),k=n("cd42"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col space-y-3"},[n("GroupSelection",{attrs:{newActivations:e.newActivations,group:e.group}}),e.group?e._e():n("div",{staticClass:"flex flex-col space-y-6"},[e.nonGroupSelections.length?n("div",[n("div",{staticClass:"text-sm font-medium text-gray-700"},[e._v("Selected Streamers")]),e._l(e.nonGroupSelections,(function(t,i){return n("SelectInfluencerRow",{key:i,attrs:{selected:e.isSelectedInfluencer(t),influencer:t},on:{select:function(n){return e.toggleSelectInfluencer(t)}}})}))],2):e._e(),n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"text-sm font-medium text-gray-700"},[e._v("Find Streamers")]),n("athlane-field",{staticClass:"w-full",attrs:{placeholder:"Search for Streamer",icon:"fas fa-search",hideError:""},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),n("div",{staticClass:"flex items-center justify-between"},[n("div",{staticClass:"text-xs text-gray-500"},[e.$apollo.loading?n("p",[e._v("Loading...")]):n("p",[e._v("Search by name, alias, or email")])]),n("div",[n("Dropdown",{staticClass:"text-sm sm:block",scopedSlots:e._u([{key:"trigger",fn:function(){return[n("div",{staticClass:"\n\t\t\t\t\t\t\t\t\tflex\n\t\t\t\t\t\t\t\t\titems-center\n\t\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\t\ttext-athlane-blue\n\t\t\t\t\t\t\t\t\tgroup\n\t\t\t\t\t\t\t\t\thover:text-blue-700\n\t\t\t\t\t\t\t\t"},[n("i",{staticClass:"mr-2 text-xs fal fa-plus"}),e._v(" Add new creator ")])]},proxy:!0},{key:"dropdown",fn:function(){return[n("div",{staticClass:"p-5 mt-3 bg-white rounded shadow-xl"},[n("div",{staticClass:"flex"},[n("athlane-field",{staticClass:"w-48",attrs:{icon:"fas fa-at",label:"Alias",placeholder:"Alias",hideError:"",required:""},model:{value:e.newInfluencer.alias,callback:function(t){e.$set(e.newInfluencer,"alias",t)},expression:"newInfluencer.alias"}}),n("athlane-field",{staticClass:"w-48 ml-2",attrs:{icon:"fas fa-envelope",label:"Email",placeholder:"Email",hideError:"",required:""},model:{value:e.newInfluencer.email,callback:function(t){e.$set(e.newInfluencer,"email",t)},expression:"newInfluencer.email"}})],1),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top-center",value:e.invalidInfluencerReason,expression:"invalidInfluencerReason",modifiers:{"top-center":!0}}],staticClass:"\n\t\t\t\t\t\t\t\t\t\tpy-2\n\t\t\t\t\t\t\t\t\t\tmt-3\n\t\t\t\t\t\t\t\t\t\ttext-sm text-white\n\t\t\t\t\t\t\t\t\t\ttransition-opacity\n\t\t\t\t\t\t\t\t\t\tduration-200\n\t\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\t\t\tbg-athlane-blue\n\t\t\t\t\t\t\t\t\t\tw-36\n\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\thover:opacity-80\n\t\t\t\t\t\t\t\t\t",class:{"opacity-50 cursor-not-allowed":e.invalidInfluencerReason},attrs:{disabled:e.invalidInfluencerReason},on:{click:e.addNewInfluencer}},[e._v(" Invite Creator ")])])]},proxy:!0}],null,!1,3040024895)})],1)])],1),e.$apollo.queries.filteredAthlaneInfluencers.loading?e._e():n("div",{staticClass:"w-full overflow-hidden",class:{hidden:!e.searchTerm,"flex flex-col":e.searchTerm}},e._l(e.filteredInfluencers,(function(t,i){return n("SelectInfluencerRow",{key:i,attrs:{selected:e.isSelectedInfluencer(t),influencer:t},on:{select:function(n){return e.toggleSelectInfluencer(t)}}})})),1)])],1)},g=[],h=n("f3f3"),_=(n("ac1f"),n("1276"),n("fb6a"),n("caad"),n("cd0b")),x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col my-2"},[e.group?e._e():i("div",{staticClass:"text-sm font-medium text-gray-700"},[e._v("Groups")]),i("ApolloQuery",{staticClass:"my-2",attrs:{query:n("9f94"),variables:{org_id:e.$organization.id,user_id:e.$user.id}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.result.data;return[n&&!e.group?i("div",{staticClass:"flex flex-wrap text-gray-200"},e._l(n.groups,(function(t){return i("StreamerGroupCard",{key:t.id,staticClass:"mr-2 border border-gray-200",class:{"border-2 border-blue-400 hover:border-blue-400":e.newActivations.influencers.group_ids.some((function(e){return e===t.id}))},attrs:{group:t},on:{open:function(n){return e.onSelectGroup(t)}}})})),1):e._e(),e.group?i("StreamerGroupCard",{key:e.group.id,staticClass:"border-2 border-blue-400 hover:border-blue-400",attrs:{group:e.group}}):e._e(),e.newActivations.influencers.group_ids.length?i("div",{staticClass:"py-1 mt-2"},[e.isLoading?i("div",{staticClass:"text-gray-500"},[e._v("Loading...")]):i("div",[i("div",{staticClass:"text-xs text-athlane-blue"},[e._v(" "+e._s(e.selectedExistingStreamers.length)+" existing, "+e._s(e.selectedNewStreamers.length)+" new streamer(s) selected. ")]),e.requiresEmail.length?i("div",{staticClass:"flex flex-col my-4"},[i("div",{staticClass:"mb-2 text-sm text-gray-700"},[e._v(" "+e._s(e.requiresEmail.length)+" streamers require email input before invitation. ")]),e._l(e.requiresEmail,(function(t){return i("div",{key:t.id,staticClass:"flex items-center my-1"},[i("img",{staticClass:"\n\t\t\t\t\t\t\t\tflex-none\n\t\t\t\t\t\t\t\tw-12\n\t\t\t\t\t\t\t\th-12\n\t\t\t\t\t\t\t\tborder border-gray-400\n\t\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\t\tshadow\n\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t",attrs:{src:t.user.profile_image||e.unknownStreamerLogo},on:{error:e.onImageError}}),i("div",{staticClass:"w-20 ml-2 mr-4 text-athlane-black"},[e._v(" "+e._s(t.alias)+" ")]),i("athlane-field",{attrs:{placeholder:"Email",hideError:"",required:""},model:{value:t.user.email,callback:function(n){e.$set(t.user,"email",n)},expression:"streamer.user.email"}})],1)})),i("div",{staticClass:"flex items-center mt-4"},[i("div",{staticClass:"\n\t\t\t\t\t\t\t\tw-40\n\t\t\t\t\t\t\t\tp-2\n\t\t\t\t\t\t\t\ttext-sm text-gray-700\n\t\t\t\t\t\t\t\tbg-gray-300\n\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\tselect-none\n\t\t\t\t\t\t\t\thover:opacity-75\n\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t",on:{click:e.onClickCancel}},[e._v(" Cancel ")]),i("div",{staticClass:"\n\t\t\t\t\t\t\t\tw-40\n\t\t\t\t\t\t\t\tp-2\n\t\t\t\t\t\t\t\tml-2\n\t\t\t\t\t\t\t\ttext-sm text-white\n\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\t\t\tselect-none\n\t\t\t\t\t\t\t\tbg-athlane-blue\n\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t",class:{"cursor-pointer":!e.isDisabled,"opacity-75 cursor-not-allowed":e.isDisabled},on:{click:e.onClickSubmit}},[e._v(" Submit ")])])],2):e._e()])]):e._e()]}}])})],1)},w=[],y=n("9626"),N=n("1962"),S=n("b104"),C={props:{newActivations:Object,group:Object},components:{StreamerGroupCard:y["a"]},data:function(){return{unknownStreamerLogo:S["M"],isLoading:!1,requiresEmail:[]}},computed:{selectedExistingStreamers:function(){return this.newActivations.influencers.existing.filter((function(e){var t=e.group_id;return t}))},selectedNewStreamers:function(){return this.newActivations.influencers.new.filter((function(e){var t=e.group_id;return t}))},isDisabled:function(){return this.requiresEmail.some((function(e){return!e.user.email}))}},created:function(){this.group&&this.onSelectGroup(this.group)},methods:{onClickCancel:function(){this.requiresEmail=[]},onClickSubmit:function(){var e;this.isDisabled||((e=this.newActivations.influencers.new).push.apply(e,Object(d["a"])(this.requiresEmail.map((function(e){return Object(h["a"])(Object(h["a"])({},e),{},{user:{email:e.user.email.toLowerCase()}})})))),this.requiresEmail=[])},onImageError:function(e){e.target.src=this.unknownStreamerLogo},onSelectGroup:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.newActivations.influencers.group_ids.some((function(t){return t===e.id}))){n.next=7;break}t.newActivations.influencers.group_ids=t.newActivations.influencers.group_ids.filter((function(t){return t!==e.id})),t.requiresEmail=t.requiresEmail.filter((function(t){var n=t.group_id;return n!==e.id})),t.newActivations.influencers.new=t.newActivations.influencers.new.filter((function(t){var n=t.group_id;return!n||n!==e.id})),t.newActivations.influencers.existing=t.newActivations.influencers.existing.filter((function(t){var n=t.group_id;return!n||n!==e.id})),n.next=10;break;case 7:return t.newActivations.influencers.group_ids.push(e.id),n.next=10,t.selectGroupStreamers(e);case 10:case"end":return n.stop()}}),n)})))()},fetchExistingStreamer:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.twitch_id,n.next=3,t.$apollo.query({query:Object(v["a"])(i||(i=Object(m["a"])(["\n\t\t\t\t\tquery streamerExists($twitch_id: String) {\n\t\t\t\t\t\tusers_influencer(\n\t\t\t\t\t\t\twhere: {\n\t\t\t\t\t\t\t\tsocials: {\n\t\t\t\t\t\t\t\t\tchannel_id: { _eq: $twitch_id }\n\t\t\t\t\t\t\t\t\tchannel: { _eq: TWITCH }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\talias\n\t\t\t\t\t\t\tuser {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tfirst_name\n\t\t\t\t\t\t\t\tlast_name\n\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t"]))),variables:{twitch_id:a}});case 3:return r=n.sent,s=r.data,n.abrupt("return",null===s||void 0===s?void 0:s.users_influencer[0]);case 6:case"end":return n.stop()}}),n)})))()},selectGroupStreamers:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,l,o,c,u,d,m,v,f,p,k;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isLoading=!0,i=!0,a=!1,r=void 0,n.prev=4,s=e.members[Symbol.iterator]();case 6:if(i=(l=s.next()).done){n.next=28;break}return o=l.value,n.next=10,Object(N["e"])({index:"streamers",payload:{query:{match:{TWITCH_ID:o.platform_id}}}});case 10:if(c=n.sent,u=c.hits.hits.map((function(e){var t=e._source;return t})).map(S["c"]),!u.length){n.next=25;break}return d=u[0],m=d.socials,v=d.display_name,f=d.twitch_id,p=null===m||void 0===m?void 0:m.EMAIL,n.next=17,t.fetchExistingStreamer({twitch_id:f});case 17:if(k=n.sent,!k){n.next=21;break}return t.newActivations.influencers.existing.push({id:k.id,alias:k.alias,user:{email:k.user.email},group_id:e.id}),n.abrupt("continue",25);case 21:if(!p){n.next=24;break}return t.newActivations.influencers.new.push({id:v,alias:v,user:{email:p},group_id:e.id}),n.abrupt("continue",25);case 24:t.requiresEmail.push({id:v,alias:v,user:{email:null,profile_image:o.profile_image_url},group_id:e.id});case 25:i=!0,n.next=6;break;case 28:n.next=34;break;case 30:n.prev=30,n.t0=n["catch"](4),a=!0,r=n.t0;case 34:n.prev=34,n.prev=35,i||null==s.return||s.return();case 37:if(n.prev=37,!a){n.next=40;break}throw r;case 40:return n.finish(37);case 41:return n.finish(34);case 42:t.isLoading=!1;case 43:case"end":return n.stop()}}),n,null,[[4,30,34,42],[35,,37,41]])})))()}}},j=C,O=n("2877"),$=Object(O["a"])(j,x,w,!1,null,null,null),A=$.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n\t\tflex\n\t\titems-center\n\t\tjustify-between\n\t\tw-full\n\t\tp-4\n\t\tmt-2\n\t\trounded\n\t\tcursor-pointer\n\t",class:{"bg-athlane-blue":e.selected,"border-blue-300 border hover:bg-blue-100":!e.selected},on:{click:function(t){return e.$emit("select")}}},[n("div",{staticClass:"flex items-center"},[n("athlane-profile-image",{staticClass:"border border-gray-200",attrs:{size:"12",username:e.$constructUserFullName(e.influencer.user,e.influencer.alias),src:e.influencer.user.profile_image}}),n("div",{staticClass:"flex flex-col items-start justify-center ml-2"},[e.influencer.user.first_name?n("div",[n("div",{staticClass:"font-medium",class:{"text-white":e.selected,"text-athlane-black":!e.selected}},[e._v(" "+e._s(e.$constructUserFullName(e.influencer.user))+" ")]),n("div",{staticClass:"text-sm leading-tight",class:{"text-blue-100":e.selected,"text-athlane-blue":!e.selected}},[e._v(" "+e._s(e.influencer.alias)+"  "+e._s(e.influencer.user.email)+" ")])]):n("div",[n("div",{staticClass:"font-medium",class:{"text-white":e.selected,"text-athlane-black":!e.selected}},[e._v(" "+e._s(e.influencer.alias)+" ")]),n("div",{staticClass:"text-sm leading-tight",class:{"text-blue-100":e.selected,"text-athlane-blue":!e.selected}},[e._v(" "+e._s(e.influencer.user.email)+" ")])])])],1),n("div",{staticClass:"flex flex-col items-end justify-center"},[n("div",{staticClass:"text-sm",class:{"text-yellow-200":e.selected,"text-athlane-orange":!e.selected}},[n("i",{staticClass:"mr-1",class:e.statusMap[e.influencer.status].icon}),e._v(" "+e._s(e.statusMap[e.influencer.status].text)+" ")]),n("div",{staticClass:"text-xs italic",class:{"text-blue-200":e.selected,"text-gray-600":!e.selected}},[e._v(" "+e._s(e.brandList)+" ")])])])},I=[],E=(n("a15b"),{NEW:{icon:"fas fa-sparkles",text:"New"},ACTIVE:{icon:"fas fa-meteor",text:"Active"},INVITED:{icon:"fas fa-envelope",text:"Invited"},PENDING:{icon:"fas fa-share",text:"Invite to Athlane"},MANUAL:{icon:"fas fa-fist-raised",text:"Manual Invite"}}),V={props:{influencer:{type:Object,required:!0},selected:{type:Boolean,default:!1}},data:function(){return{statusMap:E}},computed:{brandList:function(){var e=this.influencer.activations.map((function(e){return e.campaign.organization.name})),t=Object(S["i"])(e);return 0===t.length?"No previous activations":t.length<=2?"Worked with ".concat(t.join(", ")):"Worked with ".concat(t.slice(0,2).join(", "),", and ").concat(t.length-2," others")}}},D=V,F=Object(O["a"])(D,T,I,!1,null,null,null),q=F.exports,R=n("9bce"),L=n.n(R),P={email:"",alias:""},G={props:{newActivations:{type:Object,required:!0},group:{type:Object,required:!1}},components:{Dropdown:_["a"],SelectInfluencerRow:q,GroupSelection:A},data:function(){return{searchTerm:"",searchResponse:null,filteredInfluencers:[],filteredAthlaneInfluencers:[],newInfluencer:Object(h["a"])({},P)}},apollo:{filteredAthlaneInfluencers:{query:L.a,variables:function(){return{searchTerm:"%".concat(this.searchTerm.split(" ")[0],"%"),limit:30}},update:function(e){var t=this;return e.filteredAthlaneInfluencers.map((function(e){return Object(h["a"])(Object(h["a"])({},e),{},{status:t.getInfluencerStatus(e)})}))}}},created:function(){this.consolidatedSearch("")},watch:{searchTerm:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.consolidatedSearch(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{selectedInfluencers:function(){return[].concat(Object(d["a"])(this.newActivations.influencers.new),Object(d["a"])(this.newActivations.influencers.existing))},nonGroupSelections:function(){return this.selectedInfluencers.filter((function(e){var t=e.group_id;return!t}))},invalidInfluencerReason:function(){var e=this;return this.newInfluencer.alias?this.newInfluencer.email?this.newInfluencer.email&&!Object(S["z"])(this.newInfluencer.email)?"Inputted email is invalid.":!!this.filteredAthlaneInfluencers.some((function(t){return t.user.email===e.cleanEmail(e.newInfluencer.email)}))&&"This influencer already exists.":"New influencer must have an email.":"New influencer must have an alias."}},methods:{consolidatedSearch:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.searchInsights(e);case 2:i=n.sent,a=i.filter((function(e){return!t.filteredAthlaneInfluencers.some((function(t){return t.alias.toLowerCase()===e.alias.toLowerCase()}))})),t.filteredInfluencers=[].concat(Object(d["a"])(t.filteredAthlaneInfluencers),Object(d["a"])(a.slice(0,30)));case 5:case"end":return n.stop()}}),n)})))()},searchInsights:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(N["f"])({searchParams:{query:e||"",sort:{by:"CURRENT_FOLLOWERS",direction:"desc"},status:"none",filters:{SOCIALS:["EMAIL"]}}});case 2:return n=t.sent,i=n.hits.map((function(e){return{id:e.twitch_id,alias:e.display_name,user:{email:e.socials.EMAIL,profile_image:e.profile_image_url},activations:[],status:"PENDING"}})),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})))()},getInfluencerStatus:function(e){return e.user.first_name?e.activations.length?"ACTIVE":"NEW":"INVITED"},isNewInfluencer:function(e){return["PENDING","MANUAL"].includes(e.status)},isSelectedInfluencer:function(e){var t;return null===(t=this.selectedInfluencers)||void 0===t?void 0:t.some((function(t){return t.id===e.id}))},toggleSelectInfluencer:function(e){if(this.isSelectedInfluencer(e))this.newActivations.influencers.new=this.newActivations.influencers.new.filter((function(t){return t.id!==e.id})),this.newActivations.influencers.existing=this.newActivations.influencers.existing.filter((function(t){return t.id!==e.id}));else{if(this.isNewInfluencer(e))return void this.newActivations.influencers.new.push(e);this.newActivations.influencers.existing.push(e)}},cleanEmail:function(e){return e.toLowerCase()},addNewInfluencer:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.invalidInfluencerReason){t.next=2;break}return t.abrupt("return");case 2:e.newInfluencer.email=e.cleanEmail(e.newInfluencer.email),n={id:e.newInfluencer.alias,alias:e.newInfluencer.alias,user:{email:e.newInfluencer.email},activations:[],status:"MANUAL"},e.newActivations.influencers.new.push(n),e.showNewInfluencerForm=!1,e.newInfluencer=Object(h["a"])({},P);case 7:case"end":return t.stop()}}),t)})))()}}},z=G,M=(n("d03e"),Object(O["a"])(z,b,g,!1,null,"08600d46",null)),B=M.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.steps,(function(t,i){return n(t,{key:i,tag:"component",staticClass:"mb-4",attrs:{newActivations:e.newActivations,customPackage:e.customPackage}})})),1)},W=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.dateError?n("p",{staticClass:"mt-3 text-center text-red-500"},[e._v(" "+e._s(e.dateError)+" ")]):e._e(),n("div",{staticClass:"text-sm font-medium text-gray-700"},[e._v("Activation Dates")]),n("div",{staticClass:"text-xs text-gray-600"},[e._v(" Activations must be at minimum a week long. ")]),n("div",{staticClass:"flex items-center mt-4"},[n("DateField",{attrs:{label:"Start Date",subtext:"Start date for the activation",placeholder:"Start Date",icon:"fas fa-calendar",disabledDates:e.disabledStartDates,openDate:new Date,highlighted:{dates:[new Date]},required:"",hideError:""},on:{input:e.onSelectStartDate},model:{value:e.newActivations.date_start,callback:function(t){e.$set(e.newActivations,"date_start",t)},expression:"newActivations.date_start"}}),e.newActivations.pack.duration?e._e():n("DateField",{staticClass:"ml-2",attrs:{label:"End Date",subtext:"End date for the activation",placeholder:"End Date",icon:"fas fa-calendar",disabledDates:e.disabledEndDates,openDate:e.nextWeek,highlighted:{dates:[e.nextWeek]},required:"",hideError:""},model:{value:e.newActivations.date_end,callback:function(t){e.$set(e.newActivations,"date_end",t)},expression:"newActivations.date_end"}}),n("DateField",{staticClass:"ml-2",attrs:{label:"Offer Expiration Date",subtext:"Deadline for accepting the offer",placeholder:"Expiration Date",icon:"fas fa-calendar",disabledDates:e.disabledExpirationDates,openDate:e.tomorrow,highlighted:{dates:[e.tomorrow]},required:"",hideError:""},model:{value:e.newActivations.date_expiration,callback:function(t){e.$set(e.newActivations,"date_expiration",t)},expression:"newActivations.date_expiration"}})],1)])},Q=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[e.label?n("div",{staticClass:"text-sm tracking-wide text-gray-600"},[e._v(" "+e._s(e.label)+" "),e.required?n("span",{staticClass:"ml-1 text-yellow-500"},[e._v("*")]):e._e()]):e._e(),e.subtext?n("span",{staticClass:"block mb-1 text-xs tracking-wide text-gray-500"},[e._v(" "+e._s(e.subtext)+" ")]):e._e(),n("div",{staticClass:"relative"},[e.icon?n("div",{staticClass:"\n\t\t\t\tabsolute\n\t\t\t\tinset-y-0\n\t\t\t\tleft-0\n\t\t\t\tz-10\n\t\t\t\tflex\n\t\t\t\titems-center\n\t\t\t\tpl-2\n\t\t\t\ttext-gray-600\n\t\t\t\tpointer-events-none\n\t\t\t"},[n("i",{staticClass:"fa-fw",class:e.currentIcon})]):e._e(),n("DatePicker",e._b({attrs:{value:e.value,"input-class":e.inputClass},on:{input:function(t){return e.$emit("input",t)},selected:function(t){return e.$emit("change",t)}}},"DatePicker",e.$attrs,!1))],1),!e.hideError&&e.$props.error?n("span",{staticClass:"block my-1 text-sm tracking-wide text-red-500",class:{invisible:!e.$props.error}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()])},J=[],K=(n("0481"),n("b64b"),n("2b0e")),Z=K["default"].extend({inheritAttrs:!1,props:{error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},gray:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},icon:{type:Object,required:!0},label:{type:String,required:!1},subtext:{type:String,required:!1},required:{type:Boolean,default:!1},value:{type:Date,required:!1}},components:{DatePicker:function(){return n.e("chunk-2d237151").then(n.bind(null,"fa33"))}},data:function(){return{active:!1}},computed:{currentIcon:function(){var e=this.$props.icon;return"string"===typeof e?e:this.active?e.selected:e.default},errorMessage:function(){var e;return null!==(e=this.$props.error)&&void 0!==e?e:"Error: "},inputClass:function(){var e="appearance-none block box-border border duration-100 ease-in-out focus:shadow-outline min-w-0 outline-none p-2 placeholder-gray-400 rounded-lg transition-colors w-full disabled:bg-gray-200".split(" "),t={"border-red-500":this.$props.error,"shadow-sm":!this.$props.flat,"bg-gray-100":this.$props.gray&&!this.$props.dark,"bg-white":!this.$props.gray&&!this.$props.dark,"bg-gray-800":this.$props.dark&&!this.$props.gray,"text-white":this.$props.dark,"text-gray-900":!this.$props.dark,"border-transparent":this.$props.dark,"border-gray-200":!this.$props.dark,"pl-8":!!this.$props.icon,"pl-4":!this.$props.icon};return Object.keys(t).map((function(n){t[n]&&e.push(n)})),e.join(" ")}}}),X=Z,ee=(n("4d37"),Object(O["a"])(X,Y,J,!1,null,null,null)),te=ee.exports,ne={props:{newActivations:{type:Object,required:!0}},components:{DateField:te},computed:{tomorrow:function(){return Object(f["a"])().add(1,"day").toDate()},nextWeek:function(){return Object(f["a"])().add(7,"days").toDate()},disabledStartDates:function(){return this.$props.newActivations.pack.duration?{to:this.$props.newActivations.date_expiration||new Date}:{to:this.$props.newActivations.date_expiration||new Date,from:this.$props.newActivations.date_end||null}},disabledEndDates:function(){return{to:Object(f["a"])(this.$props.newActivations.date_start||new Date).add(7,"days").toDate()}},disabledExpirationDates:function(){return{to:new Date,from:this.newActivations.date_start||null}}},methods:{onSelectStartDate:function(e){this.newActivations.date_start=e;var t=this.$props.newActivations.pack.duration;t&&(this.$props.newActivations.date_end=Object(f["a"])(e).add(t,"days").toDate())}}},ie=ne,ae=Object(O["a"])(ie,H,Q,!1,null,null,null),re=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mb-2 text-sm font-medium text-gray-700"},[e._v("Compensation")]),n("div",{staticClass:"mb-2 text-sm text-athlane-blue"},[e._v("Fixed")]),n("div",{staticClass:"flex items-center w-full mb-2"},e._l(e.fixed,(function(t,i){return n(t,{key:i,tag:"component",staticClass:"w-full mr-2",attrs:{newActivations:e.newActivations}})})),1),n("div",{staticClass:"mt-4 mb-2 text-sm text-athlane-blue"},[e._v("Variable")]),e._l(e.variable,(function(t,i){return n(t,{key:i,tag:"component",staticClass:"mb-2",attrs:{newActivations:e.newActivations}})})),n("div",{staticClass:"mt-4 mb-2 text-sm text-athlane-blue"},[e._v("Flexibility")]),n("div",{staticClass:"flex items-center space-x-2"},[n("Toggle",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Negotiable activations give creators the option to chat in-platform before confirming the offer.",expression:"\n\t\t\t\t'Negotiable activations give creators the option to chat in-platform before confirming the offer.'\n\t\t\t",modifiers:{top:!0}}],attrs:{label:e.newActivations.is_negotiable?"Negotiable":"Non-Negotiable"},model:{value:e.newActivations.is_negotiable,callback:function(t){e.$set(e.newActivations,"is_negotiable",t)},expression:"newActivations.is_negotiable"}})],1)],2)},le=[],oe=n("4ba6"),ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NumberField",{attrs:{label:"Lumpsum",subtext:"Flat fee paid to the influencer",icon:"fas fa-dollar-sign",formatFunction:e.numericToDollarString,hideError:""},model:{value:e.newActivations.compensation.lumpsum,callback:function(t){e.$set(e.newActivations.compensation,"lumpsum",t)},expression:"newActivations.compensation.lumpsum"}})},ue=[],de=n("3432"),me={props:{newActivations:{type:Object,required:!0}},components:{NumberField:de["a"]},methods:{numericToDollarString:S["D"]}},ve=me,fe=Object(O["a"])(ve,ce,ue,!1,null,null,null),pe=fe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col flex-wrap items-start justify-center w-full"},e._l(e.commissions,(function(t,i){return n("div",{key:"commission-"+i,staticClass:"flex items-center w-full mb-2"},[n("athlane-field",{staticClass:"w-full",attrs:{label:"Commission Basis",subtext:"Basis of commission. Can be general (e.g., 'Athlane products')",icon:"fas fa-trophy",hideError:""},model:{value:t.product,callback:function(n){e.$set(t,"product",n)},expression:"commission.product"}}),n("NumberField",{staticClass:"w-40 ml-2",attrs:{label:"Percentage",subtext:"Percentage of sales",icon:"fas fa-percent",hideError:""},model:{value:t.percentage,callback:function(n){e.$set(t,"percentage",n)},expression:"commission.percentage"}})],1)})),0)},be=[],ge=(n("a434"),{product:"",percentage:""}),he={props:{newActivations:{type:Object,required:!0}},data:function(){return{commissions:[]}},created:function(){var e;this.commissions=null!==(e=this.newActivations.compensation.commission)&&void 0!==e?e:[Object(h["a"])({},ge)]},components:{NumberField:de["a"]},methods:{addCommission:function(){this.commissions.push(Object(h["a"])({},ge))},removeCommission:function(e){this.commissions.splice(e,1),this.commissions.length||this.addCommission()},isFinalCommission:function(e){return e===this.commissions.length-1}},watch:{selected:function(e){!1===e&&(this.newActivations.compensation.commission=null,this.commissions=[Object(h["a"])({},ge)])},commissions:{deep:!0,handler:function(e){var t=e.filter((function(e){return e.product||e.percentage}));t.length&&(this.newActivations.compensation.commission=t)}}}},_e=he,xe=Object(O["a"])(_e,ke,be,!1,null,null,null),we=xe.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Multiselect",{attrs:{label:"Product",subtext:"Product influencer recieves as compensation",icon:"fas fa-trophy-alt",options:e.org_products,customLabel:function(e){return e.name},closeOnSelect:!1,trackBy:"id",multiple:"",hideError:""},scopedSlots:e._u([{key:"option",fn:function(t){return[n("div",{staticClass:"flex items-center justify-start w-full"},[n("athlane-profile-image",{attrs:{src:t.option.image_url}}),n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"ml-2"},[n("p",{staticClass:"text-sm text-gray-600"},[e._v(" "+e._s(t.option.name)+" ")]),n("p",{staticClass:"text-xs text-athlane-blue"},[e._v(" "+e._s(t.option.product_url)+" ")])])])],1)]}}]),model:{value:e.newActivations.compensation.products,callback:function(t){e.$set(e.newActivations.compensation,"products",t)},expression:"newActivations.compensation.products"}})},Ne=[],Se=n("d51f"),Ce=n("221a"),je=n.n(Ce),Oe={props:{newActivations:{type:Object,required:!0}},components:{Multiselect:Se["a"]},data:function(){return{org_products:[]}},apollo:{org_products:{query:je.a,variables:function(){return{organization_id:this.$organization.id}}}}},$e=Oe,Ae=Object(O["a"])($e,ye,Ne,!1,null,null,null),Te=Ae.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("NumberField",{attrs:{label:"Media Value",subtext:"Compensation per unique click",icon:"fas fa-dollar-sign",type:"number",formatFunction:e.numericToDollarString},model:{value:e.newActivations.compensation.media_value,callback:function(t){e.$set(e.newActivations.compensation,"media_value",t)},expression:"newActivations.compensation.media_value"}})},Ee=[],Ve={props:{newActivations:Object},components:{NumberField:de["a"]},methods:{numericToDollarString:S["D"]}},De=Ve,Fe=Object(O["a"])(De,Ie,Ee,!1,null,null,null),qe=Fe.exports,Re={props:["newActivations"],components:{Toggle:oe["a"]},data:function(){return{fixed:[pe,Te],variable:[we,qe]}}},Le=Re,Pe=Object(O["a"])(Le,se,le,!1,null,null,null),Ge=Pe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mb-2 text-sm font-medium text-gray-700"},[e._v("Templates")]),n("Select",{attrs:{label:"Legal Template",subtext:"Template to use as basis for contract",icon:"fas fa-signature",hideError:"",required:""},on:{input:e.onSelectTemplate},model:{value:e.selectedTemplateIdx,callback:function(t){e.selectedTemplateIdx=t},expression:"selectedTemplateIdx"}},[n("option",{domProps:{value:null}},[e._v("Select Contract")]),e._l(e.templates,(function(t,i){return n("option",{key:t.id,domProps:{value:i}},[e._v(" "+e._s(t.title)+" ")])}))],2)],1)},Me=[],Be=n("6e77"),Ue=n("8a41"),We=n.n(Ue),He={props:{newActivations:Object},components:{Select:Be["a"]},data:function(){return{templates:[],selectedTemplateIdx:null}},methods:{onSelectTemplate:function(){this.newActivations.template=this.templates[this.selectedTemplateIdx]}},apollo:{templates:{query:We.a,variables:function(){return{organization_id:this.$organization.id}}}}},Qe=He,Ye=Object(O["a"])(Qe,ze,Me,!1,null,null,null),Je=Ye.exports,Ke=[re,Je,Ge],Ze={props:{newActivations:Object,customPackage:Boolean},data:function(){return{steps:Ke}}},Xe=Ze,et=Object(O["a"])(Xe,U,W,!1,null,null,null),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[e.isCreatingCustom?n("SelectTasks",{attrs:{newActivations:e.newActivations},on:{complete:e.onCompleteCreation,cancel:e.onToggle}}):n("div",{staticClass:"flex flex-wrap w-full"},[n("div",{staticClass:"\n\t\t\t\tflex flex-col\n\t\t\t\tw-64\n\t\t\t\tmb-2\n\t\t\t\tmr-2\n\t\t\t\tspace-y-4\n\t\t\t\tshadow-xs\n\t\t\t\tcursor-pointer\n\t\t\t\tcenter\n\t\t\t\thover:bg-gray-100\n\t\t\t",on:{click:e.onToggle}},[n("div",{staticClass:"text-gray-600"},[e._v("Add New")]),n("i",{staticClass:"text-3xl text-athlane-blue fal fa-plus"})]),e._l(e.packages,(function(t){return n("div",{key:t.id,staticClass:"\n\t\t\t\tflex flex-col\n\t\t\t\titems-center\n\t\t\t\tw-64\n\t\t\t\tmb-2\n\t\t\t\tmr-2\n\t\t\t\tshadow-xs\n\t\t\t\tcursor-default\n\t\t\t",class:{"ring ring-gray-300 shadow-md":t.id===e.newActivations.pack.id}},[n("div",{staticClass:"flex flex-col items-center w-full py-4",class:{"bg-red-500":t.duration,"bg-blue-500":!t.duration}},[n("div",{staticClass:"w-full h-12 text-white center"},[n("i",{class:t.icon||"fad fa-cogs"})]),n("div",{staticClass:"flex flex-col items-center mt-1"},[n("div",{staticClass:"text-lg font-medium leading-tight text-white"},[e._v(" "+e._s(t.title)+" ")]),n("div",{staticClass:"flex text-red-200"},[e._v(e._s(t.duration)+" days")])])]),n("div",{staticClass:"flex flex-col items-center w-full p-4"},[n("div",{staticClass:"\n\t\t\t\t\t\tflex flex-col\n\t\t\t\t\t\tjustify-center\n\t\t\t\t\t\th-32\n\t\t\t\t\t\tpy-3\n\t\t\t\t\t\ttext-sm text-gray-700\n\t\t\t\t\t\tw-36\n\t\t\t\t\t"},e._l(t.task_data,(function(t,i){var a=t.count,r=t.channel,s=t.variant;return n("div",{key:i,staticClass:"flex items-center"},[n("i",{staticClass:"w-4 center",class:e.platforms[r].icon,style:{color:e.platforms[r].colors.base}}),n("div",{staticClass:"flex items-center w-4 ml-2"},[e._v(e._s(a))]),n("div",{staticClass:"flex items-center ml-1"},[e._v(" "+e._s(a>1?e.platforms[r].taskVariants[s].displayName+"s":e.platforms[r].taskVariants[s].displayName)+" ")])])})),0),n("div",{staticClass:"\n\t\t\t\t\t\tw-full\n\t\t\t\t\t\tp-2\n\t\t\t\t\t\tmt-6\n\t\t\t\t\t\ttext-sm text-white\n\t\t\t\t\t\trounded\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t\tbg-athlane-blue\n\t\t\t\t\t\tcenter\n\t\t\t\t\t\thover:opacity-75\n\t\t\t\t\t",on:{click:function(n){return e.onSelectPackage(t)}}},[e._v(" "+e._s(e.newActivations.pack.id===t.id?"De-select":"Select")+" ")])])])}))],2)],1)},it=[],at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col space-y-4"},[n("athlane-field",{attrs:{label:"Title",subtext:"Name your new package",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e.errors.title?n("p",{staticClass:"text-red-500"},[e._v(" "+e._s(e.errors.title)+" ")]):e._e(),n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"flex justify-start"},e._l(e.taskSelection,(function(t,i){return n("div",{key:i,staticClass:"\n\t\t\t\t\tflex-none\n\t\t\t\t\tw-32\n\t\t\t\t\tp-2\n\t\t\t\t\tmx-2\n\t\t\t\t\ttext-sm\n\t\t\t\t\tborder-b-2 border-gray-300\n\t\t\t\t\toutline-none\n\t\t\t\t\tcursor-pointer\n\t\t\t\t\tselect-none\n\t\t\t\t\thover:border-gray-500\n\t\t\t\t",class:{"border-athlane-blue hover:border-athlane-blue border-b-4":e.selectedChannel==i,"border-gray-600 border-b-3":e.activeChannels.includes(i)},on:{click:function(t){e.selectedChannel=i}}},[n("i",{staticClass:"mr-2 text-base",class:`${e.platforms[i].icon} text-${e.platforms[i].colors.root}-400`}),e._v(" "+e._s(e.platforms[i].displayName)+" ")])})),0),e.selectedChannel?n("div",{staticClass:"space-y-2"},e._l(e.taskSelection[e.selectedChannel].variants,(function(t,i){return n("div",{key:`${e.selectedChannel}-${t.variant}-${i}`,staticClass:"flex items-center"},[n("div",{staticClass:"flex flex-col w-full p-6 rounded cursor-pointer",class:{"border-2 border-athlane-blue":t.active,"border-gray-300 border hover:bg-gray-100":!t.active},on:{click:function(e){t.active=!t.active}}},[n("div",{staticClass:"flex items-center space-x-4 text-gray-700"},[n("div",{staticClass:"flex-none center"},[n("i",{class:{"text-athlane-blue fas fa-dot-circle":t.active,"text-gray-500 fal fa-circle":!t.active}})]),n("div",[e._v(" "+e._s(e.platforms[e.selectedChannel].taskVariants[t.variant].displayName)+" ")])]),t.active?n("div",{staticClass:"flex flex-col mt-4",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"flex items-center flex-auto min-w-0"},[t.flexibleCount?n("athlane-field",{attrs:{label:"Count",placeholder:"1",type:"number",hideError:"",required:""},model:{value:t.count,callback:function(n){e.$set(t,"count",n)},expression:"variantData.count"}}):e._e(),n("athlane-field",{staticClass:"w-full ml-1",attrs:{label:"Condition",placeholder:"Input text to include, separated by comma",hideError:"",required:""},model:{value:t.conditionRaw,callback:function(n){e.$set(t,"conditionRaw",n)},expression:"variantData.conditionRaw"}})],1),n("div",{staticClass:"flex flex-col mt-4 text-xs italic text-gray-500"},[n("div",[e._v(" "+e._s(e.platforms[e.selectedChannel].taskVariants[t.variant].helpText)+" ")]),e._m(0,!0),n("div",{staticClass:"mt-1"},[e._v(" (i.e. 'Click {% link %} to learn more about {% company %}!') ")])])]):e._e()])])})),0):e._e()]),n("div",{staticClass:"flex items-center space-x-2"},[n("athlane-button",{staticClass:"w-full",attrs:{text:"Cancel",mode:"tertiary",disabled:e.isSaving},on:{click:function(t){return e.$emit("cancel")}}}),n("athlane-button",{staticClass:"w-full",attrs:{text:"Save Package",icon:{"fas fa-spinner fa-spin":e.isSaving},disabled:e.isSaving},on:{click:e.onClickSave}})],1)],1)},rt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-1"},[e._v(" Conditions can include "),n("span",{staticClass:"\n\t\t\t\t\t\t\t\t\t\tmx-1\n\t\t\t\t\t\t\t\t\t\tfont-mono\n\t\t\t\t\t\t\t\t\t\ttext-xs\n\t\t\t\t\t\t\t\t\t\tnot-italic\n\t\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\t\ttext-athlane-black\n\t\t\t\t\t\t\t\t\t"},[e._v("{% link %}")]),e._v(" or "),n("span",{staticClass:"\n\t\t\t\t\t\t\t\t\t\tmx-1\n\t\t\t\t\t\t\t\t\t\tfont-mono\n\t\t\t\t\t\t\t\t\t\ttext-xs\n\t\t\t\t\t\t\t\t\t\tnot-italic\n\t\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\t\ttext-athlane-black\n\t\t\t\t\t\t\t\t\t"},[e._v("{% company %}")]),e._v(" to dynamically insert the attribution link and your company name into condition. ")])}],st=n("2ef0"),lt=n("e4a9"),ot=n.n(lt),ct={TWITCH:{variants:[{variant:"TITLE",active:!1,conditionRaw:"",count:0,flexibleCount:!0},{variant:"COMMAND",active:!1,conditionRaw:"",count:1,flexibleCount:!1},{variant:"CUSTOM",active:!1,conditionRaw:"",flexibleCount:!1}]},INSTAGRAM:{variants:[{variant:"BIO",active:!1,conditionRaw:"",count:1,flexibleCount:!1},{variant:"POST",active:!1,conditionRaw:"",count:0,flexibleCount:!0},{variant:"CUSTOM",active:!1,conditionRaw:"",flexibleCount:!1}]},TWITTER:{variants:[{variant:"BIO",active:!1,conditionRaw:"",count:1,flexibleCount:!1},{variant:"POST",active:!1,conditionRaw:"",count:0,flexibleCount:!0},{variant:"CUSTOM",active:!1,conditionRaw:"",flexibleCount:!1}]},YOUTUBE:{variants:[{variant:"VIDEO",active:!1,conditionRaw:"",count:0,flexibleCount:!0},{variant:"CUSTOM",active:!1,conditionRaw:"",flexibleCount:!1}]}},ut=Object(v["a"])(a||(a=Object(m["a"])(["\n\tmutation InsertActivationPackage(\n\t\t$package: campaigns_activation_package_insert_input!\n\t) {\n\t\tpkg: insert_campaigns_activation_package(objects: [$package]) {\n\t\t\treturning {\n\t\t\t\tpackage_id\n\t\t\t}\n\t\t}\n\t}\n"]))),dt={props:{newActivations:{type:Object,required:!0}},data:function(){return{isSaving:!1,title:"",selectedChannel:"TWITCH",selectedVariant:null,platforms:ot.a,taskSelection:Object(st["cloneDeep"])(ct),errors:{title:""}}},methods:{onClickSave:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.title){e.next=3;break}return this.errors.title="Package Title is required.",e.abrupt("return");case 3:return this.errors.title="",this.isSaving=!0,t={package:{title:this.$data.title,organization_id:this.$organization.id,task_data:this.flattenedData}},e.prev=6,e.next=9,this.$apollo.mutate({mutation:ut,variables:t});case 9:n=e.sent,i=n.data,a=i.pkg.returning[0].package_id,this.$notify({type:"success",title:"Success",text:"Your package was saved successfully!"}),this.$emit("complete"),this.$set(this.$props.newActivations,"pack",{id:a,title:this.$data.title,task_data:this.flattenedData}),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](6),console.error(e.t0),this.$notify({type:"error",title:"Error",text:"An error occurred while trying to save your package."});case 21:this.isSaving=!1;case 22:case"end":return e.stop()}}),e,this,[[6,17]])})));function t(){return e.apply(this,arguments)}return t}(),parseConditionRaw:function(e){return e.split(",").join(" AND ")},unflattenData:function(e){var t=this,n=!0,i=!1,a=void 0;try{for(var r,s=function(){var e=r.value,n=e.conditionRaw,i=e.count,a=e.channel,s=e.variant,l=t.taskSelection[a],o=Object(st["findIndex"])(l.variants,(function(e){return e.variant===s}));t.taskSelection[a].variants[o].active=!0,t.taskSelection[a].variants[o].conditionRaw=n,t.taskSelection[a].variants[o].count=i},l=e[Symbol.iterator]();!(n=(r=l.next()).done);n=!0)s()}catch(o){i=!0,a=o}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return!0}},created:function(){this.$set(this.$data,"title",this.$props.newActivations.pack.title),this.unflattenData(this.$props.newActivations.tasks)},computed:{activeChannels:function(){var e=this;return Object.keys(this.$data.taskSelection).filter((function(t){return e.$data.taskSelection[t].variants.reduce((function(e,t){return e||t.active}),!1)}))},selectedTaskData:function(){var e=this;return this.activeChannels.map((function(t){return Object(h["a"])(Object(h["a"])({channel:t},e.$data.taskSelection[t]),{},{tasks:e.$data.taskSelection[t].variants.filter((function(e){return e.active}))})}))},flattenedData:function(){var e=this;return this.selectedTaskData.reduce((function(t,n){return[].concat(Object(d["a"])(t),Object(d["a"])(n.tasks.map((function(t){return Object(h["a"])(Object(h["a"])({},t),{},{condition:e.parseConditionRaw(t.conditionRaw),channel:n.channel})}))))}),[])}},watch:{selectedTaskData:{handler:function(){this.$set(this.$props.newActivations,"tasks",this.flattenedData)},deep:!0}}},mt=dt,vt=(n("c474"),Object(O["a"])(mt,at,rt,!1,null,"1e6d8f18",null)),ft=vt.exports,pt=n("347c"),kt=Object(v["a"])(r||(r=Object(m["a"])(["\n\tquery GetCustomPackages($organization_id: uuid!) {\n\t\tcustom: campaigns_activation_package(\n\t\t\twhere: { organization_id: { _eq: $organization_id } }\n\t\t) {\n\t\t\tid: package_id\n\t\t\ttitle\n\t\t\ttask_data\n\t\t}\n\t}\n"]))),bt={props:{newActivations:Object},components:{SelectTasks:ft},data:function(){return{isCreatingCustom:!1,packages:pt["d"],platforms:ot.a}},computed:{customPackageText:function(){return this.$data.isCreatingCustom?"Use existing package":"Create custom package"},titleText:function(){return this.$data.isCreatingCustom?"Custom Package":"Packages"}},methods:{toSentenceCase:S["K"],onSelectPackage:function(e){var t=e.task_data,n=e.title;if(this.newActivations.pack.title===n)return this.resetTasks();this.newActivations.tasks=t,this.newActivations.pack=e},resetTasks:function(){this.newActivations.tasks=[],this.newActivations.pack={}},onToggle:function(){this.resetTasks(),this.$data.isCreatingCustom=!this.$data.isCreatingCustom},onCompleteCreation:function(){this.$apollo.queries.custom.refetch(),this.$emit("next-step")}},apollo:{custom:{fetchPolicy:"no-cache",query:kt,variables:function(){return{organization_id:this.$organization.id}},update:function(e){var t=e.custom;this.packages=[].concat(Object(d["a"])(pt["d"]),Object(d["a"])(t))}}}},gt=bt,ht=Object(O["a"])(gt,nt,it,!1,null,null,null),_t=ht.exports,xt=n("49c2"),wt=n("3371"),yt=n("e167"),Nt=n("c9d7"),St=n.n(Nt),Ct=n("9595"),jt=n.n(Ct),Ot=Object(v["a"])(s||(s=Object(m["a"])(["\n\tquery GetActivationCreationCampaignInfo($campaign_id: uuid!) {\n\t\tcampaign: campaigns_campaign(where: { id: { _eq: $campaign_id } }) {\n\t\t\tid\n\t\t\ttitle\n\t\t\ttarget_url\n\t\t\turl_parameters\n\t\t\torganization {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t\tmanagers {\n\t\t\t\tuser {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),$t=Object(v["a"])(l||(l=Object(m["a"])(["\n\tquery GetActivationCreationInfluencerInfo($influencer_id: uuid!) {\n\t\tinfluencer: users_influencer(where: { id: { _eq: $influencer_id } }) {\n\t\t\tid\n\t\t\talias\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]))),At={mixins:[yt["a"]],props:{campaignId:{type:String,required:!0},influencerId:{type:String,required:!1},newInfluencer:{type:Object,required:!1},group:{type:Object,required:!1},conversationId:{type:String,required:!1}},data:function(){return{campaign:{},existingInfluencer:{},loading:!1,currentStep:0,displayErrors:!1,newActivations:{amount:null,influencers:{new:[],existing:[],group_ids:[]},date_end:"",date_start:"",date_expiration:Object(f["a"])().add(1,"d").toDate(),compensation:{commission:[{product:"",percentage:""}],lumpsum:null,products:[],media_value:null},pack:{},tasks:[],template:{id:null,title:null,description:null,body:null},is_negotiable:!1},editor:new k["a"]({extensions:Object(d["a"])(Object(xt["a"])()),content:""})}},created:function(){!this.$props.newInfluencer||this.newActivations.influencers.new.push(this.$props.newInfluencer)},computed:{continueButtonText:function(){return this.isLastStep?"Create Activations":"Continue"},selectInfluencerStepData:function(){return{component:B,titleText:"Select Creators",helpText:"Choose the creator/team that you want to create this activation with.",sidebar:{titleText:"Creator",logo:"fas fa-stars",infoText:this.newActivations.influencers.new.length+this.newActivations.influencers.existing.length?"".concat(this.newActivations.influencers.new.length+this.newActivations.influencers.existing.length," creator(s)"):"No creator(s)"},completionErrors:function(e){var t=[];return e.influencers.new.length||e.influencers.existing.length||t.push("At least one creator must be selected."),t}}},packageInfoText:function(){return this.newActivations.pack.title||"No package"},activationStepData:function(){return[].concat(Object(d["a"])(this.$props.influencerId||this.$props.newInfluencer?[]:[this.selectInfluencerStepData]),[{component:_t,titleText:"Select Package",helpText:"Choose a level that suits your needs.",sidebar:{titleText:"Package",logo:"fas fa-comet",infoText:this.packageInfoText},completionErrors:function(e){var t=[];return e.pack.id||t.push("A package is required."),e.tasks.length||t.push("Tasks are required for custom package"),t}},{component:tt,titleText:"Customize Activation",helpText:"Dates, compensation, and contract details.",sidebar:{titleText:"Customization",logo:"fas fa-align-left",infoText:""},completionErrors:function(e){var t=[],n=e.date_start,i=e.date_end,a=e.date_expiration;if(n||t.push("A start date is required."),a||t.push("An offer expiration date is required."),i||t.push("An end date is required."),n>i&&t.push("Start date must be before end date."),a>n&&t.push("Activation must expire before start date."),a<new Date&&t.push("Offer cannot have already expired."),null!==e.compensation.lumpsum&&(Object(S["v"])(e.compensation.lumpsum)?e.compensation.lumpsum<=0&&t.push("Lumpsum must be greater than 0."):t.push("Lumpsum must be a numeric value.")),null!==e.compensation.commission){var r=!0,s=!1,l=void 0;try{for(var o,c=e.compensation.commission[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value;(u.product||u.percentage)&&(Object(S["v"])(u.percentage)?u.percentage>100?t.push("Commission percentage must be less than 100%."):u.percentage<=0&&t.push("Commission percentage must be great than 0."):t.push("Commission percentage must be a numeric value."),u.product||t.push("Commission product must be specified."))}}catch(d){s=!0,l=d}finally{try{r||null==c.return||c.return()}finally{if(s)throw l}}}return e.template.title||t.push("A legal contract must be included."),t}}])},isLastStep:function(){return this.currentStep===this.activationStepData.length-1},currentStepData:function(){return this.activationStepData[this.currentStep]},currentErrors:function(){return this.currentStepData.completionErrors(this.newActivations)},readyToCreate:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.activationStepData[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value;if(r.completionErrors(this.newActivations).length)return!1}}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return!0}},methods:{dateFormatter:S["e"],handleClickAway:function(){confirm("You will lose all your progress.\nAre you sure you want to abandon the form?")&&this.$emit("close")},onNextStep:function(){var e=Boolean(this.currentErrors.length);this.displayErrors=e,e||this.loading||(this.isLastStep?this.onClickCreate():this.currentStep++)},onClickCreate:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.createAllActivationObjects();case 4:e.$notify({type:"success",title:"Success",text:"Activation(s) created!"}),e.$emit("close"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0),e.$notify({type:"error",title:"Error",text:"An error occurred while creating activation."});case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))()},createAllActivationObjects:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,s,l,o,c,u,d,m,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$props.influencerId){t.next=4;break}return t.next=3,e.createActivation(e.existingInfluencer);case 3:return t.abrupt("return");case 4:n=!0,i=!1,a=void 0,t.prev=7,r=e.newActivations.influencers.new[Symbol.iterator]();case 9:if(n=(s=r.next()).done){t.next=16;break}return l=s.value,t.next=13,e.inviteInfluencer(l);case 13:n=!0,t.next=9;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](7),i=!0,a=t.t0;case 22:t.prev=22,t.prev=23,n||null==r.return||r.return();case 25:if(t.prev=25,!i){t.next=28;break}throw a;case 28:return t.finish(25);case 29:return t.finish(22);case 30:o=!0,c=!1,u=void 0,t.prev=33,d=e.newActivations.influencers.existing[Symbol.iterator]();case 35:if(o=(m=d.next()).done){t.next=42;break}return v=m.value,t.next=39,e.createActivation(v);case 39:o=!0,t.next=35;break;case 42:t.next=48;break;case 44:t.prev=44,t.t1=t["catch"](33),c=!0,u=t.t1;case 48:t.prev=48,t.prev=49,o||null==d.return||d.return();case 51:if(t.prev=51,!c){t.next=54;break}throw u;case 54:return t.finish(51);case 55:return t.finish(48);case 56:case"end":return t.stop()}}),t,null,[[7,18,22,30],[23,,25,29],[33,44,48,56],[49,,51,55]])})))()},inviteInfluencer:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.$organization,a=i.id,r=i.name,s={influencer_id:Object(p["a"])(),user_id:Object(p["a"])(),org_id:a,org_name:r,alias:e.alias,email:e.user.email.toLowerCase()},n.prev=2,n.next=5,t.$apollo.mutate({mutation:jt.a,variables:s});case 5:l=n.sent,t.newActivations.influencers.existing.push({alias:e.alias,id:l.data.newInfluencer.returning[0].id,user:{id:l.data.newUser.returning[0].id}}),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](2),t.$notify({type:"error",title:"Error",text:"Something went wrong when trying to invite one or more influencer(s): ".concat(n.t0)}),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},createActivation:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,l,o,c,u,m,v,f,k,b,g,h,_,x,w,y;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=Object(p["a"])(),r=t.conversationId?t.conversationId:Object(p["a"])(),s=Object(p["a"])(),l=Object(p["a"])(),o=t.campaign.managers.map((function(e){var t=e.user;return t})),c=Object(S["i"])([].concat(Object(d["a"])(o),[t.$user,e.user]).map((function(e){return e.id}))).filter((function(e){return e})),u=c.map((function(e){return{conversation_id:r,user_id:e}})),m=t.newActivations.template.body,m.html&&(t.editor.setContent(m.html),m=t.editor.getJSON()),v=Object(wt["a"])({template:m.content,organizationName:t.$organization.name,activations:t.newActivations}),t.editor.setContent({type:"doc",content:v}),f=t.editor.getHTML(),n.next=14,Object(pt["b"])({influencerId:e.id,activation_id:a,tasks:t.newActivations.tasks,campaign:t.campaign});case 14:return k=n.sent,b=k.task_objects,g=k.shortlink,h=t.newActivations.compensation,_=h.commission,x=h.lumpsum,w=h.media_value,y={activation_id:a,conversation_id:r,shortlink:g,task_objects:b,campaign_id:t.campaign.id,influencer_id:e.id,date_start:t.newActivations.date_start,date_end:t.newActivations.date_end,date_expiration:t.newActivations.date_expiration,package:null===(i=t.newActivations.pack.title)||void 0===i?void 0:i.toUpperCase(),is_negotiable:t.newActivations.is_negotiable,status:"INVITED",financial_object:{id:l,activation_id:a,lumpsum:x,media_value:w,commission:_.filter((function(e){return e.product&&e.percentage}))},product_offering_objects:t.newActivations.compensation.products.map((function(e){return{activation_financial_id:l,product_id:e.id}})),contract_object:{id:s,title:"Contract with ".concat(e.alias," for Campaign ").concat(t.campaign.title),template_id:t.newActivations.template.id,organization_id:t.$organization.id,body:{type:"doc",content:v},body_html:f},legal_object:{id:Object(p["a"])(),activation_id:a,contract_id:s},conversation_title:"".concat(e.alias," <> ").concat(t.$organization.name),conversation_participant_objects:u,convExists:!!t.conversationId},n.next=21,t.$apollo.mutate({mutation:St.a,variables:y});case 21:t.updateApplicationStatus("ACCEPTED",t.campaign.id,e.id);case 22:case"end":return n.stop()}}),n)})))()}},apollo:{campaign:{query:Ot,variables:function(){return{campaign_id:this.$props.campaignId}},update:function(e){var t=e.campaign;return t[0]}},existingInfluencer:{query:$t,variables:function(){return{influencer_id:this.$props.influencerId}},update:function(e){var t=e.influencer;return t[0]},skip:function(){return!this.$props.influencerId}}}},Tt=At,It=Object(O["a"])(Tt,o,c,!1,null,null,null);t["a"]=It.exports},f6e0:function(e,t,n){},f856:function(e,t,n){}}]);
//# sourceMappingURL=chunk-796671fa.251eaf0d.js.map