(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-318fb4ed"],{"0d68":function(t,e,n){"use strict";n("d81d"),n("4de4"),n("caad"),n("2532"),n("a15b"),n("9911"),n("b64b");var i=n("b104"),a=n("c225");e["a"]={computed:{requiredSteps:function(){var t,e=this,n=["TWITTER"],r=Object(i["i"])(this.activation.tasks.filter((function(t){return!n.includes(t.channel)})).map((function(t){return t.channel})).filter((function(t){return!e.activation.influencer.socials.some((function(e){return e.channel===t&&e.channel_name}))})).map(i["K"])),s=this.activation.tasks.some((function(t){return n.includes(t.channel)})),o=this.activation.influencer.socials.filter((function(t){return!a["a"].isFalsyOrWhiteSpace(t.connection_id)})).map((function(t){return t.channel}));return s&&n.forEach((function(t){o.includes(t)||r.push("Twitter")})),{payment:{index:1,reminder_type:"ACTIVATION_PAYMENT",incomplete:(this.activation.financial.lumpsum||this.activation.financial.commission)&&!this.activation.influencer.stripe_account_id&&!this.activation.influencer.paypal_account_id,mandatory:!0,text:{brand:"Creator must input payment information.",influencer:"Payment information required."},actor:"influencer",action:function(){return e.$open("/settings/finances")}},shipping_information:{index:2,reminder_type:"ACTIVATION_SHIPPING_INFORMATION",incomplete:(this.activation.financial.lumpsum||this.activation.financial.commission)&&(!this.activation.address||!this.activation.phone),mandatory:!0,text:{brand:"Creator must input shipping address",influencer:"Shipping address required."},actor:"influencer",action:function(){e.modal="address",e.shouldConfirm=!0}},product:{index:3,reminder_type:"ACTIVATION_PRODUCT",incomplete:this.activation.financial.product_offerings.some((function(t){var e,n;return(null===(e=t.product.size_options)||void 0===e?void 0:e.length)&&!t.selected_size||(null===(n=t.product.subtypes)||void 0===n?void 0:n.length)&&!t.selected_color})),mandatory:!0,text:{brand:"Creator must select product.",influencer:"Product selection required."},actor:"influencer",action:function(){return e.modal="product"}},socials:{index:4,reminder_type:"ACTIVATION_SOCIALS",incomplete:r.length,type:"warning",text:{brand:"Creator must connect the following social media account(s): ".concat(r.join(", ")),influencer:"Social media account(s) still required: ".concat(r.join(", "))},mandatory:!0,actor:"influencer",action:function(){return e.$open("/settings/connections")}},shortlink:{index:5,incomplete:!this.activation.link||!this.activation.link.redirect_to,mandatory:!0,text:{brand:"Add a destination URL for your shortlink",influencer:"Pending brand's destination URL for shortlink"},actor:"brand",action:function(){return e.modal="shortlink"}},guidelines:{index:6,reminder_type:"ACTIVATION_GUIDELINES",incomplete:!this.activation.guidelines_reviewed&&this.activation.campaign.guidelines_html,mandatory:!0,text:{brand:"Pending guideline review by creator",influencer:"Review campaign guidelines"},actor:"influencer",action:function(){return e.modal="guidelines"}},contract:{index:7,reminder_type:"ACTIVATION_CONTRACT",incomplete:!(null!==(t=this.activation.legal)&&void 0!==t&&t.time_signed),type:"warning",text:{brand:"Creator must sign the contract",influencer:"Contract signature required."},mandatory:!0,actor:"influencer",action:function(){return e.modal="contract"}},shipping:{index:8,incomplete:this.activation.financial.product_offerings.some((function(t){return!t.tracking_code||!t.shipping_provider})),mandatory:!0,text:{brand:"Update product shipment info.",influencer:"Awaiting brand to send shipment details for product compensation."},actor:"brand",action:function(){return e.modal="product"}},start:{index:9,incomplete:["INVITED","CONFIRMED"].includes(this.activation.status),mandatory:!0,text:{brand:"Formally begin activation.",influencer:"Awaiting brand to formally start activation."},actor:"brand",action:this.onStartActivation}}},hasStepsRemaining:function(){for(var t={overall:!1,beforeBegin:!1},e=0,n=Object.keys(this.requiredSteps);e<n.length;e++){var i=n[e],a=this.requiredSteps[i],r=a.mandatory,s=a.incomplete;r&&s&&(t.overall=!0,"start"!==i&&(t.beforeBegin=!0))}return t}}}},"163c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen p-10 center",on:{click:function(e){return t.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full max-w-5xl bg-white shadow-md",on:{click:function(t){t.stopPropagation()}}},[n("athlane-page-header",{attrs:{title:"Shortlink",text:`Direct ${t.$data.$shortDomain} URL to desired destination`,flat:""}}),t.isLoading?n("loader",{attrs:{color:"#4c8bf5"}}):n("div",{staticClass:"flex flex-col p-5 tablet-landscape:px-10"},[n("athlane-field",{staticClass:"w-full",attrs:{label:"Destination",subtext:`Enter the URL where you'd like https://${t.$data.$shortDomain}/${t.redirect_key} to point to`,icon:"fas fa-link",placeholder:"Enter destination url",hideError:""},model:{value:t.redirect_to,callback:function(e){t.redirect_to=e},expression:"redirect_to"}}),n("div",{staticClass:"flex items-center justify-end mt-4"},[n("athlane-button",{staticClass:"w-full",attrs:{mode:"tertiary",text:"Cancel"},on:{click:function(e){return t.$emit("close")}}}),n("athlane-button",{staticClass:"w-full ml-2",attrs:{disabled:!t.redirect_to,text:"Submit"},on:{click:t.onClickSubmit}})],1)],1)],1)])},a=[],r=n("c964"),s=(n("96cf"),n("9911"),n("caad"),n("2532"),n("c3a3")),o=n.n(s),c=n("e43c"),l=n.n(c),d=n("347c"),u={props:{activation:Object},data:function(){return{redirect_to:null,redirect_key:null,isLoading:!1}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,this.activation.link&&this.activation.link.redirect_key){t.next=7;break}return t.next=4,Object(d["a"])();case 4:this.redirect_key=t.sent,t.next=8;break;case 7:this.redirect_key=this.activation.link.redirect_key;case 8:this.isLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onClickSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.redirect_to){t.next=4;break}return t.abrupt("return");case 4:this.redirect_to&&!this.redirect_to.includes("http")&&(this.redirect_to="https://".concat(this.redirect_to));case 5:return t.prev=5,t.next=8,this.$apollo.mutate({mutation:o.a,variables:{redirect_key:this.redirect_key,target_url:this.redirect_to}});case 8:return t.next=10,this.$apollo.mutate({mutation:l.a,variables:{id:this.activation.id,changes:{shortlink:this.redirect_key}}});case 10:this.$notify({type:"success",title:"Success",text:"Your shortlink destination was added successfully!"}),this.$emit("close"),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](5),this.$notify({type:"error",title:"Error",text:"An error occurred while updating your shortlink."});case 17:case"end":return t.stop()}}),t,this,[[5,14]])})));function e(){return t.apply(this,arguments)}return e}()}},p=u,m=n("2877"),f=Object(m["a"])(p,i,a,!1,null,null,null);e["a"]=f.exports},1768:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateProductSelection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_financial_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"product_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_financial_product_set_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"selection"},name:{kind:"Name",value:"update_campaigns_activation_financial_product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"activation_financial_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"activation_financial_id"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"product_id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"product_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activation_financial_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected_color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipping_provider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tracking_code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:539}};n.loc.source={body:"mutation UpdateProductSelection(\n  $activation_financial_id: uuid!\n  $product_id: uuid!\n  $changes: campaigns_activation_financial_product_set_input\n) {\n  selection: update_campaigns_activation_financial_product(\n    where: {\n      activation_financial_id: { _eq: $activation_financial_id }\n      product_id: { _eq: $product_id }\n    }\n    _set: $changes\n  ) {\n    affected_rows\n    returning {\n      activation_financial_id\n      product_id\n      selected_color\n      selected_size\n      shipping_provider\n      tracking_code\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["UpdateProductSelection"]=s(n,"UpdateProductSelection")},"1f01":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white shadow-md",style:{minWidth:"30rem"}},[n("athlane-page-header",{attrs:{title:"Address"}}),n("div",{staticClass:"px-5 pb-5 tablet-landscape:px-10"},[n("div",{staticClass:"flex flex-col space-y-4"},[n("athlane-field",{attrs:{label:"Name",value:t.name,disabled:""}}),n("athlane-field",{attrs:{label:"Email",value:t.email,disabled:""}}),n("athlane-field",{attrs:{label:"Phone Number",value:t.phone,disabled:!t.confirmationRequest},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("text-area",{attrs:{label:"Address",value:t.address,disabled:!t.confirmationRequest},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),n("div",{staticClass:"flex items-center justify-between"},[n("athlane-button",{attrs:{mode:"tertiary",text:"Close",icon:"fal fa-times"},on:{click:function(e){return t.$emit("close")}}}),t.confirmationRequest?n("athlane-button",{attrs:{text:"Confirm"},on:{click:function(e){return t.confirmAddress(t.address,t.phone)}}}):n("athlane-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.address,expression:"address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){return t.isAddressCopied=!0},expression:"() => (isAddressCopied = true)",arg:"success"}],attrs:{text:"Copy to Clipboard",icon:{"fas fa-clipboard":!t.isAddressCopied,"fal fa-check":t.isAddressCopied}}})],1)],1)])],1)},a=[],r=n("f5a3"),s={props:{name:{type:String,required:!1},email:{type:String,required:!1},phone:{type:String,required:!0},address:{type:String,required:!0},confirmationRequest:{type:Boolean,required:!1},confirmAddress:{type:Function,required:!1}},components:{TextArea:r["a"]},data:function(){return{isAddressCopied:!1}}},o=s,c=n("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);e["a"]=l.exports},3432:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"field"}},[t._v(" "+t._s(t.label)+" "),t.required?n("span",{staticClass:"ml-1 text-yellow-500"},[t._v(" * ")]):t._e()]),n("div",{staticClass:"mt-1"},[n("input",t._b({staticClass:"box-border block w-full min-w-0 px-4 py-3 placeholder-gray-400 transition-colors duration-100 ease-in-out border border-gray-200 rounded-lg shadow-sm appearance-none resize-none focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:focus:border-indigo-300 dark:bg-gray-800 dark:text-white",class:{"border-red-500":t.$props.error,"shadow-sm":!t.$props.flat},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput,change:t.onChange}},"input",t.$attrs,!1))])])},a=[],r=(n("a9e3"),n("ac1f"),n("5319"),n("2b0e")),s=r["default"].extend({inheritAttrs:!1,props:{error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},label:{type:String,required:!1},subtext:{type:String,required:!1},value:{type:Number,default:0},required:{type:Boolean,default:!1},formatFunction:{type:Function,default:function(t){return String(t)}}},data:function(){return{active:!1}},updated:function(){this.active||(this.$props.value=this.$props.formatFunction(this.$props.value))},computed:{errorMessage:function(){var t;return null!==(t=this.$props.error)&&void 0!==t?t:"Error: "}},methods:{$getFormattedValue:function(t){return t.target.value?parseFloat(t.target.value.replace(/[^\d.]/g,"")):null},onInput:function(t){var e=this.$getFormattedValue(t);this.$emit("input",e)},onChange:function(t){var e=this.$getFormattedValue(t);this.$emit("change",e)},onBlur:function(t){var e=this.$getFormattedValue(t);this.active=!1,this.$emit("blur",e),this.$props.value=e,e&&(this.$props.value=this.$props.formatFunction(e))},onFocus:function(t){var e=this.$getFormattedValue(t);this.$props.value=e,this.active=!0,this.$emit("focus",e)}}}),o=s,c=(n("ad30"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,null,null);e["a"]=l.exports},"347c":function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b}));var i,a=n("e5e9"),r=n("c964"),s=(n("96cf"),n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("d3b7"),n("25f0"),n("159b"),n("d28b"),n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),n("5184")),o=n("c50a"),c=n("d3a1"),l=n("c3a3"),d=n.n(l),u=[{id:"spark",title:"Spark",icon:"fas fa-burn text-2xl",duration:7,task_data:[{channel:"TWITCH",variant:"TITLE",count:1,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"flare",title:"Flare",icon:"fas fa-fire text-3xl",duration:14,task_data:[{channel:"TWITCH",variant:"TITLE",count:5,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:1,condition:"#{% company %}Partner AND {% link %}"}]},{id:"blaze",title:"Blaze",icon:"fad fa-fire-alt text-4xl",duration:30,task_data:[{channel:"TWITCH",variant:"TITLE",count:15,condition:"!{% company %}"},{channel:"TWITCH",variant:"COMMAND",count:1,condition:"!{% company %} OR {% link %}"},{channel:"TWITTER",variant:"POST",count:3,condition:"#{% company %}Partner AND {% link %}"},{channel:"INSTAGRAM",variant:"POST",count:2,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"VIDEO",count:1,condition:"#{% company %}Partner AND {% link %}"},{channel:"YOUTUBE",variant:"TITLE",count:1,condition:"{% company %}"}]}],p=function(t){var e=t.shortlink,n=t.condition,i=/{% link %}|{%link%}|{%link %}|{% link%}/;return{condition:n.replace(i,"https://".concat("s.pillar.io","/").concat(e))}},m=function(t){var e=t.condition,n=t.campaign,i=/{% company %}/,a=n.organization.name.normalize("NFD").replace(/[^a-zA-Z0-9]/g,"");return e.replace(i,a)},f=function(t){var e=t.shortlink,n=t.condition,i=t.campaign,a=m({condition:n,campaign:i}),r=p({shortlink:e,condition:a});return r},v=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Math.random().toString(36).substring(4),t.next=3,c["a"].query({query:Object(s["a"])(i||(i=Object(a["a"])(["\n\t\t\tquery CheckShortlinkExists($redirect_key: String) {\n\t\t\t\tattribution_shortlink(where: { redirect_key: { _eq: $redirect_key } }) {\n\t\t\t\t\tredirect_key\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),variables:{redirect_key:e}});case 3:return n=t.sent,r=n.data,t.abrupt("return",r.attribution_shortlink.length?v():e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.shortlink,i=e.campaign,a=e.influencerId,r=i.target_url,i.url_parameters.forEach((function(t,e){var n=t.name,i=t.value;r+=e>0?"&":"?",r+=encodeURI("".concat(n,"=").concat("{{ influencer_id }}"===i?a:i))})),t.next=5,c["a"].mutate({mutation:d.a,variables:{redirect_key:n,target_url:r}});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,r,s,c,l,d,u,p,m,g,b,k,y,_,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.influencerId,i=e.tasks,a=e.activation_id,r=e.campaign,s=[],t.next=4,v();case 4:for(c=t.sent,l=!0,d=!1,u=void 0,t.prev=8,p=i[Symbol.iterator]();!(l=(m=p.next()).done);l=!0)g=m.value,b=g.channel,k=g.variant,y=g.count,_=f({shortlink:c,condition:g.condition,campaign:r}),x=_.condition,s.push({id:Object(o["a"])(),activation_id:a,channel:b,variant:k,condition:x,count:y});t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),d=!0,u=t.t0;case 16:t.prev=16,t.prev=17,l||null==p.return||p.return();case 19:if(t.prev=19,!d){t.next=22;break}throw u;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.next=26,h({shortlink:c,campaign:r,influencerId:n});case 26:return t.abrupt("return",{task_objects:s,shortlink:c});case 27:case"end":return t.stop()}}),t,null,[[8,12,16,24],[17,,19,23]])})));return function(e){return t.apply(this,arguments)}}(),b=function(t){var e,n=(null===(e=t.influencer.invitations)||void 0===e?void 0:e[0])||{};return encodeURI(n.consumed?"".concat(window.location.origin,"/activations/").concat(t.id):"".concat(window.location.origin,"/invitation/").concat(n.id))}},"3a0a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center",class:{"text-white":t.currentRating&&t.$props.dark,"text-blue-500":t.currentRating&&!t.$props.dark,"text-gray-400":!t.currentRating&&!t.$props.dark,"text-gray-100":!t.currentRating&&t.$props.dark},on:{mouseenter:function(e){t.hovering=!t.disabled},mouseleave:function(e){t.hovering=!1}}},t._l(5,(function(e){return n("span",{key:e,staticClass:"cursor-pointer center",on:{mouseenter:function(n){return t.onMouseEnter(e)},click:function(n){return t.onClick(e)}}},[n("i",{class:{"fas fa-star":e<=t.currentRating,"fas fa-star-half":e-t.currentRating==.5,"far fa-star":!t.currentRating||e>t.currentRating}})])})),0)},a=[],r=(n("a9e3"),{props:{dark:{type:Boolean,default:!1},defaultRating:{type:Number,default:4},value:{type:Number},disabled:{type:Boolean,default:!1}},data:function(){return{hovering:!1,hoverRating:0}},created:function(){this.$data.hoverRating=this.$props.defaultRating},computed:{currentRating:function(){return this.$data.hovering?this.$data.hoverRating:Math.round(2*this.$props.value)/2}},methods:{onMouseEnter:function(t){this.$props.disabled||(this.$data.hoverRating=t)},onClick:function(t){this.$props.disabled||this.$emit("input",t)}}}),s=r,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,null,null);e["a"]=c.exports},"3cb6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen p-10 center",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full max-w-6xl max-h-full bg-white shadow-md"},[n("athlane-page-header",{attrs:{title:t.activation.guidelines_reviewed?"Guidlines":"Review Guidelines",text:"Here are some guidelines for this campaign. Please read carefully."}}),n("div",{staticClass:"\n\t\t\t\tflex flex-col\n\t\t\t\tjustify-between\n\t\t\t\tp-5\n\t\t\t\tspace-y-4\n\t\t\t\toverflow-y-scroll\n\t\t\t\ttablet-landscape:px-10\n\t\t\t"},[n("div",{staticClass:"flex flex-col flex-grow-0 h-full"},[n("div",{staticClass:"text-gray-600"},[t._v("Description")]),n("div",{staticClass:"p-5 text-gray-700 bg-gray-100 display-html",domProps:{innerHTML:t._s(t.activation.campaign.description_html)}})]),n("div",{staticClass:"flex flex-col flex-grow-0 h-full"},[n("div",{staticClass:"text-gray-600"},[t._v("Guidelines")]),n("div",{staticClass:"p-5 text-gray-700 bg-gray-100 display-html",domProps:{innerHTML:t._s(t.activation.campaign.guidelines_html)}})]),t.activation.guidelines_reviewed?t._e():n("div",{staticClass:"flex items-center justify-between"},[n("athlane-button",{attrs:{text:"Cancel",mode:"tertiary",icon:"fal fa-times"},on:{click:function(e){return t.$emit("close")}}}),n("athlane-button",{attrs:{text:"Confirm Guidelines",icon:"fas fa-rocket-launch"},on:{click:t.onClickConfirm}})],1)])],1)])},a=[],r=n("c964"),s=(n("96cf"),n("e43c")),o=n.n(s),c={props:{activation:Object},methods:{onClickConfirm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.mutate({mutation:o.a,variables:{id:this.$props.activation.id,changes:{guidelines_reviewed:!0}}});case 2:this.$set(this.$props.activation,"guidelines_reviewed",!0),this.$emit("close");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},l=c,d=n("2877"),u=Object(d["a"])(l,i,a,!1,null,null,null);e["a"]=u.exports},5203:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen py-10 center",on:{click:function(e){return t.$emit("close")}}},[n("div",{staticClass:"\n\t\t\tflex flex-col\n\t\t\titems-center\n\t\t\tw-full\n\t\t\tmax-w-lg\n\t\t\tp-2\n\t\t\tbg-white\n\t\t\trounded\n\t\t\tshadow-2xl\n\t\t",on:{click:function(t){t.stopPropagation()}}},[t._m(0),n("div",{staticClass:"flex flex-col items-center my-8"},[n("athlane-profile-image",{staticClass:"flex-none border border-gray-100 rounded-full shadow",attrs:{username:t.$constructUserFullName(t.influencer.user,t.influencer.alias),src:t.influencer.user.profile_image,size:"100"}}),n("h1",{staticClass:"mt-3 text-xl font-medium text-gray-800"},[t._v(" "+t._s(t.$constructUserFullName(t.influencer.user))+" ")]),n("h1",{staticClass:"text-base leading-tight text-gray-500"},[t._v(" "+t._s(t.influencer.alias)+" ")]),n("div",{staticClass:"flex mt-3"},t._l(t.influencer.socials.filter((function(t){return t.channel_name})),(function(e,i){return n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:`${t.platforms[e.channel].url}/${e.channel_name}`,expression:"\n\t\t\t\t\t\t`${platforms[social.channel].url}/${social.channel_name}`\n\t\t\t\t\t",modifiers:{bottom:!0}}],key:i,staticClass:"\n\t\t\t\t\t\tw-10\n\t\t\t\t\t\th-10\n\t\t\t\t\t\ttext-lg\n\t\t\t\t\t\trounded-full\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\thover:bg-gray-100\n\t\t\t\t\t\tcenter\n\t\t\t\t\t",class:t.platforms[e.channel].icon,style:{color:t.platforms[e.channel].colors.base},on:{click:function(n){return t.$open(`${t.platforms[e.channel].url}/${e.channel_name}`,n,!0)}}})})),0),n("div",{staticClass:"w-3/4 mt-3 text-sm italic text-gray-500"},[t._v(" "+t._s(t.influencer.user.bio)+" ")])],1)])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center justify-between w-full"},[n("div",{staticClass:"ml-2 text-sm text-gray-600 select-none"},[t._v(" Streamer Details ")]),n("i",{staticClass:"\n\t\t\t\t\tw-8\n\t\t\t\t\th-8\n\t\t\t\t\ttext-red-300\n\t\t\t\t\trounded-full\n\t\t\t\t\tcursor-pointer\n\t\t\t\t\tfal\n\t\t\t\t\tfa-times\n\t\t\t\t\thover:bg-gray-700\n\t\t\t\t\tcenter\n\t\t\t\t"})])}],r=n("e4a9"),s=n.n(r),o={props:["influencer"],data:function(){return{platforms:s.a}}},c=o,l=n("2877"),d=Object(l["a"])(c,i,a,!1,null,null,null);e["a"]=d.exports},"5a58":function(t,e,n){},"671b":function(t,e,n){"use strict";n("e50c")},"6ccd":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-10 py-12",staticStyle:{background:"#fff"}},[n("h2",{staticClass:"mb-2 text-lg font-semibold text-gray-700"},[t._v(t._s(t.creatorListIsIncomplete?"Creator Actions Required":"Creator Tasks"))]),t.creatorListIsIncomplete?t._e():n("div",{staticClass:"divide-y",staticStyle:{"padding-bottom":"40px"}},[n("p",{staticClass:"flex items-center mt-2 text-sm text-gray-400"},[n("svg",{staticClass:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t._v(" Completed ")])]),t.creatorListIsIncomplete?n("div",{staticClass:"divide-y",staticStyle:{"padding-bottom":"40px"}},[n("p",{staticClass:"mb-2 text-sm text-gray-400"},[t._v(" Required items need to be completed by creator before the activation can be started ")]),t._l(t.creatorChecklist,(function(e,i){return n("Notice",{key:i,attrs:{type:e.incomplete?e.mandatory?"warning":"notice":"success",message:e.text[t.$userType],idx:i+1,actor:e.actor},on:{click:function(n){e.actor!==t.$userType||e.action()},remind:function(n){return t.insertReminder(e)}}})}))],2):t._e(),n("p",{staticClass:"mb-2 text-lg font-semibold text-gray-700"},[t._v(t._s(t.brandListIsIncomplete?"Brand Actions Required":"Brand Tasks: Completed")+" ")]),t.brandListIsIncomplete?n("div",{staticClass:"divide-y"},[n("p",{staticClass:"mb-2 text-sm text-gray-400"},[t._v(" Required items need to be completed by brand before the activation can be started ")]),t._l(t.brandChecklist,(function(e,i){return n("Notice",{key:i,attrs:{type:e.incomplete?e.mandatory?"warning":"notice":"success",message:e.text[t.$userType],idx:i+1,actor:e.actor},on:{click:function(n){e.actor!==t.$userType||e.action()},remind:function(n){return t.insertReminder(e)}}})}))],2):t._e(),t.modal?n("Modal",{attrs:{open:t.modal},on:{close:function(e){t.modal=null}}},[n(t.modalComponents[t.modal],{tag:"component",attrs:{activation:t.activation,influencer:t.activation.influencer,name:t.name,email:t.email,campaign:t.activation.campaign,address:t.address,phone:t.phone,confirmationRequest:t.shouldConfirm,confirmAddress:t.confirmAddress},on:{close:function(e){t.modal=null}}})],1):t._e()],1)},a=[],r=n("c964"),s=(n("96cf"),n("ac1f"),n("1276"),n("5319"),n("99af"),n("0d68")),o=n("bc21"),c=n("11de"),l=n("5203"),d=n("8282"),u=n("f828"),p=n("163c"),m=n("b874"),f=n("1f01"),v=n("6d06"),h=n("3cb6"),g=n("a5ea"),b=n.n(g),k=n("e43c"),y=n.n(k),_=n("2ef0"),x={components:{Notice:o["a"],Modal:c["a"]},props:{activation:{type:Object,required:!0},activationLoading:Boolean},mixins:[s["a"]],data:function(){return{shouldConfirm:!1,modal:null,modalComponents:{profile:l["a"],product:d["a"],contract:u["a"],shortlink:p["a"],compensation:m["a"],review:v["a"],guidelines:h["a"],address:f["a"]}}},created:function(){if(console.log("hi"),!this.brandListIsIncomplete&&!this.creatorListIsIncomplete){var t=this.$route.path.split("/").pop();"todos"==t&&this.$router.replace("tasks")}},computed:{name:function(){return"".concat(this.activation.influencer.user.first_name," ").concat(this.activation.influencer.user.last_name)},email:function(){return"".concat(this.activation.influencer.user.email)},address:function(){return this.activation.address?"".concat(this.activation.address):"".concat(this.stripe_address)},phone:function(){return this.activation.phone?"".concat(this.activation.phone):"".concat(this.stripe_phone)},creatorChecklist:function(){return Object(_["filter"])(this.requiredSteps,{actor:"influencer"})},brandChecklist:function(){return Object(_["filter"])(this.requiredSteps,{actor:"brand"})},brandListIsIncomplete:function(){return Object(_["filter"])(this.brandChecklist,{incomplete:!0}).length>0},creatorListIsIncomplete:function(){return Object(_["filter"])(this.creatorChecklist,{incomplete:!0}).length>0}},methods:{insertReminder:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.mutate({mutation:b.a,variables:{sender_id:this.$user.id,influencer_id:this.activation.influencer.id,activation_id:this.activation.id,reminder_type:e.reminder_type}});case 3:this.$notify({type:"success",title:"Success",text:"Reminder Sent!"}),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.$notify({type:"error",title:"Error",text:"An error occurred: ".concat(t.t0,". Please try again.")});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}(),setAddress:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetchAddress(e);case 2:n=t.sent,i=n.address,a=n.phone,this.stripe_address=i,this.stripe_phone=a;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),confirmAddress:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$apollo.mutate({mutation:y.a,variables:{id:this.activation.id,changes:{address:e,phone:n}}});case 3:this.$notify({type:"success",title:"Success",text:"Shipping Address confirmed!"}),this.activation.address=e,this.activation.phone=n,this.$emit("close"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),onStartActivation:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.hasStepsRemaining.beforeBegin){t.next=3;break}return this.$notify({type:"error",title:"Error",text:"Steps must be complete before starting activation"}),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.$apollo.mutate({mutation:y.a,variables:{id:this.activation.id,changes:{status:"STARTED"}}}).catch((function(t){e.$notify({type:"error",title:"Error",text:"Steps must be complete before starting activation"})}));case 6:this.$notify({type:"success",title:"Success",text:"Activation started!"}),this.$set(this.activation,"status","STARTED"),this.$router.replace("tasks"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.error(t.t0);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(){return t.apply(this,arguments)}return e}(),refreshActivation:function(){this.$apollo.queries.activation.refetch()}}},w=x,S=n("2877"),C=Object(S["a"])(w,i,a,!1,null,null,null);e["default"]=C.exports},"6d06":function(t,e,n){"use strict";var i,a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col bg-white rounded shadow-md w-132"},[n("div",{staticClass:"flex flex-col p-10"},[t.requiresPaymentMethod?n("div",{staticClass:"grid grid-cols-2 gap-3"},[n("div",{staticClass:"col-span-2 text-center"},[n("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[t._v(" Payment Details ")]),n("div",{staticClass:"mt-2"},[n("p",{staticClass:"text-sm text-gray-500"},[t._v(" "+t._s(t.$organization.name)+" has no payment method. To continue, add billing details or confirm that this activation requires no in-platform payment. ")])])]),n("athlane-button",{attrs:{text:"Manage Billing",mode:"tertiary"},on:{click:function(e){return t.$open("/settings/billing")}}}),n("athlane-button",{attrs:{text:"No In-Platform Payment"},on:{click:function(e){t.bypassPayment=!0}}})],1):t.isEditing?n("div",{staticClass:"flex flex-col"},[n("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[t._v(" Leave a Review ")]),n("p",{staticClass:"text-gray-700"},[t._v("How did "+t._s(t.name)+" do?")]),n("review-stars",{staticClass:"my-3 text-xl",model:{value:t.review.rating,callback:function(e){t.$set(t.review,"rating",e)},expression:"review.rating"}}),n("text-area",{staticClass:"mb-5",attrs:{placeholder:"Leave a review",error:t.review.errors.content,required:"",characterLimit:"500",showCharacters:"",dynamicResize:""},model:{value:t.review.content,callback:function(e){t.$set(t.review,"content",e)},expression:"review.content"}}),t.bypassPayment?t._e():n("div",{staticClass:"flex flex-col mb-4"},[n("p",{staticClass:"text-gray-700"},[t._v("Amount owed to "+t._s(t.name))]),n("NumberField",{attrs:{icon:"fas fa-dollar-sign",formatFunction:t.numericToDollarString,hideError:""},model:{value:t.review.payment_amount,callback:function(e){t.$set(t.review,"payment_amount",e)},expression:"review.payment_amount"}})],1),t.bypassPayment?t._e():n("div",[n("p",{staticClass:"text-gray-700"},[t._v("Leave "+t._s(t.name)+" a tip")]),n("div",{staticClass:"flex my-4 space-x-1 center"},[t._l(t.tipSuggestions,(function(e,i){return n("athlane-button",{key:i,attrs:{mode:"tertiary",text:"$"+e},on:{click:function(n){t.review.payment_tip=e}}})})),n("NumberField",{staticClass:"ml-2",attrs:{icon:"fas fa-dollar-sign",formatFunction:t.numericToDollarString,hideError:""},model:{value:t.review.payment_tip,callback:function(e){t.$set(t.review,"payment_tip",e)},expression:"review.payment_tip"}})],2)]),n("athlane-button",{attrs:{text:"Submit Review",icon:{"fas fa-spinner fa-spin":t.isLoading},disabled:t.isLoading},on:{click:t.initialSubmit}})],1):n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"text-gray-700"},[t._v("Review Payment")]),n("table",{staticClass:"w-full text-sm text-gray-600"},[n("tr",[n("td",[t._v("Recipient")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.name)+" ")])]),n("tr",[n("td",[t._v("Receipt Email")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.$user.email)+" ")])]),n("tr",[n("td",[t._v("Date of Authorization")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s((new Date).toLocaleString())+" ")])]),n("tr",[n("td",[t._v("Contract Amount")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.numericToDollarString(t.review.payment_amount))+" ")])]),n("tr",[n("td",[t._v("Tip")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.numericToDollarString(t.review.payment_tip))+" ")])]),n("tr",[n("td",[t._v("Platform Fee")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.numericToDollarString(t.confirmation.platform_fees/100))+" ")])]),n("tr",[n("td",[t._v("Transfer Fee")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.numericToDollarString(t.confirmation.stripe_fees/100))+" ")])]),n("tr",{staticClass:"font-medium text-gray-700"},[n("td",[t._v("Total")]),n("td",{staticClass:"text-right"},[t._v(" "+t._s(t.numericToDollarString(t.paymentIntent.amount/100))+" ")])])]),n("athlane-button",{attrs:{text:"Authorize",icon:{"fas fa-spinner fa-spin":t.isLoading},disabled:t.isLoading},on:{click:t.confirm}})],1)])])},s=[],o=n("f3f3"),c=n("c964"),l=n("e5e9"),d=(n("96cf"),n("5184")),u=n("b104"),p=n("3432"),m=n("3a0a"),f=n("f5a3"),v=Object(d["a"])(i||(i=Object(l["a"])(["\n\tmutation UpdatePaymentIntent(\n\t\t$payment_intent_id: String!\n\t\t$confirmation_data: jsonb!\n\t) {\n\t\tupdate_payment_intent(\n\t\t\twhere: { payment_intent_id: { _eq: $payment_intent_id } }\n\t\t\t_set: { confirmation_data: $confirmation_data }\n\t\t) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),h=Object(d["a"])(a||(a=Object(l["a"])(["\n\tmutation InsertActivationReview(\n\t\t$review: campaigns_activation_review_insert_input!\n\t\t$influencer_id: uuid!\n\t\t$compensation: Int!\n\t) {\n\t\tinsert_campaigns_activation_review(objects: [$review]) {\n\t\t\taffected_rows\n\t\t}\n\t\tupdate_users_influencer(\n\t\t\twhere: { id: { _eq: $influencer_id } }\n\t\t\t_inc: { total_made: $compensation }\n\t\t) {\n\t\t\taffected_rows\n\t\t}\n\t}\n"]))),g=5,b={props:{activation:{type:Object,required:!0}},data:function(){return{isEditing:!0,isLoading:!1,tipSuggestions:[5,10,20,50,100],review:{rating:g,content:"",payment_amount:0,payment_tip:10,errors:{}},confirmation:{platform_fees:0,stripe_fees:0},paymentIntent:null,paymentMethod:null,bypassPayment:!1}},components:{NumberField:p["a"],ReviewStars:m["a"],TextArea:f["a"]},created:function(){this.isLoading=!0,this.getStripeData(),this.isLoading=!1},computed:{name:function(){return this.$constructUserFullName(this.$props.activation.influencer.user,this.$props.activation.influencer.alias)},requiresPaymentMethod:function(){return!this.paymentMethod&&!this.$data.bypassPayment}},methods:{numericToDollarString:u["D"],getStripeData:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/payments/customers/".concat(this.$organization.stripe_account_id));case 2:e=t.sent,n=e.data,this.$data.paymentMethod=n.invoice_settings.default_payment_method;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initialSubmit:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,r,s,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateReview()){t.next=2;break}return t.abrupt("return");case 2:if(e=this.$data.review,n=e.payment_amount,i=e.payment_tip,n||i||(this.$data.bypassPayment=!0),!this.$data.bypassPayment){t.next=8;break}return t.next=7,this.confirm();case 7:return t.abrupt("return");case 8:return this.isLoading=!0,a={customer:this.$organization.stripe_account_id,mode:"ACTIVATION",activation_id:this.$props.activation.id,payment_amount:100*this.$data.review.payment_amount,payment_tip:100*this.$data.review.payment_tip,influencer:this.$props.activation.influencer.id,destination_stripe_id:this.$props.activation.influencer.stripe_account_id,receipt_email:this.$user.email},t.prev=10,t.next=13,this.$axios.post("/payments/payment-intents",a);case 13:r=t.sent,s=r.data,o=s.intent,c=s.platform_fees,l=s.stripe_fees,this.$data.paymentIntent=o,this.$data.confirmation.platform_fees=c,this.$data.confirmation.stripe_fees=l,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](10),this.$notify({type:"error",title:"Error",text:"An error occurred. Please try again."});case 24:this.isLoading=!1,this.isEditing=!1;case 26:case"end":return t.stop()}}),t,this,[[10,21]])})));function e(){return t.apply(this,arguments)}return e}(),confirm:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,this.$data.bypassPayment){t.next=12;break}return t.next=5,this.$stripe.confirmCardPayment(this.$data.paymentIntent.client_secret,{receipt_email:this.$user.email,payment_method:this.$data.paymentMethod});case 5:if(n=t.sent,i=n.paymentIntent,"succeeded"===i.status){t.next=9;break}throw"An error occurred with your payment.";case 9:return a={payment_intent_id:this.$data.paymentIntent.id,confirmation_data:i},t.next=12,this.$apollo.mutate({mutation:v,variables:a});case 12:return r={review:{activation_id:this.$props.activation.id,rating:this.$data.review.rating,content:this.$data.review.content,payment_tip:this.$data.review.payment_tip,payment_amount:this.$data.review.payment_amount,payment_intent:null===(e=this.$data.paymentIntent)||void 0===e?void 0:e.id},influencer_id:this.$props.activation.influencer.id,compensation:this.$data.bypassPayment?0:100*(this.$data.review.payment_tip+this.$data.review.payment_amount)},t.next=15,this.$apollo.mutate({mutation:h,variables:r});case 15:this.$notify({type:"success",title:"Success",text:"Review added!"}),this.$emit("complete"),this.$emit("close"),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](1),console.error(t.t0),this.$notify({type:"error",title:"Error",text:"An error occurred while submitting your review: ".concat(t.t0.message||t.t0)});case 24:this.isLoading=!1;case 25:case"end":return t.stop()}}),t,this,[[1,20]])})));function e(){return t.apply(this,arguments)}return e}(),validateReview:function(){return this.review.errors={},!!this.review.content||(this.review.errors=Object(o["a"])(Object(o["a"])({},this.review.errors),{},{content:"A review is required."}),!1)}}},k=b,y=n("2877"),_=Object(y["a"])(k,r,s,!1,null,null,null);e["a"]=_.exports},8107:function(t,e,n){},8282:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen p-5 center tablet-landscape:p-20",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[n("div",{staticClass:"\n\t\t\tflex flex-col\n\t\t\tjustify-between\n\t\t\tw-full\n\t\t\tmax-w-xl max-h-full\n\t\t\tp-5\n\t\t\tspace-y-3\n\t\t\toverflow-y-hidden\n\t\t\tbg-white\n\t\t\tshadow-md\n\t\t\ttablet-landscape:px-10\n\t\t"},[t.activation.financial.product_offerings.length>1?n("div",{staticClass:"text-sm text-gray-600"},[t._v(" Product "+t._s(t.selectedIdx+1)+" of "+t._s(t.activation.financial.product_offerings.length)+" ")]):t._e(),n("div",{staticClass:"flex flex-col w-full max-h-full py-5 space-y-4 overflow-y-scroll"},[n("div",{staticClass:"flex items-center"},[n("a",{attrs:{href:t.product.product_url,target:"_blank"}},[t.product.image_url?n("img",{staticClass:"\n\t\t\t\t\t\t\tflex-shrink-0\n\t\t\t\t\t\t\tw-20\n\t\t\t\t\t\t\th-20\n\t\t\t\t\t\t\tborder border-gray-100\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\t",staticStyle:{"min-width":"5rem"},attrs:{src:t.product.image_url,alt:"profile image"}}):n("i",{staticClass:"\n\t\t\t\t\t\t\tflex-none\n\t\t\t\t\t\t\tw-20\n\t\t\t\t\t\t\th-20\n\t\t\t\t\t\t\ttext-4xl text-gray-700\n\t\t\t\t\t\t\tborder border-gray-100\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\tshadow-md\n\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t",class:t.variantIcons[t.product.product_variant]})]),n("div",{staticClass:"flex flex-col ml-4"},[n("h1",{staticClass:"mt-3 text-2xl"},[t._v(" "+t._s(t.product.name)+" ")]),n("a",{staticClass:"text-sm text-athlane-blue hover:underline",attrs:{href:t.product.product_url,target:"_blank"}},[t._v(" View product page ")]),n("h1",{staticClass:"mt-2 text-sm text-gray-700"},[t._v(" Product value: $"+t._s(t.product.value)+" ")])])]),t.product.size_options.length||t.product.subtypes.length?n("div",{staticClass:"flex flex-col w-full space-y-2"},[n("div",{staticClass:"text-gray-700"},[t._v("Product Selection")]),n("div",{staticClass:"flex items-center space-x-2"},[t.product.size_options.length?n("Select",{attrs:{label:"Selected Size",disabled:!t.selectionEnabled},model:{value:t.productOfferings[t.selectedIdx].selected_size,callback:function(e){t.$set(t.productOfferings[t.selectedIdx],"selected_size",e)},expression:"productOfferings[selectedIdx].selected_size"}},t._l(t.product.size_options,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0):t._e(),t.product.subtypes.length?n("Select",{attrs:{label:"Selected Color",disabled:!t.selectionEnabled},model:{value:t.productOfferings[t.selectedIdx].selected_color,callback:function(e){t.$set(t.productOfferings[t.selectedIdx],"selected_color",e)},expression:"productOfferings[selectedIdx].selected_color"}},t._l(t.product.subtypes,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1)]):t._e(),n("div",{staticClass:"flex flex-col space-y-2"},[n("div",{staticClass:"text-gray-700"},[t._v("Shipping Information")]),n("div",{staticClass:"flex items-center space-x-2"},[n("Select",{attrs:{disabled:!t.trackingUpdateEnabled,label:"Carrier"},model:{value:t.productOfferings[t.selectedIdx].shipping_provider,callback:function(e){t.$set(t.productOfferings[t.selectedIdx],"shipping_provider",e)},expression:"productOfferings[selectedIdx].shipping_provider"}},t._l(t.shippingProviders,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),n("athlane-field",{attrs:{label:"Tracking Code",disabled:!t.trackingUpdateEnabled},model:{value:t.productOfferings[t.selectedIdx].tracking_code,callback:function(e){t.$set(t.productOfferings[t.selectedIdx],"tracking_code",e)},expression:"productOfferings[selectedIdx].tracking_code"}})],1)]),t.activation.financial.product_offerings[t.selectedIdx].tracking_code?n("div",{staticClass:"flex p-5 bg-gray-100 center"},[t.trackingLoading?n("loader",{attrs:{color:"#4c8bf5"}}):n("div",{staticClass:"flex flex-col w-full space-y-3"},[n("div",{staticClass:"flex justify-between"},[n("div",{staticClass:"text-lg text-gray-700"},[t._v("Tracking")]),n("athlane-button",t._b({on:{click:function(e){return t.$open(t.trackingResult.public_url)}}},"athlane-button",t.trackingStatusMap[t.trackingResult.status],!1))],1),t._l(t.trackingResult.tracking_details,(function(e,i){return n("div",{key:i,staticClass:"\n\t\t\t\t\t\t\tflex flex-col\n\t\t\t\t\t\t\tjustify-between\n\t\t\t\t\t\t\tw-full\n\t\t\t\t\t\t\tpy-1\n\t\t\t\t\t\t\ttext-xs text-gray-700\n\t\t\t\t\t\t\tborder-b border-gray-200\n\t\t\t\t\t\t"},[n("span",{staticClass:"flex items-center justify-between"},[n("span",{staticClass:"text-sm text-gray-500"},[t._v(" "+t._s(e.tracking_location.city||"Other")+" ")]),n("span",{staticClass:"\n\t\t\t\t\t\t\t\t\tw-24\n\t\t\t\t\t\t\t\t\tpx-2\n\t\t\t\t\t\t\t\t\tpy-1\n\t\t\t\t\t\t\t\t\tml-2\n\t\t\t\t\t\t\t\t\ttext-blue-100\n\t\t\t\t\t\t\t\t\tbg-gray-500\n\t\t\t\t\t\t\t\t\trounded\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t"},[t._v(" "+t._s(t.dateFormatter(e.datetime,"MMM dd hh:mm"))+" ")])]),n("span",{staticClass:"w-64 mt-2 text-left"},[t._v(" "+t._s(e.message)+" ")])])}))],2)],1):t._e()]),n("div",{staticClass:"flex w-full",class:{"justify-between":!t.isFinalStep,"justify-end":t.isFinalStep}},[t.isFinalStep?t._e():n("athlane-button",{attrs:{mode:"tertiary",text:t.backButtonText,icon:"fas fa-caret-left"},on:{click:t.onClickBack}}),n("athlane-button",{attrs:{disabled:!t.isContinueEnabled,text:t.continueButtonText},on:{click:t.onClickContinue}})],1)])])},a=[],r=n("c964"),s=(n("159b"),n("d81d"),n("96cf"),n("2ef0")),o=n("6e77"),c=n("8a5d"),l=n("eac9"),d=n("4e35"),u=n("b104"),p=n("9111"),m=n.n(p),f=n("1768"),v=n.n(f),h={props:{activation:{type:Object,required:!0}},components:{Loader:c["a"],Select:o["a"]},data:function(){return{productOfferings:null,selectedIdx:0,variantIcons:l["a"],trackingLoading:!1,trackingResult:null,trackingStatusMap:d["TRACKING_STATUS_MAP"]}},created:function(){this.$data.productOfferings=Object(s["cloneDeep"])(this.activation.financial.product_offerings),this.trackShipment()},computed:{selectedProductOffering:function(){return this.productOfferings[this.selectedIdx]},product:function(){return this.selectedProductOffering.product},selectionEnabled:function(){return"influencer"===this.$userType&&this.$props.activation.financial.product_offerings.some((function(t){return!t.selected_size&&t.product.size_options||!t.selected_color&&t.product.subtypes}))},trackingUpdateEnabled:function(){return"brand"===this.$userType&&this.$props.activation.financial.product_offerings.some((function(t){return!t.tracking_code}))},fieldsComplete:function(){var t,e;return this.selectionEnabled?(!(null!==(t=this.product.size_options)&&void 0!==t&&t.length)||this.selectedProductOffering.selected_size)&&(!(null!==(e=this.product.subtypes)&&void 0!==e&&e.length)||this.selectedProductOffering.selected_color):!this.trackingUpdateEnabled||this.selectedProductOffering.tracking_code&&this.selectedProductOffering.shipping_provider},isFirstStep:function(){return 0===this.selectedIdx},isFinalStep:function(){return this.selectedIdx===this.productOfferings.length-1},isContinueEnabled:function(){return!this.selectionEnabled&&!this.trackingUpdateEnabled||this.fieldsComplete},continueButtonText:function(){return this.isFinalStep?this.trackingUpdateEnabled||this.selectionEnabled?"Submit":"Close":"Next"},backButtonText:function(){return this.isFirstStep?"Close":"Back"}},watch:{selectedIdx:function(){this.trackShipment()}},methods:{dateFormatter:u["e"],trackShipment:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectedProductOffering.tracking_code){t.next=2;break}return t.abrupt("return",null);case 2:return this.trackingLoading=!0,e=this.selectedProductOffering,n=e.tracking_code,i=e.shipping_provider,a={tracking_code:n,carrier:i},t.next=7,this.$post("/shipping",a);case 7:r=t.sent,s=r.data,this.trackingResult=s,this.trackingLoading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onClickBack:function(){this.isFirstStep&&this.$emit("close"),this.selectedIdx--},onClickContinue:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.fieldsComplete){t.next=2;break}return t.abrupt("return");case 2:if(this.isFinalStep){t.next=5;break}return this.selectedIdx++,t.abrupt("return");case 5:if(!this.selectionEnabled&&!this.trackingUpdateEnabled){t.next=8;break}return t.next=8,this.submitChanges();case 8:this.$emit("close");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitChanges:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{this.productOfferings.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={activation_financial_id:e.$props.activation.financial.id,product_id:n.product.id,changes:{shipping_provider:n.shipping_provider,tracking_code:n.tracking_code,selected_size:n.selected_size,selected_color:n.selected_color}},t.next=3,e.$apollo.mutate({mutation:v.a,variables:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$notify({type:"success",title:"Success",text:"Data has been updated!"}),this.$set(this.$props.activation.financial,"product_offerings",this.$data.productOfferings),this.$emit("close")}catch(n){this.$notify({type:"error",title:"Error",text:"An error occurred while submitting information."})}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},apollo:{shippingProviders:{query:m.a,update:function(t){return t.providers.map((function(t){return t.shipping_provider}))}}}},g=h,b=n("2877"),k=Object(b["a"])(g,i,a,!1,null,"5d11f8c3",null);e["a"]=k.exports},"8a5d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-pulse v-pulse1",style:[t.spinnerStyle,t.spinnerDelay1]}),n("div",{staticClass:"v-pulse v-pulse2",style:[t.spinnerStyle,t.spinnerDelay2]}),n("div",{staticClass:"v-pulse v-pulse3",style:[t.spinnerStyle,t.spinnerDelay3]})])},a=[],r={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},s=r,o=(n("671b"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,null,null);e["a"]=c.exports},9111:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetShippingProviders"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"providers"},name:{kind:"Name",value:"campaigns_shipping_provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping_provider"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"query GetShippingProviders {\n  providers: campaigns_shipping_provider {\n    shipping_provider\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["GetShippingProviders"]=s(n,"GetShippingProviders")},a54e:function(t,e,n){"use strict";n("8107")},a5ea:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"InsertActivationReminder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sender_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reminder_type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"types_REMINDER_TYPE_enum"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_campaigns_activation_reminder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"sender_id"},value:{kind:"Variable",name:{kind:"Name",value:"sender_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"influencer_id"},value:{kind:"Variable",name:{kind:"Name",value:"influencer_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"activation_id"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"reminder_type"},value:{kind:"Variable",name:{kind:"Name",value:"reminder_type"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:371}};n.loc.source={body:"mutation InsertActivationReminder(\n  $sender_id: uuid!\n  $influencer_id: uuid!\n  $activation_id: uuid!\n  $reminder_type: types_REMINDER_TYPE_enum!\n) {\n  insert_campaigns_activation_reminder(\n    objects: {\n      sender_id: $sender_id\n      influencer_id: $influencer_id\n      activation_id: $activation_id\n      reminder_type: $reminder_type\n    }\n  ) { affected_rows }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["InsertActivationReminder"]=s(n,"InsertActivationReminder")},ad30:function(t,e,n){"use strict";n("5a58")},b874:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("activation-compensation-display",t._b({staticClass:"px-6 py-5 bg-white shadow-md w-84"},"activation-compensation-display",t.$attrs,!1))},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"flex flex-col text-base"},[t.activation.financial.lumpsum?n("div",{staticClass:"flex items-center justify-between p-1 select-none"},[n("div",{staticClass:"flex"},[t._m(0),n("span",{staticClass:"font-light text-gray-700"},[t._v(" "+t._s(t.numberWithCommas(t.activation.financial.lumpsum,!0))+" ")])]),n("div",{staticClass:"w-4 ml-2 text-gray-700"},[n("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Compensation will be processed once the activation is marked Completed.",expression:"\n\t\t\t\t\t\t'Compensation will be processed once the activation is marked Completed.'\n\t\t\t\t\t",modifiers:{top:!0}}],staticClass:"fas fa-question"})])]):t._e(),t._l(t.activation.financial.commission,(function(e,i){return n("div",{key:i,staticClass:"flex items-center justify-start p-1 select-none"},[t._m(1,!0),n("span",{staticClass:"font-light text-gray-700"},[t._v(" "+t._s(e.percentage)+"% of "+t._s(e.product)+" sales ")])])})),t.activation.financial.media_value?n("div",{staticClass:"flex items-center justify-start p-1 select-none"},[t._m(2),n("span",{staticClass:"font-light text-gray-700"},[t._v(" $"+t._s(t.activation.financial.media_value)+" per unique click ")])]):t._e(),t._l(t.activation.financial.product_offerings,(function(e,i){return n("div",{key:i,staticClass:"flex items-center justify-start p-1 select-none"},[t._m(3,!0),n("span",{staticClass:"font-light text-gray-700"},[t._v(" "+t._s(e.product.name)+" (MSRP $"+t._s(e.product.value)+") ")])])}))],2)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-dollar-sign fa"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-percent fa"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-mouse-pointer fa"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-4 mr-2 text-gray-700 center"},[n("i",{staticClass:"fa-trophy fa"})])}],o=n("b104"),c={props:{activation:Object},methods:{numberWithCommas:o["C"]}},l=c,d=n("2877"),u=Object(d["a"])(l,r,s,!1,null,null,null),p=u.exports,m={components:{ActivationCompensationDisplay:p}},f=m,v=Object(d["a"])(f,i,a,!1,null,null,null);e["a"]=v.exports},bc21:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center justify-between w-full px-4 py-4",on:{click:function(e){"success"!==t.type&&t.$emit("click")}}},[n("div",{staticClass:"flex"},[n("div",{staticClass:"\n\t\t\t\tflex-none\n\t\t\t\tw-12\n\t\t\t\th-12\n\t\t\t\ttext-lg\n\t\t\t\tfont-bold\n\t\t\t\tbg-white\n\t\t\t\tborder\n\t\t\t\trounded-full\n\t\t\t\tcenter\n\t\t\t",class:{"bg-gray-200 text-gray-400":"success"===t.type}},[t._v(" "+t._s(t.idx)+" ")]),n("span",{staticClass:"ml-2 center",class:{"line-through text-gray-400":"success"===t.type,"cursor-pointer hover:underline":"success"!=t.type&&t.actor===t.$userType}},[t._v(" "+t._s(t.message)+" ")])]),"brand"===t.$userType&&"brand"!=t.actor&&"success"!=t.type?n("athlane-button",{staticClass:"mr-5",attrs:{text:"Send Reminder",mode:"text-only"},on:{click:function(e){return t.$emit("remind")}}}):t._e()],1)},a=[],r={props:{type:{type:String,default:"notice"},message:{type:String,required:!0},idx:{required:!0},actor:{type:String,required:!1}}},s=r,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,null,null);e["a"]=c.exports},c225:function(t,e,n){"use strict";n("ac1f"),n("5319");e["a"]={isFalsyOrWhiteSpace:function(t){return!t||/^\s*$/.test(t)},toTitleCase:function(t){return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},toKeyable:function(t){var e=t;return e=e.toLowerCase(),e=e.replace(/[^a-z0-9.\-_]/g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(/-{2,}/g,"-"),e=e.replace(/_{2,}/g,"_"),e}}},c3a3:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpsertShortlink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"redirect_key"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"target_url"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_attribution_shortlink"},arguments:[{kind:"Argument",name:{kind:"Name",value:"objects"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"redirect_key"},value:{kind:"Variable",name:{kind:"Name",value:"redirect_key"}}},{kind:"ObjectField",name:{kind:"Name",value:"redirect_to"},value:{kind:"Variable",name:{kind:"Name",value:"target_url"}}}]}]}},{kind:"Argument",name:{kind:"Name",value:"on_conflict"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"constraint"},value:{kind:"EnumValue",value:"shortlink_pkey"}},{kind:"ObjectField",name:{kind:"Name",value:"update_columns"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"redirect_to"}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:305}};n.loc.source={body:"mutation UpsertShortlink(\n  $redirect_key: String!\n  $target_url: String\n) {\n  insert_attribution_shortlink(\n    objects: [{ redirect_key: $redirect_key, redirect_to: $target_url }]\n    on_conflict: {\n      constraint: shortlink_pkey\n      update_columns: [redirect_to]\n    }\n  ) {\n    affected_rows\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["UpsertShortlink"]=s(n,"UpsertShortlink")},e29b:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateActivationLegalSignatureByID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activation_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"legal_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time_signed"}},type:{kind:"NamedType",name:{kind:"Name",value:"timestamptz"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signed_by"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contract_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"jsonb"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body_html"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation_legal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"legal_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"time_signed"},value:{kind:"Variable",name:{kind:"Name",value:"time_signed"}}},{kind:"ObjectField",name:{kind:"Name",value:"signed_by"},value:{kind:"Variable",name:{kind:"Name",value:"signed_by"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_signed"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"activation_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"CONFIRMED"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"update_legal_contract"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"contract_id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}},{kind:"ObjectField",name:{kind:"Name",value:"body_html"},value:{kind:"Variable",name:{kind:"Name",value:"body_html"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"returning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body_html"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:725}};n.loc.source={body:"mutation UpdateActivationLegalSignatureByID(\n  $activation_id: uuid\n  $legal_id: uuid\n  $time_signed: timestamptz\n  $signed_by: String\n  $contract_id: uuid\n  $body: jsonb\n  $body_html: String\n) {\n  update_campaigns_activation_legal(\n    where: { id: { _eq: $legal_id } }\n    _set: { time_signed: $time_signed, signed_by: $signed_by }\n  ) {\n    returning {\n      id\n      time_signed\n    }\n  }\n  update_campaigns_activation(\n    where: { id: { _eq: $activation_id } }\n    _set: { status: CONFIRMED }\n  ) {\n    returning {\n      id\n    }\n  }\n  update_legal_contract(\n    where: { id: { _eq: $contract_id } }\n    _set: { body: $body, body_html: $body_html }\n  ) {\n    returning {\n      id\n      body\n      body_html\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["UpdateActivationLegalSignatureByID"]=s(n,"UpdateActivationLegalSignatureByID")},e43c:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateActivation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"changes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"campaigns_activation_set_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_campaigns_activation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"_eq"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"Variable",name:{kind:"Name",value:"changes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"affected_rows"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:199}};n.loc.source={body:"mutation UpdateActivation(\n  $id: uuid!\n  $changes: campaigns_activation_set_input!\n) {\n  update_campaigns_activation(\n    where: { id: { _eq: $id } }\n    _set: $changes\n  ) {\n    affected_rows\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){i(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){i(t,e)})),t.definitions&&t.definitions.forEach((function(t){i(t,e)}))}var a={};function r(t,e){for(var n=0;n<t.definitions.length;n++){var i=t.definitions[n];if(i.name&&i.name.value==e)return i}}function s(t,e){var n={kind:t.kind,definitions:[r(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var i=a[e]||new Set,s=new Set,o=new Set;i.forEach((function(t){o.add(t)}));while(o.size>0){var c=o;o=new Set,c.forEach((function(t){if(!s.has(t)){s.add(t);var e=a[t]||new Set;e.forEach((function(t){o.add(t)}))}}))}return s.forEach((function(e){var i=r(t,e);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(t){if(t.name){var e=new Set;i(t,e),a[t.name.value]=e}}))})(),t.exports=n,t.exports["UpdateActivation"]=s(n,"UpdateActivation")},e4a9:function(t,e,n){var i=n("4e35").colors;t.exports={TWITCH:{icon:"fab fa-twitch",url:"https://twitch.tv",colors:{dark:i["purple"][700],base:i["purple"][700],light:i["purple"][200],root:"purple"},displayName:"Twitch",taskVariants:{COMMAND:{displayName:"Command",helpText:"A Twitch Command condition contains the desired command text (e.g., !Athlane). Success metrics are oriented around the frequency and timing of chatroom usage of the command.",icon:"fas fa-exclamation"},TITLE:{displayName:"Shoutout",helpText:"A Twitch Shoutout condition contains any text that should be included in the Twitch stream title. Each individual stream session with a corresponding title and 30 second verbal shoutout counts for one count of this task.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"A Twitch Bio condition contains any text that should be included in the streamer's Twitch page, completed when the streamer updates their bio with the text condition.",icon:"fas fa-book-user"},VIDEO:{displayName:"VOD",helpText:"A Twitch VOD condition contains any text that should be included in the VOD's title. Each VOD with the requisite title text counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},INSTAGRAM:{icon:"fab fa-instagram",url:"https://instagram.com",colors:{base:i["red"][500],light:i["red"][200],root:"red"},displayName:"Instagram",taskVariants:{POST:{displayName:"Post",helpText:"An Instagram post condition includes text that should be included in an Instagram post. Each post counts as a completion.",icon:"fas fa-stream"},BIO:{displayName:"Bio",helpText:"An Instagram bio condition includes text that should be included in an Instagram bio, completed when the streamer updates their bio to include the condition.",icon:"fas fa-book-user"},STORY:{displayName:"Story",helpText:"An Instagram story condition includes text that should be included in an Instagram story. Each story counts as a completion.",icon:"fas fa-circle-notch"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},TWITTER:{icon:"fab fa-twitter",url:"https://twitter.com",colors:{base:i["blue"][400],light:i["blue"][100],root:"blue"},displayName:"Twitter",taskVariants:{POST:{displayName:"Tweet",helpText:"A Twitter tweet condition includes text that should be included in a tweet. Each tweet is a completion.",icon:"fab fa-twitter"},BIO:{displayName:"Bio",helpText:"A Twitter bio condition includes text that should be included in the streamer's bio, completed when the Twitter page is updated.",icon:"fas fa-book-user"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},YOUTUBE:{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"YouTube",taskVariants:{VIDEO:{displayName:"Description",helpText:"A Youtube video description condition includes text that should be included in a video's description. Each video counts as a completion.",icon:"fas fa-align-left"},TITLE:{displayName:"Title",helpText:"A Youtube title condition includes text that should be included in a video's title. Each video counts as a completion.",icon:"fas fa-play-circle"},CUSTOM:{displayName:"Custom",helpText:"A custom task that is not auto-tracked but allows you to specify your own deliverable.",icon:"fas fa-cogs"}}},FACEBOOK:{icon:"fab fa-facebook",url:"https://facebook.com",colors:{base:i["blue"][600],light:i["blue"][300],root:"blue"},displayName:"Facebook"},EMAIL:{icon:"fas fa-envelope",url:"mailto:",colors:{base:i["gray"][500],light:i["gray"][100],root:"gray"},displayName:"Email"},SPOTIFY:{icon:"fab fa-spotify",url:"https://spotify.com/",colors:{base:i["green"][500],light:i["green"][300],root:"green"},displayName:"Spotify"},DISCORD:{icon:"fab fa-discord",url:"https://discord.gg",colors:{base:i["blue"][700],light:i["blue"][500],root:"blue"},displayName:"Discord"},TIKTOK:{icon:"fab fa-tiktok",url:"https://tiktok.com",colors:{base:i["black"],light:i["gray"][600],root:"black"},displayName:"TikTok"},APPLE:{icon:"fab fa-apple",url:"https://apple.com",colors:{base:i["gray"][400],light:i["gray"][200],root:"gray"},displayName:"Apple"},PATREON:{icon:"fab fa-patreon",url:"https://patreon.com",colors:{base:i["red"][500],light:i["red"][300],root:"red"},displayName:"Patreon"},SOUNDCLOUD:{icon:"fab fa-soundcloud",url:"https://soundcloud.com",colors:{base:i["orange"][600],light:i["orange"][300],root:"orange"},displayName:"Soundcloud"},LINKEDIN:{icon:"fab fa-linkedin",url:"https://linkedin.com",colors:{base:i["blue"][600],light:i["blue"][500],root:"blue"},displayName:"LinkedIn"},MEDIUM:{icon:"fab fa-medium",url:"https://medium.com",colors:{base:i["black"],light:i["white"],root:"black"},displayName:"Medium"},"YOUT.UBE":{icon:"fab fa-youtube",url:"https://youtube.com/c",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"YouTube"},PILLAR:{icon:"fab fa-pillar",colors:{base:i["red"][600],light:i["red"][300],root:"red"},displayName:"Pillar"}}},e50c:function(t,e,n){},eac9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return s}));var i={ACCESSORIES:"fad fa-backpack",APPAREL_BOTTOM:"fas fa-walking",APPAREL_TOP:"fas fa-tshirt",ELECTRONICS:"fas fa-laptop",FOOD_ITEM:"fas fa-burger-soda",FOOTWEAR:"fas fa-boot",FURNITURE:"fad fa-chair-office",GAMES:"fas fa-gamepad-alt",GIFTCARDS:"fas fa-gift-card",HEADPHONES:"fad fa-headphones-alt",HEADWEAR:"fas fa-hat-cowboy-side",HEALTH:"fas fa-heartbeat",KITCHEN:"fas fa-oven",MISC:"fas fa-trophy",SOFTWARE:"fab fa-app-store"},a={ACCESSORIES:"Accessories",APPAREL_BOTTOM:"Bottom Apparel",APPAREL_TOP:"Top Apparel",ELECTRONICS:"Electronics",FOOD_ITEM:"Food & Beverage",FOOTWEAR:"Footwear",FURNITURE:"Furniture",GAMES:"Games",GIFTCARDS:"Gift cards",HEADPHONES:"Headphones",HEADWEAR:"Headwear",HEALTH:"Health and Fitness",KITCHEN:"Kitchen",MISC:"Other",SOFTWARE:"Software products"},r=function(t){switch(t){case"ELECTRONICS":case"HEALTH":return"variants";case"FOOD_ITEM":return"flavor";case"GAMES":case"SOFTWARE":return"suites/plans";default:return"color"}},s=function(t){switch(t){case"ELECTRONICS":case"HEALTH":return"fa-tags";case"FOOD_ITEM":return"fa-turkey";case"GAMES":case"SOFTWARE":return"fa-credit-card";default:return"fa-palette"}}},f5a3:function(t,e,n){"use strict";var i,a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"flex flex-col"},[t.label||t.subtext?n("div",{staticClass:"mb-1"},[t.label?n("div",{staticClass:"block text-sm font-medium text-gray-700"},[t._v(" "+t._s(t.label)+" "),t.required?n("span",{staticClass:"ml-1 text-yellow-500"},[t._v("*")]):t._e()]):t._e(),t.subtext?n("span",{staticClass:"block text-xs text-gray-600 dark:text-gray-300"},[t._v(" "+t._s(t.subtext)+" ")]):t._e()]):t._e(),n("div",{staticClass:"relative"},[n("resize-auto",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.resize;return[n("textarea",t._b({staticClass:"box-border block w-full h-32 min-w-0 px-4 py-3 text-black placeholder-gray-400 transition-colors duration-100 ease-in-out bg-white border border-gray-200 rounded-lg shadow-sm appearance-none resize-none dark:bg-gray-600 dark:text-white dark:border-gray-700 dark:focus:border-indigo-300 dark:bg-gray-800 focus:border-indigo-500 focus:outline-none",class:{"border-red-500":t.$props.error,"shadow-sm":!t.$props.flat},attrs:{maxlength:t.characterLimit},domProps:{value:t.value},on:{input:function(e){return t.onInput(e,i)},focus:function(e){t.active=!0},blur:function(e){t.active=!1},change:function(e){return t.$emit("change",e.target.value)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter",e)}}},"textarea",t.$attrs,!1))]}}])})],1),t.characterLimit&&t.showCharacters?n("div",{staticClass:"mt-1 text-xs text-gray-400"},[t._v(" "+t._s(t.value?t.value.length:0)+" / "+t._s(t.characterLimit)+" characters ")]):t._e(),!t.hideError&&t.$props.error?n("span",{staticClass:"block my-1 text-sm tracking-wide text-red-500"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()])},s=[],o=n("2b0e"),c={name:"ResizeAuto",methods:{resize:function(t){t.target.style.height="auto",t.target.style.height="".concat(t.target.scrollHeight,"px")}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$el.scrollHeight+10;t.$el.setAttribute("style","height:".concat(e,"px"))}))},render:function(){return this.$scopedSlots.default({resize:this.resize})}},l=c,d=n("2877"),u=Object(d["a"])(l,i,a,!1,null,null,null),p=u.exports,m=o["default"].extend({inheritAttrs:!1,components:{ResizeAuto:p},props:{showCharacters:{type:Boolean,default:!1},characterLimit:{type:String,default:null},error:{type:String,required:!1},hideError:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},label:{type:String,required:!1},subtext:{type:String,required:!1},required:{type:Boolean,default:!1},value:{type:String,required:!1},dynamicResize:{type:Boolean,default:!1}},data:function(){return{active:!1}},computed:{errorMessage:function(){var t;return null!==(t=this.$props.error)&&void 0!==t?t:"Error: "}},methods:{onInput:function(t,e){this.$emit("input",t.target.value),!this.$props.dynamicResize||e(t)}}}),f=m,v=(n("a54e"),Object(d["a"])(f,r,s,!1,null,null,null));e["a"]=v.exports},f828:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen p-5 xl:p-20 center",on:{click:function(e){return t.$emit("close")}}},[n("div",{staticClass:"flex flex-col w-full h-full max-w-5xl bg-white shadow-xl",on:{click:function(t){t.stopPropagation()}}},[n("athlane-page-header",{attrs:{title:"Contract",text:"Review and sign agreement details",ctaIcon:"fas fa-download",ctaText:"Download Contract",showCta:"",flat:""},on:{"action-click":t.onClickDownload}}),n("div",{staticClass:"\n\t\t\t\th-full\n\t\t\t\tmax-h-full\n\t\t\t\tpx-5\n\t\t\t\tpy-10\n\t\t\t\toverflow-y-scroll\n\t\t\t\tbg-gray-100\n\t\t\t\tdisplay-html\n\t\t\t\ttablet-landscape:px-10\n\t\t\t",domProps:{innerHTML:t._s(t.activation.legal.contract.body_html||t.activation.legal.contract.body.html)}}),t.activation.legal.time_signed||"influencer"!==t.$userType?t._e():n("div",{staticClass:"w-full p-5 bg-white tablet-landscape:px-10"},[n("div",{staticClass:"font-medium text-gray-800"},[t._v("Signature")]),n("div",{staticClass:"text-sm text-gray-600"},[t._v(" By typing in your name below and pressing submit, you agree to all the terms above and acknowledge that you have agreed to the agreement above. ")]),n("div",{staticClass:"flex items-center mt-3"},[n("athlane-field",{attrs:{icon:"fas fa-signature",placeholder:"Enter signature here...",hideError:""},model:{value:t.newSignature.signedBy,callback:function(e){t.$set(t.newSignature,"signedBy",e)},expression:"newSignature.signedBy"}}),n("athlane-field",{staticClass:"ml-2",attrs:{type:"date",icon:"fas fa-calendar-alt",placeholder:"Enter date...",hideError:""},model:{value:t.newSignature.signedDate,callback:function(e){t.$set(t.newSignature,"signedDate",e)},expression:"newSignature.signedDate"}}),n("athlane-button",{staticClass:"ml-4",attrs:{disabled:!t.isComplete,icon:"fas fa-angle-right",text:"Submit"},on:{click:t.onClickSubmit}})],1)])],1)])},a=[],r=n("c964"),s=n("d0ff"),o=(n("99af"),n("96cf"),n("cd42")),c=n("b104"),l=n("49c2"),d=n("e29b"),u=n.n(d),p={props:{activation:Object},data:function(){return{newSignature:{signedBy:"",signedDate:Object(c["e"])(new Date,"yyyy-MM-dd")},errorMessage:"",editor:new o["a"]({extensions:Object(s["a"])(Object(l["a"])()),content:""})}},computed:{isComplete:function(){return this.$data.newSignature.signedBy&&this.$data.newSignature.signedDate}},methods:{dateFormatter:c["e"],validate:function(){return this.$data.newSignature.signedBy?this.$data.newSignature.signedDate?"":"Date required.":"Signature required."},onClickDownload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=this.$props.activation.legal.contract.body,i=n.html,a=n.signatureHtml,Object(c["G"])(this.$props.activation.legal.contract.body_html||(null!==(e=i+a)&&void 0!==e?e:""));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onClickSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.validate(),!e){t.next=4;break}return this.errorMessage=e,t.abrupt("return");case 4:return n=this.$props.activation.legal.contract.body,n.html&&(this.editor.setContent(n.html),n=this.editor.getJSON()),i=[].concat(Object(s["a"])(n.content),[{type:"paragraph",content:[{type:"text",marks:[{type:"aligntext",attrs:{align:"start"}},{type:"fontSize",attrs:{fontSize:"2rem"}},{type:"fontFamily",attrs:{fontFamily:"'Cedarville Cursive', cursive"}}],text:this.$data.newSignature.signedBy}]},{type:"paragraph",content:[{type:"text",marks:[{type:"aligntext",attrs:{align:"start"}},{type:"fontSize",attrs:{fontSize:"1rem"}}],text:this.$data.newSignature.signedDate}]}]),this.editor.setContent({type:"doc",content:i}),a=this.editor.getHTML(),r={activation_id:this.$props.activation.id,legal_id:this.$props.activation.legal.id,time_signed:new Date,signed_by:this.$data.newSignature.signedBy,contract_id:this.$props.activation.legal.contract.id,body:{type:"doc",content:i},body_html:a},t.next=12,this.$apollo.mutate({mutation:u.a,variables:r});case 12:this.$notify({type:"success",title:"Success",text:"This contract has been signed!"}),this.$set(this.$props.activation.legal,"time_signed",new Date),this.$emit("close");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},m=p,f=n("2877"),v=Object(f["a"])(m,i,a,!1,null,null,null);e["a"]=v.exports}}]);
//# sourceMappingURL=chunk-318fb4ed.91a09a8f.js.map