(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c0e8"],{f239:function(t,e,a){"use strict";a.r(e);var n,i,r,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col"},[a("athlane-page-header",{attrs:{title:"Payouts",text:"Payouts for your digital products, experiences, and requests"}}),a("div",{staticClass:"flex flex-col py-5"},[t.isLoading||t.$apollo.loading?a("loader",{attrs:{color:"#4c8bf5"}}):t.payments.length?a("div",{staticClass:"flex flex-col space-y-4"},["brand"===t.$userType?a("div",{staticClass:"text-gray-600"},[t._v(" Total Spent: $"+t._s(t.numericToDollarString(t.total))+" ")]):t.balance.total?a("div",{staticClass:"p-4 bg-blue-100 rounded-md"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-shrink-0"},[a("svg",{staticClass:"w-5 h-5 text-blue-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"}})])]),a("div",{staticClass:"flex-1 ml-3 md:flex md:justify-between"},[a("p",{staticClass:"text-sm text-blue-700"},[t._v(" Payouts occur every day on a two-day rolling basis. For example, payments on Tuesday will be received on Thursday. You currently have $"+t._s(t.numericToDollarString(parseInt(t.balance.total)/100))+" on its way. ")])])])]):t._e(),a("div",{staticClass:"flex flex-col mt-4"},[a("div",{staticClass:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},[a("div",{staticClass:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},[a("div",{staticClass:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg"},[a("table",{staticClass:"min-w-full divide-y divide-gray-200"},[a("thead",{staticClass:"bg-gray-50"},[a("tr",[a("th",{staticClass:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",attrs:{scope:"col"}},[t._v(" Name ")]),a("th",{staticClass:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",attrs:{scope:"col"}},[t._v(" Description ")]),a("th",{staticClass:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",attrs:{scope:"col"}},[t._v(" Email ")]),a("th",{staticClass:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",attrs:{scope:"col"}},[t._v(" Price ")]),a("th",{staticClass:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",attrs:{scope:"col"}},[t._v(" Time ")])])]),a("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.payments,(function(e){return a("tr",{key:e.payment_intent_id},[a("td",{staticClass:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"},[t._v(" "+t._s(e.name)+" ")]),a("td",{staticClass:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},[t._v(" "+t._s(e.description)+" ")]),a("td",{staticClass:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},[t._v(" "+t._s(e.email)+" ")]),a("td",{staticClass:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},[t._v(" $"+t._s(e.amount/100)+" ")]),a("td",{staticClass:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},[t._v(" "+t._s(t.dateFormatter(e.updated_at))+" ")])])})),0)])])])])])]):a("empty-bookshelf",{attrs:{message:"You don't have transactions to show at the moment."}})],1)],1)},o=[],c=a("f3f3"),l=a("c964"),d=a("e5e9"),u=(a("4de4"),a("d81d"),a("b0c0"),a("99af"),a("96cf"),a("5184")),p=a("b104"),m=a("8a5d"),_=a("c678"),f=Object(u["a"])(n||(n=Object(d["a"])(["\n\tfragment PaymentIntent on payment_intent {\n\t\tpayment_intent_id\n\t\ttime_created\n\t\tupdated_at\n\t\tcharge_data\n\t\tconfirmation_data\n\t\tbooking {\n\t\t\tbooking_id\n\t\t\tfirst_name\n\t\t\tlast_name\n\t\t\temail\n\t\t\tquantity\n\t\t\texperience {\n\t\t\t\texperience_id\n\t\t\t\ttitle\n\t\t\t}\n\t\t}\n\t\tdigital_product_purchase {\n\t\t\tid\n\t\t\tfull_name\n\t\t\temail\n\t\t\tmessage\n\t\t\tcreated_at\n\t\t\tdigital_product {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t\tfan_request_booking {\n\t\t\tid\n\t\t\tstatus\n\t\t\tfull_name\n\t\t\tdescription\n\t\t\temail\n\t\t\tdue_at\n\t\t\tfulfilled_at\n\t\t\tfulfillment_url\n\t\t\tpayment_intent_id\n\t\t\tcreated_at\n\t\t\tfan_request {\n\t\t\t\tid\n\t\t\t\tinfluencer_id\n\t\t\t\tlabel\n\t\t\t\tprice\n\t\t\t}\n\t\t}\n\t\treview {\n\t\t\tactivation {\n\t\t\t\tid\n\t\t\t\tinfluencer {\n\t\t\t\t\tid\n\t\t\t\t\talias\n\t\t\t\t\tuser {\n\t\t\t\t\t\tid\n\t\t\t\t\t\temail\n\t\t\t\t\t\tfull_name\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcampaign {\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t\tmanagers(where: { primary: { _eq: true } }) {\n\t\t\t\t\t\tuser {\n\t\t\t\t\t\t\temail\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\torganization {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),g=Object(u["a"])(i||(i=Object(d["a"])(["\n\t","\n\tquery GetPaymentIntents($recipient_stripe_id: String!) {\n\t\tpayments: payment_intent(\n\t\t\twhere: {\n\t\t\t\trecipient_stripe_id: { _eq: $recipient_stripe_id }\n\t\t\t\tconfirmation_data: { _is_null: false }\n\t\t\t\tcancellation_data: { _is_null: true }\n\t\t\t}\n\t\t\torder_by: { updated_at: desc }\n\t\t) {\n\t\t\t...PaymentIntent\n\t\t}\n\t}\n"])),f),y=Object(u["a"])(r||(r=Object(d["a"])(["\n\t","\n\tquery GetPaymentIntents($organization_id: uuid!) {\n\t\tpayments: payment_intent(\n\t\t\twhere: {\n\t\t\t\treview: {\n\t\t\t\t\tactivation: { campaign: { org_id: { _eq: $organization_id } } }\n\t\t\t\t}\n\t\t\t\tconfirmation_data: { _is_null: false }\n\t\t\t\tcancellation_data: { _is_null: true }\n\t\t\t}\n\t\t\torder_by: { updated_at: desc }\n\t\t) {\n\t\t\t...PaymentIntent\n\t\t}\n\t}\n"])),f),x={succeeded:{color:"border-green-300 text-green-400",text:"Succeeded",icon:"fal fa-check"},requires_payment_method:{color:"border-yellow-300 text-yellow-400",text:"Requires Payment Method",icon:"fas fa-question"},requires_confirmation:{color:"border-yellow-300 text-yellow-400",text:"Requires Confirmation",icon:"fas fa-ellipsis-h"},requires_action:{color:"border-yellow-300 text-yellow-400",text:"Requires Action",icon:"fas fa-ellipsis-h"},processing:{color:"border-gray-300 text-gray-400",text:"Processing",icon:"fas fa-ellipsis-h"},canceled:{color:"border-red-300 text-red-400",text:"Canceled",icon:"fas fa-exclamation"}},b={components:{Loader:m["a"],EmptyBookshelf:_["a"]},data:function(){return{STATUS_MAP:x,isLoading:!1,payments:[],total:0,balance:{}}},created:function(){"influencer"===this.$userType&&this.fetchBalance()},methods:{dateFormatter:p["e"],numericToDollarString:p["D"],fetchBalance:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/payments/accounts/".concat(this.$user.influencer.id,"/balance"));case 2:e=t.sent,a=e.data,this.balance=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computeAmount:function(t){var e=t.amount,a=t.metadata;return"influencer"===this.$userType?Object(p["D"])((parseInt(a.base)+parseInt(a.tip))/100):Object(p["D"])(parseInt(e)/100)},receiptUrl:function(t){var e,a=t.charges;return null===a||void 0===a||null===(e=a.data[0])||void 0===e?void 0:e.receipt_url}},apollo:{payments:{query:function(){return"brand"===this.$userType?y:g},variables:function(){var t,e,a,n;return"brand"===this.$userType?{organization_id:null===(t=this.$organization)||void 0===t?void 0:t.id}:{recipient_stripe_id:null!==(e=null===(a=this.$user.influencer)||void 0===a?void 0:a.stripe_account_id)&&void 0!==e?e:"paypal|".concat(null===(n=this.$user.influencer)||void 0===n?void 0:n.paypal_account_id)}},update:function(t){var e=this,a=t.payments;return a.map((function(t){return t.review?"brand"===e.$userType?Object(c["a"])(Object(c["a"])({},t),{},{name:t.review.activation.influencer.user.full_name,description:"Activation for "+t.review.activation.campaign.title,email:t.review.activation.influencer.user.email,amount:parseInt(t.charge_data.amount)}):Object(c["a"])(Object(c["a"])({},t),{},{name:t.review.activation.campaign.organization.name,description:"Activation for "+t.review.activation.campaign.title,email:t.review.activation.campaign.managers[0].email,amount:parseInt(t.charge_data.amount)-parseInt(t.charge_data.application_fee_amount)}):t.booking?Object(c["a"])(Object(c["a"])({},t),{},{name:"".concat(t.booking.first_name," ").concat(t.booking.last_name),description:"".concat(t.booking.quantity," ticket").concat(t.booking.quantity>1?"s":""," for ").concat(t.booking.experience.title),email:t.booking.email,amount:parseInt(t.charge_data.metadata.base)}):t.fan_request_booking&&"FULFILLED"===t.fan_request_booking.status?Object(c["a"])(Object(c["a"])({},t),{},{name:t.fan_request_booking.full_name,description:t.fan_request_booking.fan_request.label,email:t.fan_request_booking.email,amount:parseInt(t.charge_data.metadata.base)}):t.digital_product_purchase?Object(c["a"])(Object(c["a"])({},t),{},{name:t.digital_product_purchase.full_name,description:t.digital_product_purchase.digital_product.name,email:t.digital_product_purchase.email,amount:parseInt(t.charge_data.metadata.base)}):null})).filter((function(t){return t}))}}}},v=b,h=a("2877"),w=Object(h["a"])(v,s,o,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d22c0e8.598048da.js.map